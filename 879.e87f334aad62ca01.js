"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[879],{1064:(B,O,t)=>{t.d(O,{V:()=>g}),t(5219),t(2832);class g{constructor(){this.id=0,this.nome="",this.simbolo="",this.codigo=""}}},9952:(B,O,t)=>{t.r(O),t.d(O,{BeneficiarioModule:()=>ae});var d=t(6814),o=t(5597),g=t(2352),m=t(6223),i=t(4685),u=t(1532),v=t(132),b=t(5861),A=t(9296),L=t(2832),C=t(708),Z=t(590),e=t(9291),P=t(8787),y=t(6793),R=t(6434),c=t(5038),M=t(6599),a=t(9901);function p(s,S){if(1&s&&(e.TgZ(0,"p",13)(1,"small"),e._uU(2,"Benefici\xe1rios cadastrados em "),e.TgZ(3,"strong"),e._uU(4),e.qZA()()()),2&s){const n=e.oxw();e.xp6(4),e.Oqu(n.empresaSelected.nome||"Empresa X")}}function h(s,S){1&s&&e._UZ(0,"span",14)}const f=function(){return["cadastrar"]};function N(s,S){1&s&&(e.TgZ(0,"div",15)(1,"a",16)(2,"span",17),e._uU(3," Cadastrar Benefici\xe1rio"),e.qZA()()()),2&s&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,f)))}let J=(()=>{class s{constructor(n,r,l,_){var F=this;this.table=n,this.beneficiarioService=r,this.accountService=l,this.empresaService=_,this.faUsers=Z.FVb,this.maskType=L.O,this.list=[],this.tableLinks=[],this.columns=A.XM,this.subscription=[],this.loading=!1;var re=this.beneficiarioService.list.subscribe(x=>this.list=Object.assign([],x));this.subscription.push(re);var oe=this.beneficiarioService.loading.subscribe(x=>this.loading=x);this.subscription.push(oe);var le=this.empresaService.getEmpresa().subscribe(function(){var x=(0,b.Z)(function*(I){F.empresaSelected=I.empresa,I&&I.id&&(yield(0,C.n)(F.beneficiarioService.getList(!0)))});return function(I){return x.apply(this,arguments)}}());this.subscription.push(le);var ce=this.table.selected.subscribe(x=>{x&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]}],3!=this.accountService.accountValue?.perfilAcesso_Id&&this.tableLinks.push({label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(ce)}ngOnDestroy(){this.subscription.forEach(n=>n.unsubscribe())}getList(){(0,C.n)(this.beneficiarioService.getList(!0))}static#e=this.\u0275fac=function(r){return new(r||s)(e.Y36(P.i),e.Y36(y.i),e.Y36(R.B),e.Y36(c.P))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-list"]],decls:18,vars:14,consts:[[1,"page"],[1,"page__header"],[1,"title-icon","align-items-center"],[3,"icon"],[1,"me-auto"],[1,"page__header-title"],["class","page__header-subtitle",4,"ngIf"],[1,"ms-auto","mt-auto",2,"margin-bottom","7px"],[1,"btn","btn-dark",3,"disabled","click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"page__body"],["topActions",""],[3,"list","topActions","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"page__header-subtitle"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"col-xl-4","col-lg-4","col-md-7","col-sm-6","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",2,"width","-1px",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"]],template:function(r,l){if(1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Benefici\xe1rios"),e.qZA(),e.YNc(7,p,5,1,"p",6),e.qZA(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return l.getList()}),e.YNc(10,h,1,0,"span",9),e._uU(11,"Atualizar"),e.qZA()(),e._UZ(12,"app-empresa-selected"),e.qZA(),e.TgZ(13,"div",10),e.YNc(14,N,4,2,"ng-template",null,11,e.W1O),e._UZ(16,"app-list-shared",12),e.qZA()(),e._UZ(17,"router-outlet")),2&r){const _=e.MAs(15);e.xp6(3),e.Q6J("icon",l.faUsers),e.xp6(4),e.Q6J("ngIf",l.empresaSelected),e.xp6(2),e.Q6J("disabled",l.loading),e.xp6(1),e.Q6J("ngIf",l.loading),e.xp6(6),e.Q6J("list",l.list)("topActions",_)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",l.columns)("tableLinks",l.tableLinks)("selectable",!0)}},dependencies:[d.O5,v.lC,v.rH,o.BN,M.o,a.j]})}return s})();var U=t(8902),T=t(2855),E=t(342),j=t(9324),G=t(2667);const V=["template"],H=["icon"];function w(s,S){if(1&s&&e._UZ(0,"fa-icon",2),2&s){const n=e.oxw();e.Q6J("icon",n.faTrash)}}function z(s,S){if(1&s&&(e.TgZ(0,"div",7)(1,"p",8),e._uU(2),e.qZA()()),2&s){const n=e.oxw(2);e.xp6(2),e.Oqu(n.erro)}}function X(s,S){1&s&&e._UZ(0,"span",9)}function $(s,S){if(1&s){const n=e.EpF();e.TgZ(0,"div")(1,"p",3),e._uU(2,"Tem certeza que deseja excluir esse registro? "),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.YNc(5,z,3,1,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.send())}),e.YNc(7,X,1,0,"span",6),e.TgZ(8,"span"),e._uU(9,"Excluir"),e.qZA()()()}if(2&s){const n=e.oxw();e.xp6(5),e.Q6J("ngIf",n.erro),e.xp6(2),e.Q6J("ngIf",n.loading)}}let k=(()=>{class s{constructor(n,r,l,_){this.activatedRoute=n,this.modalService=r,this.beneficiarioService=l,this.crypto=_,this.faTrash=Z.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new T.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../"],this.modal.title="Excluir registro";var n=this.activatedRoute.params.subscribe(r=>{if(r.beneficiario_id)try{this.id=this.crypto.decrypt(r.beneficiario_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"delete beneficiario")},200)}catch{this.voltar()}else this.voltar()});this.subscription.push(n)}ngOnDestroy(){this.subscription.forEach(n=>n.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,C.n)(this.beneficiarioService.delete(this.id)).then(n=>{this.loading=!1,n.sucesso?(n.objeto?(0,j.O)(this.beneficiarioService,n.objeto):(0,C.n)(this.beneficiarioService.getList()),this.voltar()):this.erro=n.mensagem}).catch(n=>{this.loading=!1,this.erro=(0,E.b)(n)})}static#e=this.\u0275fac=function(r){return new(r||s)(e.Y36(v.gz),e.Y36(T.Z),e.Y36(y.i),e.Y36(G.w))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-delete"]],viewQuery:function(r,l){if(1&r&&(e.Gf(V,5),e.Gf(H,5)),2&r){let _;e.iGM(_=e.CRH())&&(l.template=_.first),e.iGM(_=e.CRH())&&(l.icon=_.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(r,l){1&r&&(e.YNc(0,w,1,1,"ng-template",null,0,e.W1O),e.YNc(2,$,10,2,"ng-template",null,1,e.W1O))},dependencies:[d.O5,o.BN]})}return s})();var K=t(2996),D=t(2951),Q=t(8410),q=t(7280),Y=t(490),W=t(9742);const ee=[{path:"",component:J,title:"Zentech - Benefici\xe1rios",children:[{path:"cadastrar",component:U.U,title:"Zentech - Cadastrar Benefici\xe1rio",data:{modalOrder:1},children:[{path:"banco",component:K.U,title:"Zentech - Cadastrar Banco",data:{modalOrder:2}},{path:"representante",component:D.U,title:"Zentech - Cadastrar Representante",data:{modalOrder:2}},{path:"representante/:representante_id",component:D.U,title:"Zentech - Editar Representante",data:{modalOrder:2}},{path:"representante/excluir/:representante_id",component:Q.T,title:"Zentech - Excluir Representante",data:{modalOrder:2,data:[Y.uU.Admin]},canActivate:[W.p]}]},{path:"editar/:beneficiario_id",title:"Zentech - Editar Benefici\xe1rio",component:U.U,data:{modalOrder:1},children:[{path:"banco",component:K.U,title:"Zentech - Cadastrar Banco",data:{modalOrder:2}},{path:"representante",component:D.U,title:"Zentech - Cadastrar Representante",data:{modalOrder:2}},{path:"representante/:representante_id",component:D.U,title:"Zentech - Editar Representante",data:{modalOrder:2}},{path:"representante/excluir/:representante_id",component:Q.T,title:"Zentech - Excluir Representante",data:{modalOrder:2,data:[Y.uU.Admin]},canActivate:[W.p]}]},{path:"excluir/:beneficiario_id",title:"Zentech - Excluir Benefici\xe1rio",component:k,data:{modalOrder:1,data:[Y.uU.Admin]},canActivate:[W.p]},q.D]}];let te=(()=>{class s{static#e=this.\u0275fac=function(r){return new(r||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(ee),v.Bz]})}return s})();var ie=t(6208),se=t(3735),ne=t(5096);let ae=(()=>{class s{static#e=this.\u0275fac=function(r){return new(r||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({providers:[(0,se.e$)()],imports:[d.ez,te,o.uH,g.kW,m.u5,ie.m,i.U$,u._8,ne.O]})}return s})()},9901:(B,O,t)=>{t.d(O,{j:()=>R});var d=t(5861),o=t(708),g=t(490),m=t(5038),i=t(9291),u=t(6434),v=t(4939),b=t(6814),A=t(6223),L=t(5219),C=t(2352);function Z(c,M){if(1&c&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&c){const a=i.oxw(3);i.xp6(1),i.Oqu(null==a.empresaSelected.empresa?null:a.empresaSelected.empresa.nome)}}function e(c,M){if(1&c&&i.YNc(0,Z,2,1,"span",7),2&c){const a=i.oxw(2);i.Q6J("ngIf",a.empresaSelected.id)}}function P(c,M){if(1&c&&(i.TgZ(0,"p"),i._uU(1),i.qZA(),i.TgZ(2,"p"),i._uU(3),i.qZA()),2&c){const a=M.$implicit;i.xp6(1),i.Oqu(a.nome),i.xp6(2),i.Oqu(a.logo)}}function y(c,M){if(1&c){const a=i.EpF();i.TgZ(0,"div",1)(1,"label",2),i._uU(2,"Selecione a Empresa para carregar dados"),i.qZA(),i.TgZ(3,"p-dropdown",3,4),i.NdJ("ngModelChange",function(h){i.CHM(a);const f=i.oxw();return i.KtG(f.empresaChange(h))})("ngModelChange",function(h){i.CHM(a);const f=i.oxw();return i.KtG(f.empresaSelected.id=h)}),i.YNc(5,e,1,1,"ng-template",5),i.YNc(6,P,4,2,"ng-template",6),i.qZA()()}if(2&c){const a=i.oxw();i.xp6(3),i.Q6J("options",a.empresas)("ngModel",a.empresaSelected.id)("filter",!0)("showClear",!1)("required",!0)}}let R=(()=>{class c{constructor(a,p,h){var f=this;this.empresaService=a,this.accountService=p,this.colors=h,this.empresaSelected=new m.I,this.empresas=[],this.loading=!1,this.Role=g.uU,this.subscription=[];var N=this.accountService.accountSubject.subscribe(function(){var T=(0,d.Z)(function*(E){f.account=E,E&&(1==E.perfilAcesso_Id&&0==f.empresaService.list.value.length&&(yield(0,o.n)(f.empresaService.getList())),(1!=E.perfilAcesso_Id||!f.empresaService.getEmpresa().value.empresa)&&f.empresaService.setEmpresa({id:E.empresa_Id,empresa:E.empresa}))});return function(E){return T.apply(this,arguments)}}());this.subscription.push(N);var J=this.empresaService.getEmpresa().subscribe(T=>{this.empresaSelected=T,T&&this.setColorsJquery()});this.subscription.push(J);var U=this.empresaService.list.subscribe(T=>{this.empresas=T});this.subscription.push(U)}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}empresaChange(a){var p=this;return(0,d.Z)(function*(){if(p.accountService.accountValue&&1==p.accountService.accountValue?.perfilAcesso_Id&&a){0==p.empresas.length&&(yield(0,o.n)(p.empresaService.getList()));var h=p.empresas.find(f=>f.id==a);p.empresaService.setEmpresa({empresa:h,id:a})}})()}setColorsJquery(){this.colors.setColorsJquery(this.empresaSelected.empresa)}static#e=this.\u0275fac=function(p){return new(p||c)(i.Y36(m.P),i.Y36(u.B),i.Y36(v.w))};static#t=this.\u0275cmp=i.Xpm({type:c,selectors:[["app-empresa-selected"]],decls:1,vars:1,consts:[["class","form-group ms-2",4,"ngIf"],[1,"form-group","ms-2"],["for","empresa_Id"],["name","empresa_Id","id","empresa_Id","optionValue","id","filterBy","nome","styleClass","form-control","placeholder","Selecione uma empresa",3,"options","ngModel","filter","showClear","required","ngModelChange"],["empresa_Id","ngModel"],["pTemplate","selectedItem"],["pTemplate","item"],[4,"ngIf"]],template:function(p,h){1&p&&i.YNc(0,y,7,5,"div",0),2&p&&i.Q6J("ngIf",h.account&&1==(null==h.account?null:h.account.perfilAcesso_Id))},dependencies:[b.O5,A.JJ,A.Q7,A.On,L.jx,C.Lt]})}return c})()},9324:(B,O,t)=>{function d(g,m,i="list"){var u=JSON.parse(JSON.stringify(g[i].value)),v=u.findIndex(b=>b.id==m.id);u.splice(v,1),g[i].next(u)}function o(g,m,i="list"){var u=JSON.parse(JSON.stringify(g[i].value));if(m.id){var v=u.findIndex(b=>b.id==m.id);-1==v&&u.push(m),u.splice(v,1,m)}else u.push(m);g[i].next(u)}t.d(O,{O:()=>d,f:()=>o})}}]);