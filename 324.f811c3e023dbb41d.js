"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[324],{9324:(wt,j,p)=>{p.r(j),p.d(j,{PessoaModule:()=>Zt});var e=p(9291),f=p(6814),T=p(4685),V1=p(2352),y1=p(3670),h=p(132);let Z1=(()=>{class t{static#e=this.\u0275fac=function(c){return new(c||t)};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-pessoa"]],decls:1,vars:0,template:function(c,i){1&c&&e._UZ(0,"router-outlet")},dependencies:[h.lC]})}return t})();var k={prefix:"far",iconName:"credit-card",icon:[576,512,[128179,62083,"credit-card-alt"],"f09d","M512 80c8.8 0 16 7.2 16 16v32H48V96c0-8.8 7.2-16 16-16H512zm16 144V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V224H528zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm56 304c-13.3 0-24 10.7-24 24s10.7 24 24 24h48c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm128 0c-13.3 0-24 10.7-24 24s10.7 24 24 24H360c13.3 0 24-10.7 24-24s-10.7-24-24-24H248z"]},V=p(1102),d=p(708),J=p(8787),b=p(2719),H=p(5597),C1=p(6599);const k6=function(){return["importar"]},E6=function(){return["cadastrar"]};function D6(t,n){1&t&&(e.TgZ(0,"div",9)(1,"a",10),e._UZ(2,"img",11),e.TgZ(3,"span",12),e._uU(4," Importar excel"),e.qZA()()(),e.TgZ(5,"div",13)(6,"a",14)(7,"span",12),e._uU(8," Cadastrar Pessoa"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(2,k6)),e.xp6(5),e.Q6J("routerLink",e.DdM(3,E6)))}let J6=(()=>{class t{constructor(a,c){this.table=a,this.pessoaService=c,this.faCreditCard=k,this.list=[],this.tableLinks=[],this.columns=V.V8,this.subscription=[];var i=this.pessoaService.list.subscribe(r=>this.list=Object.assign([],r));this.subscription.push(i),(0,d.n)(this.pessoaService.getList());var o=this.table.selected.subscribe(r=>{r&&(this.tableLinks=[{label:"Cadastrar Saldo",routePath:["cadastrar-saldo"],paramsFieldName:["id"]},{label:"Cadastrar Opera\xe7\xe3o",routePath:["cadastrar-operacao"],paramsFieldName:["id"]},{label:"Detalhes",routePath:["detalhes"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(o)}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(J.i),e.Y36(b.N))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-list"]],decls:14,vars:11,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"me-auto"],[1,"page__header-title"],[1,"page__body"],["topActions",""],[3,"topActions","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"col-xl-4","col-lg-5","col-md-6","col-sm-6","col-12","mx-md-1","mb-2","px-0","ng-star-inserted"],[1,"btn","btn-dark","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",3,"routerLink"],["src","assets/img/icon-excel-white.png","alt","excel.png",1,"me-2"],[2,"margin-top","-1px","margin-bottom","1px"],[1,"col-xl-4","col-lg-5","col-md-5","col-sm-6","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",3,"routerLink"]],template:function(c,i){if(1&c&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Pessoas"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Painel CPF"),e.qZA()()(),e.TgZ(9,"div",6),e.YNc(10,D6,9,4,"ng-template",null,7,e.W1O),e._UZ(12,"app-list-shared",8),e.qZA()(),e._UZ(13,"router-outlet")),2&c){const o=e.MAs(11);e.xp6(3),e.Q6J("icon",i.faCreditCard),e.xp6(9),e.Q6J("topActions",o)("list",i.list)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",i.columns)("tableLinks",i.tableLinks)("selectable",!0)}},dependencies:[h.lC,h.rH,H.BN,C1.o]})}return t})();var v=p(590),C=p(342),x1=p(674),_=p(2855),L=p(2425),m=p(6223),N=p(8839),R6=p(2916);const Y6=["template"],P6=["icon"];function j6(t,n){if(1&t&&e._UZ(0,"fa-icon",2),2&t){const a=e.oxw();e.Q6J("icon",a.faUser)}}function G6(t,n){1&t&&(e.TgZ(0,"small"),e._uU(1,"(autom\xe1tico)"),e.qZA())}function B6(t,n){1&t&&(e.TgZ(0,"small"),e._uU(1,"(manual)"),e.qZA())}function K6(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function W6(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"Remova os espa\xe7os antes e depois do texto."),e.qZA())}function $6(t,n){if(1&t&&(e.TgZ(0,"p",8),e.YNc(1,W6,2,0,"span",9),e.qZA()),2&t){e.oxw(2);const a=e.MAs(11);e.xp6(1),e.Q6J("ngIf","^\\S(.*\\S)?$"==a.errors.pattern.requiredPattern)}}function X6(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,K6,2,0,"p",36),e.YNc(2,$6,2,1,"p",36),e.qZA()),2&t){e.oxw();const a=e.MAs(11);e.xp6(1),e.Q6J("ngIf",a.errors.required),e.xp6(1),e.Q6J("ngIf",a.errors.pattern)}}function e0(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function a0(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"CPF inv\xe1lido."),e.qZA())}function t0(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"CPF j\xe1 cadastrado"),e.qZA())}function c0(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,e0,2,0,"p",36),e.YNc(2,a0,2,0,"p",36),e.YNc(3,t0,2,0,"p",36),e.qZA()),2&t){e.oxw();const a=e.MAs(20);e.xp6(1),e.Q6J("ngIf",a.errors.required),e.xp6(1),e.Q6J("ngIf",a.errors.mask||a.errors.invalid),e.xp6(1),e.Q6J("ngIf",a.errors.jaCadastrado)}}function o0(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"Preencha CPF corretamente."),e.qZA())}function n0(t,n){if(1&t&&e.YNc(0,o0,2,0,"p",36),2&t){e.oxw();const a=e.MAs(20);e.Q6J("ngIf",a.touched&&(a.invalid||a.errors))}}function r0(t,n){1&t&&e._UZ(0,"span",37)}function s0(t,n){1&t&&(e.TgZ(0,"div",5)(1,"p"),e._uU(2,"Consultando BR API"),e.qZA()())}function l0(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function p0(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,l0,2,0,"p",36),e.qZA()),2&t){e.oxw();const a=e.MAs(41);e.xp6(1),e.Q6J("ngIf",a.errors.required)}}function d0(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function m0(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"E-mail inv\xe1lido."),e.qZA())}function f0(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,d0,2,0,"p",36),e.YNc(2,m0,2,0,"p",36),e.qZA()),2&t){e.oxw();const a=e.MAs(48);e.xp6(1),e.Q6J("ngIf",a.errors.required),e.xp6(1),e.Q6J("ngIf",a.errors.email)}}function u0(t,n){if(1&t&&(e.TgZ(0,"p",8),e._uU(1),e.ALo(2,"json"),e.qZA()),2&t){e.oxw(2);const a=e.MAs(48);e.xp6(1),e.Oqu(e.lcZ(2,1,a.errors))}}function h0(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,u0,3,3,"p",36),e.qZA()),2&t){e.oxw();const a=e.MAs(55);e.xp6(1),e.Q6J("ngIf",a.errors)}}function _0(t,n){if(1&t&&(e.TgZ(0,"p",8),e._uU(1),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Oqu(a.erro)}}function g0(t,n){1&t&&(e.TgZ(0,"p",8),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar."),e.qZA())}function v0(t,n){if(1&t&&(e.TgZ(0,"div",38),e.YNc(1,_0,2,1,"p",36),e.YNc(2,g0,2,0,"p",36),e.qZA()),2&t){e.oxw();const a=e.MAs(1),c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.erro),e.xp6(1),e.Q6J("ngIf",a.invalid&&!c.erro)}}function C0(t,n){1&t&&e._UZ(0,"span",37)}function x0(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.MAs(1),o=e.oxw();return e.KtG(o.send(i))}),e.TgZ(2,"div",5)(3,"div",6)(4,"label",7),e._uU(5,"Nome Completo: "),e.TgZ(6,"span",8),e._uU(7,"*"),e.qZA(),e.YNc(8,G6,2,0,"small",9),e.YNc(9,B6,2,0,"small",9),e.qZA(),e.TgZ(10,"input",10,11),e.NdJ("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.nome=i)})("change",function(){e.CHM(a);const i=e.MAs(11),o=e.oxw();return e.KtG(o.objeto.nome=i.value.trim())}),e.qZA(),e.YNc(12,X6,3,2,"div",9),e.qZA()(),e.TgZ(13,"div",5)(14,"div",12)(15,"label",13),e._uU(16,"CPF: "),e.TgZ(17,"span",8),e._uU(18,"*"),e.qZA()(),e.TgZ(19,"input",14,15),e.NdJ("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.cpf=i)})("change",function(){e.CHM(a);const i=e.MAs(20),o=e.oxw();return e.KtG(o.validaCPF(i,i.value))}),e.qZA(),e.YNc(21,c0,4,3,"div",9),e.qZA(),e.TgZ(22,"div",16)(23,"label",17),e._uU(24,"Data de Nascimento: "),e.TgZ(25,"span",8),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"app-input-date",18),e.NdJ("valueChanges",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.dataNascimento=i)}),e.qZA(),e.YNc(28,n0,1,1,"ng-template",null,19,e.W1O),e.qZA(),e.TgZ(30,"div",20)(31,"button",21),e.NdJ("click",function(){e.CHM(a);const i=e.MAs(20),o=e.oxw();return e.KtG(o.procuraPessoa(i))}),e.YNc(32,r0,1,0,"span",22),e.TgZ(33,"span"),e._uU(34,"Consultar API"),e.qZA()()()(),e.YNc(35,s0,3,0,"div",23),e.TgZ(36,"div",5)(37,"div",6)(38,"label",24),e._uU(39,"Nome da M\xe3e:"),e.qZA(),e.TgZ(40,"input",25,26),e.NdJ("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.nomeMae=i)})("change",function(){e.CHM(a);const i=e.MAs(41),o=e.oxw();return e.KtG(o.objeto.nomeMae=i.value.trim())}),e.qZA(),e.YNc(42,p0,2,1,"div",9),e.qZA()(),e.TgZ(43,"div",5)(44,"div",6)(45,"label",27),e._uU(46,"E-mail: "),e.qZA(),e.TgZ(47,"input",28,29),e.NdJ("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.email=i)}),e.qZA(),e.YNc(49,f0,3,2,"div",9),e.qZA()(),e.TgZ(50,"div",5)(51,"div",6)(52,"label",27),e._uU(53,"Observa\xe7\xf5es: "),e.qZA(),e.TgZ(54,"textarea",30,31),e.NdJ("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.obs=i)})("change",function(){e.CHM(a);const i=e.MAs(55),o=e.oxw();return e.KtG(o.objeto.obs=i.value.trim())}),e._uU(56,"                "),e.qZA(),e.YNc(57,h0,2,1,"div",9),e.qZA()(),e.TgZ(58,"div",32)(59,"div",33),e.YNc(60,v0,3,2,"div",34),e.TgZ(61,"button",35),e.YNc(62,C0,1,0,"span",22),e.TgZ(63,"span"),e._uU(64,"Salvar"),e.qZA()()()()()}if(2&t){const a=e.MAs(1),c=e.MAs(11),i=e.MAs(20),o=e.MAs(41),r=e.MAs(48),s=e.MAs(55),l=e.oxw();e.xp6(8),e.Q6J("ngIf",!l.liberaNome),e.xp6(1),e.Q6J("ngIf",l.liberaNome),e.xp6(1),e.Q6J("ngModel",l.objeto.nome)("readonly",!l.liberaNome),e.xp6(2),e.Q6J("ngIf",c.touched&&c.errors),e.xp6(7),e.ekj("form-control-loading",l.loadingConsultaApi),e.Q6J("ngModel",l.objeto.cpf)("readonly",l.loadingConsultaApi),e.xp6(2),e.Q6J("ngIf",i.touched&&i.errors),e.xp6(6),e.Q6J("valueInput",l.objeto.dataNascimento)("inputId","dataNascimento")("showErrorMessage",!0)("required",!0)("readonly",null!=i.errors||l.loadingConsultaApi)("max","hoje"),e.xp6(4),e.ekj("mt-4","lg"==l.screen||"xl"==l.screen||"md"==l.screen)("mt-2","sm"==l.screen),e.Q6J("disabled",i.errors||!l.objeto.dataNascimento),e.xp6(1),e.Q6J("ngIf",l.loadingConsultaApi),e.xp6(3),e.Q6J("ngIf",l.loadingConsultaApi),e.xp6(5),e.Q6J("ngModel",l.objeto.nomeMae),e.xp6(2),e.Q6J("ngIf",o.touched&&o.errors),e.xp6(5),e.Q6J("email",!0)("ngModel",l.objeto.email)("pattern",l.emailPattern),e.xp6(2),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(5),e.Q6J("ngModel",l.objeto.obs),e.xp6(3),e.Q6J("ngIf",s.touched&&s.errors),e.xp6(3),e.Q6J("ngIf",l.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||l.loading||l.loadingConsultaApi),e.xp6(1),e.Q6J("ngIf",l.loading)}}let b0=(()=>{class t{constructor(a,c,i,o,r){this.activatedRoute=a,this.toastr=c,this.modalService=i,this.pessoaService=o,this.mobile=r,this.faUser=v.ILF,this.objeto=new V.Zo,this.erro="",this.loading=!1,this.subscription=[],this.emailPattern=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,this.loadingConsultaApi=!1,this.screen=x1.I.lg,this.liberaNome=!1,this.modal=new _.u,this.minDate=new Date("1900-01-01"),this.maxDate=new Date,this.mobile.value.subscribe(s=>this.screen=s)}ngAfterViewInit(){this.modal.title="Cadastrar Pessoa",this.modal.template=this.template,this.modal.style={"max-width":"600px"},this.modal.routerBack=["../"],this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.icon=this.icon,setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"create pessoa")},200)}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}validaData(a){console.log(a)}validaCPF(a,c){if(a){if(!c||0==c)return void a.control.setErrors({required:!0});if("cpf"==a.name){var i=function Q6(t){var n=t.toString(),a=parseInt(n);if(Number.isNaN(a)||n.length>11||11!=(n=n.padStart(11,"0")).length)return!1;var c=!0;for(let s=1;s<11;s++)n[s]!=n[0]&&(c=!1);if(c||"12345678909"==n)return!1;var i=Array.of(11);for(let s=0;s<11;s++)i[s]=parseInt(n[s]);var o=0;for(let s=0;s<9;s++)o+=(10-s)*i[s];var r=o%11;if(1==r||0==r){if(0!=i[9])return!1}else if(i[9]!=11-r)return!1;o=0;for(let s=0;s<10;s++)o+=(11-s)*i[s];if(1==(r=o%11)||0==r){if(0!=i[10])return!1}else if(i[10]!=11-r)return!1;return!0}(c);if(!i)return void a.control.setErrors({invalid:!0})}if([].filter(s=>s.cpf==c).length>0)return void a.control.setErrors({jaCadastrado:!0});a.control.setErrors(null)}}procuraPessoa(a){a.invalid||!this.objeto.dataNascimento||(this.loadingConsultaApi=!0,this.erro="",this.liberaNome=!1,(0,d.n)(this.pessoaService.getPessoa(this.objeto.cpf,this.objeto.dataNascimento)).then(c=>{if(this.loadingConsultaApi=!1,"object"==typeof c){var i=JSON.parse(JSON.stringify(c));"ERRO"==i.ERRO?(this.objeto.brConsulta_Id_Consulta=i.ID_CONSULTA,this.objeto.brConsulta_Erro=i.ERRO,this.liberaNome=!0,this.erro=i.ERRO,this.toastr.error(i.ERRO)):i.ERRO||(this.objeto.dataNascimento=this.formataData(i.DATA_NASC).substring(0,10),this.objeto.brConsulta_Data_Cap=this.formataData(i.DATA_CAP),this.objeto.brConsulta_Hora_Cap=this.formataData(i.DATA_CAP,i.HORA_CAP),this.objeto.dataInscricao=this.formataData(i.DATA_INSCRICAO),this.objeto.nome=i.NOME,this.objeto.digito=i.DIGITO,this.objeto.brConsulta_Controle=i.CONTROLE,this.objeto.brConsulta_Id_Consulta=i.ID_CONSULTA,this.objeto.situacao=i.SITUACAO,this.objeto.brConsulta_Status=i.STATUS),this.objeto.dataAtualizacaoBRConsulta=(new Date).toISOString(),this.liberaNome=!1}else this.liberaNome=!0,this.objeto.brConsulta_Erro=c,this.erro=c,this.toastr.error(c)}).catch(c=>{console.log("erro",c),this.loadingConsultaApi=!1,this.liberaNome=!0,this.erro=(0,C.b)(c)}))}send(a){this.loading=!0,this.erro="",(0,d.n)(this.pessoaService.create(this.objeto)).then(c=>{this.loading=!1,c.sucesso?(this.voltar(),(0,d.n)(this.pessoaService.getList())):this.erro=c.detalhes}).catch(c=>{this.loading=!1,this.erro=(0,C.b)(c)})}formataData(a,c,i){var o=0,r=0,s=0,l=a.split("/"),Z=parseInt(l[2]),S=parseInt(l[1])-1,P=parseInt(l[0]);if(c){var g=c.split(":");o=parseInt(g[0]),r=parseInt(g[1]),s=parseInt(g[2])}return new Date(Z,S,P,o,r,s).toISOString()}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(h.gz),e.Y36(L._W),e.Y36(_.Z),e.Y36(b.N),e.Y36(x1.h))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-create"]],viewQuery:function(c,i){if(1&c&&(e.Gf(Y6,5),e.Gf(P6,5)),2&c){let o;e.iGM(o=e.CRH())&&(i.template=o.first),e.iGM(o=e.CRH())&&(i.icon=o.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"px-2",3,"ngSubmit"],["form","ngForm"],[1,"row"],[1,"form-group","col-lg-12","col-md-12","col-sm-12","col-12"],["for","nome"],[1,"text-danger"],[4,"ngIf"],["type","text","name","nome","id","nome","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","readonly","ngModelChange","change"],["nome","ngModel"],[1,"form-group","col-lg-5","col-md-5","col-sm-6","col-12"],["for","cpf"],["type","text","name","cpf","id","cpf","mask","000.000.000-00","placeholder","000.000.000-00","required","","pattern","\\d{3}\\.?\\d{3}\\.?\\d{3}-?\\d{2}",1,"form-control",3,"ngModel","readonly","ngModelChange","change"],["cpf","ngModel"],[1,"form-group","col-lg-4","col-md-4","col-sm-6","col-12"],["for","dataNascimento"],["type","date",3,"valueInput","inputId","showErrorMessage","required","readonly","max","valueChanges"],["erroCPF",""],[1,"form-group","col-lg-3","col-md-3","col-sm-12","col-12"],["type","button",1,"btn","btn-dark","w-100",2,"height","35px",3,"disabled","click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["class","row",4,"ngIf"],["for","nomeMae"],["type","text","name","nomeMae","id","nomeMae","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["nomeMae","ngModel"],["for","email"],["type","email","name","email","id","email",1,"form-control",3,"email","ngModel","pattern","ngModelChange"],["email","ngModel"],["name","obs","id","obs","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["obs","ngModel"],[1,"row","mt-1","mt-2"],[1,"d-flex","align-items-start","justify-content-end"],["class","col-lg-10 col-md-8 col-12 mb-2 me-3 px-0",4,"ngIf"],[1,"btn","btn-primary","ms-auto",3,"disabled"],["class","text-danger",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"col-lg-10","col-md-8","col-12","mb-2","me-3","px-0"]],template:function(c,i){1&c&&(e.YNc(0,j6,1,1,"ng-template",null,0,e.W1O),e.YNc(2,x0,65,34,"ng-template",null,1,e.W1O))},dependencies:[f.O5,H.BN,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.c5,m.on,m.On,m.F,N.hx,R6.K,f.Ts]})}return t})();var M=p(2667),A=p(2828);const H0=["template"],z0=["icon"];function M0(t,n){if(1&t&&e._UZ(0,"fa-icon",2),2&t){const a=e.oxw();e.Q6J("icon",a.faTrash)}}function A0(t,n){if(1&t&&(e.TgZ(0,"div",7)(1,"p",8),e._uU(2),e.qZA()()),2&t){const a=e.oxw(2);e.xp6(2),e.Oqu(a.erro)}}function T0(t,n){1&t&&e._UZ(0,"span",9)}function V0(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div")(1,"p",3),e._uU(2,"Tem certeza que deseja excluir esse registro? "),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.YNc(5,A0,3,1,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.send())}),e.YNc(7,T0,1,0,"span",6),e.TgZ(8,"span"),e._uU(9,"Excluir"),e.qZA()()()}if(2&t){const a=e.oxw();e.xp6(5),e.Q6J("ngIf",a.erro),e.xp6(2),e.Q6J("ngIf",a.loading)}}let y0=(()=>{class t{constructor(a,c,i,o,r){this.activatedRoute=a,this.modalService=c,this.crypto=i,this.pessoaService=o,this.pessoaOperacaoService=r,this.faTrash=v.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new _.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../"],this.modal.title="Excluir registro";var a=this.activatedRoute.params.subscribe(c=>{if(c.pessoa_id)try{this.id=this.crypto.decrypt(c.pessoa_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"delete pessoa")},200)}catch{this.voltar()}else this.voltar()});this.subscription.push(a)}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,d.n)(this.pessoaService.delete(this.id)).then(a=>{if(this.loading=!1,a.sucesso){var c=this.pessoaService.list.value,i=c.findIndex(o=>o.id==this.id);-1!=i&&(c.splice(i,1),this.pessoaService.list.next(c)),(0,d.n)(this.pessoaService.getList()),(0,d.n)(this.pessoaOperacaoService.getList()),this.voltar()}else this.erro=a.mensagem}).catch(a=>{this.loading=!1,this.erro=(0,C.b)(a)})}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(h.gz),e.Y36(_.Z),e.Y36(M.w),e.Y36(b.N),e.Y36(A.m))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete"]],viewQuery:function(c,i){if(1&c&&(e.Gf(H0,5),e.Gf(z0,5)),2&c){let o;e.iGM(o=e.CRH())&&(i.template=o.first),e.iGM(o=e.CRH())&&(i.icon=o.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(c,i){1&c&&(e.YNc(0,M0,1,1,"ng-template",null,0,e.W1O),e.YNc(2,V0,10,2,"ng-template",null,1,e.W1O))},dependencies:[f.O5,H.BN]})}return t})();var Z0=p(5753),y=p(1225),z=p(5219),Q=p(4844),x=p(2832);class S0{constructor(){this.pessoa_Id=0,this.valorConcedido=""}}var b1=[{field:"dataConcessao",header:"Data de Concess\xe3o",maskType:x.O.undefined,filterType:x.vA.text,filterDisplay:x.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:z.a6.DATE_IS},{field:"valorConcedido",header:"Valor Concedido",maskType:x.O.number,filterType:x.vA.numeric,decimal:"1.2",filterDisplay:x.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:z.a6.CONTAINS},{field:"usuarioCadastroNome",header:"Cadastrado Por",maskType:x.O.undefined,filterType:x.vA.text,filterDisplay:x.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,showOperator:!1,filterMatchMode:z.a6.EQUALS}],H1=p(3714),z1=p(1532);const w0=function(){return["saldo/cadastrar"]};function L0(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"a",10),e._uU(4," Cadastrar Saldo "),e.qZA()(),e.TgZ(5,"div",11),e._UZ(6,"i",12),e.TgZ(7,"input",13,14),e.NdJ("input",function(){e.CHM(a);const i=e.MAs(8);e.oxw();const o=e.MAs(1);return e.KtG(o.filterGlobal(i.value,"contains"))})("enter",function(){e.CHM(a);const i=e.MAs(8);e.oxw();const o=e.MAs(1);return e.KtG(o.filterGlobal(i.value,"contains"))}),e.qZA()()()()}2&t&&(e.xp6(3),e.Q6J("routerLink",e.DdM(1,w0)))}function N0(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"p-calendar",26),e.NdJ("ngModelChange",function(i){e.CHM(a);const o=e.oxw(5);return e.KtG(o.currentDateFilter=i)})("onSelect",function(i){const r=e.CHM(a).filterCallback;return e.KtG(r(i))}),e.qZA()}if(2&t){const a=e.oxw(5);e.Q6J("ngModel",a.currentDateFilter)("showIcon",!0)}}function I0(t,n){1&t&&e.YNc(0,N0,1,2,"ng-template",25)}function q0(t,n){if(1&t&&(e.TgZ(0,"th",19)(1,"div",20),e._UZ(2,"span",21)(3,"p-sortIcon",22),e.TgZ(4,"p-columnFilter",23),e.YNc(5,I0,1,0,null,24),e.qZA()()()),2&t){const a=n.$implicit;e.Q6J("pSortableColumn",a.field),e.xp6(2),e.Q6J("innerHTML",a.header,e.oJD),e.xp6(1),e.Q6J("field",a.field),e.xp6(1),e.Q6J("type",a.filterType)("field",a.field)("display",a.filterDisplay)("matchMode",a.filterMatchMode)("showOperator",a.showOperator)("showMatchModes",a.filterShowMatchMode)("showAddButton",a.filterShowAddButton),e.xp6(1),e.Q6J("ngIf","date"==a.filterType)}}function F0(t,n){if(1&t&&(e.TgZ(0,"tr",16),e.YNc(1,q0,6,11,"th",17),e._UZ(2,"th",18),e.qZA()),2&t){const a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",a)}}function U0(t,n){if(1&t&&e.YNc(0,F0,3,1,"tr",15),2&t){const a=e.oxw();e.Q6J("ngIf",a.saldos.length>0)}}function O0(t,n){if(1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&t){const a=e.oxw().$implicit,c=e.oxw().$implicit;e.xp6(1),e.ekj("text-danger",c[a.field]<0),e.xp6(1),e.hij(" ",e.gM2(3,3,c[a.field],"BRL","",a.decimal)," ")}}function k0(t,n){if(1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&t){const a=e.oxw().$implicit,c=e.oxw().$implicit;e.xp6(1),e.ekj("text-danger",c[a.field]<0),e.xp6(1),e.hij(" ",e.gM2(3,3,c[a.field],"BRL",a.moeda,a.decimal)," ")}}function E0(t,n){if(1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.ALo(3,"currency"),e.qZA()()),2&t){const a=e.oxw().$implicit,c=e.oxw().$implicit;e.xp6(1),e.ekj("text-danger",c[a.field]<0),e.xp6(1),e.hij(" ",e.gM2(3,3,c[a.field],"BRL","",a.decimal),"% ")}}function D0(t,n){if(1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&t){const a=e.oxw().$implicit,c=e.oxw().$implicit;e.xp6(2),e.hij(" ",c[a.field]," ")}}function J0(t,n){if(1&t&&(e.TgZ(0,"td",29),e.YNc(1,O0,4,8,"div",30),e.YNc(2,k0,4,8,"div",30),e.YNc(3,E0,4,8,"div",30),e.YNc(4,D0,3,1,"div",31),e.qZA()),2&t){const a=n.$implicit,c=n.index,i=e.oxw(2);e.ekj("ps-4",0==c),e.Q6J("ngSwitch",a.maskType),e.xp6(1),e.Q6J("ngSwitchCase",i.maskType.number),e.xp6(1),e.Q6J("ngSwitchCase",i.maskType.money),e.xp6(1),e.Q6J("ngSwitchCase",i.maskType.percentage)}}const Q0=function(t){return["saldo/excluir",t]};function R0(t,n){if(1&t&&(e.TgZ(0,"a",32),e._uU(1,"Excluir"),e.qZA()),2&t){const a=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,Q0,a.idEncrypted))}}function Y0(t,n){if(1&t&&(e.TgZ(0,"tr"),e.YNc(1,J0,5,6,"td",27),e.TgZ(2,"td",18),e.YNc(3,R0,2,3,"a",28),e.qZA()()),2&t){const a=n.$implicit,c=n.columns,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",c),e.xp6(2),e.Q6J("ngIf",i.lastIdDelete==a.id)}}function P0(t,n){if(1&t&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td")(3,"strong"),e._uU(4,"Total: "),e.qZA(),e._uU(5),e.ALo(6,"currency"),e.qZA(),e._UZ(7,"td",18),e.qZA()),2&t){const a=e.oxw();e.xp6(5),e.hij(" ",e.gM2(6,1,a.limiteConcedido,"BRL","","1.2")," ")}}function j0(t,n){1&t&&(e.TgZ(0,"p",35),e._UZ(1,"span",36),e.TgZ(2,"span"),e._uU(3,"Carregando... "),e.qZA()())}function G0(t,n){1&t&&(e.TgZ(0,"p")(1,"span"),e._uU(2,"Nenhum registro encontrado."),e.qZA()())}function B0(t,n){if(1&t&&(e.TgZ(0,"tr")(1,"td",33),e.YNc(2,j0,4,0,"p",34),e.YNc(3,G0,3,0,"p",24),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.Q6J("ngIf",a.loading),e.xp6(1),e.Q6J("ngIf",!a.loading)}}let K0=(()=>{class t{constructor(a){this.table=a,this.maskType=x.O,this.faDollarSign=v.egO,this.columns=b1,this.filters=b1.map(c=>c.field),this.saldos=[],this.loading=!1,this.limiteConcedido=0,this.lastIdDelete=0,this.subscription=[]}ngAfterViewChecked(){this.table.currentPageChange()}ngOnChanges(a){a.saldos&&(this.saldos=a.saldos.currentValue,this.formata()),a.loading&&(this.loading=a.loading.currentValue),a.limiteConcedido&&(this.limiteConcedido=a.limiteConcedido.currentValue),a.lastIdDelete&&(this.lastIdDelete=a.lastIdDelete.currentValue)}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}getCellData(a,c){return this.table.formatCellData(a,c)}formata(){this.table.loading.next(!0);var a=JSON.parse(JSON.stringify(this.saldos));a.every(c=>(this.columns.every(i=>{try{c[i.field]=this.table.formatCellData(c,i)}catch(o){console.error(o)}return i}),c)),console.log(a),this.saldos=Object.assign([],a),this.table.loading.next(!1)}getOptionValue(a,c,i){if(c.values){var o=this.table.getCellValue(a,c);return c.values.find(s=>s.value==o)[i]}return null}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(J.i))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-saldo"]],inputs:{saldos:"saldos",loading:"loading",limiteConcedido:"limiteConcedido",lastIdDelete:"lastIdDelete"},features:[e.TTD],decls:7,vars:9,consts:[["responsiveLayout","scroll","currentPageReportTemplate","Exibindo {first} de {totalRecords} resultado(s)",1,"table","table-striped",3,"columns","value","rowHover","paginator","showCurrentPageReport","globalFilterFields","filterDelay"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"d-flex","flex-column-reverse","flex-sm-row","flex-wrap","px-0","py-0","w-100"],[1,"align-items-center","col-12","col-lg-9","col-md-10","col-sm-9","col-xl-6","d-flex","flex-column-reverse","flex-sm-row","flex-wrap","justify-content-end","mb-sm-0","ms-auto","px-0"],[1,"mx-1","mb-2","me-md-2","col-xl-3","col-lg-4","col-md-4","col-sm-12","col-12","px-0"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center",3,"routerLink"],[1,"p-input-icon-left","col-xl-6","col-lg-4","col-md-5","col-sm-4","col-12","mb-2"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Pesquisar",1,"form-control",3,"input","enter"],["filter",""],["class","grey",4,"ngIf"],[1,"grey"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[1,"td-actions"],[3,"pSortableColumn"],[1,"d-flex","align-items-baseline","justify-content-between"],[1,"me-auto",3,"innerHTML"],[3,"field"],[3,"type","field","display","matchMode","showOperator","showMatchModes","showAddButton"],[4,"ngIf"],["pTemplate","filter"],["dateFormat","dd/mm/yy",3,"ngModel","showIcon","ngModelChange","onSelect"],[3,"ps-4","ngSwitch",4,"ngFor","ngForOf"],["class","btn btn-dark",3,"routerLink",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"btn","btn-dark",3,"routerLink"],["colspan","7",1,"py-2","px-3","border-0","border-light"],["class","py-1 px-1",4,"ngIf"],[1,"py-1","px-1"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(c,i){1&c&&(e.TgZ(0,"p-table",0,1),e.YNc(2,L0,9,2,"ng-template",2),e.YNc(3,U0,1,1,"ng-template",3),e.YNc(4,Y0,4,2,"ng-template",4),e.YNc(5,P0,8,6,"ng-template",5),e.YNc(6,B0,4,2,"ng-template",6),e.qZA()),2&c&&(e.ekj("mt-2",0==i.saldos.length),e.Q6J("columns",i.columns)("value",i.saldos)("rowHover",!0)("paginator",!1)("showCurrentPageReport",!0)("globalFilterFields",i.filters)("filterDelay",100))},dependencies:[f.sg,f.O5,f.RF,f.n9,f.ED,h.rH,T.iA,z.jx,T.lQ,T.fz,T.xl,m.JJ,m.On,H1.o,z1.f,f.H9]})}return t})();var I=p(8145);const W0=["shared"],$0=function(){return["operacao","cadastrar"]};function X0(t,n){1&t&&(e.TgZ(0,"div",4)(1,"a",5)(2,"span",6),e._uU(3," Cadastrar Opera\xe7\xe3o"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,$0)))}function ea(t,n){if(1&t&&(e.TgZ(0,"tr"),e._UZ(1,"td")(2,"td"),e.TgZ(3,"td")(4,"p",8),e._uU(5,"Total: "),e.TgZ(6,"strong"),e._uU(7),e.ALo(8,"currency"),e.qZA()()(),e._UZ(9,"td")(10,"td"),e.qZA()),2&t){const a=e.oxw(2);e.xp6(7),e.hij("",e.gM2(8,1,a.limiteUtilizado,"BRL","","1.2")," ")}}function aa(t,n){if(1&t&&e.YNc(0,ea,11,6,"tr",7),2&t){const a=e.oxw();e.Q6J("ngIf",!a.loading)}}let ta=(()=>{class t{constructor(a){this.table=a,this.columns=I.c5,this.tableLinks=[],this.subscription=[],this.list=[],this.pessoa=new V.Zo,this.pessoaIdEncrypted=new V.Zo,this.limiteUtilizado=0,this.loading=!1;var c=this.table.selected.subscribe(i=>{i&&(this.tableLinks=[{label:"Detalhes",routePath:["operacao","detalhes"],paramsFieldName:["id"]},{label:"Editar",routePath:["operacao","editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["operacao","excluir"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(c)}ngOnChanges(a){a.list&&(this.list=a.list.currentValue),a.pessoa&&(this.pessoa=a.pessoa.currentValue),a.limiteUtilizado&&(this.limiteUtilizado=a.limiteUtilizado.currentValue),a.loading&&(this.loading=a.loading.currentValue)}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(J.i))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-operacao"]],viewQuery:function(c,i){if(1&c&&e.Gf(W0,5),2&c){let o;e.iGM(o=e.CRH())&&(i.shared=o.first)}},inputs:{list:"list",pessoa:"pessoa",pessoaIdEncrypted:"pessoaIdEncrypted",limiteUtilizado:"limiteUtilizado",loading:"loading"},features:[e.TTD],decls:6,vars:12,consts:[["topActions",""],[3,"topActions","tableFooter","list","showResultLength","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],["shared",""],["tableFooter",""],[1,"col-xl-5","col-lg-5","col-md-4","col-sm-12","col-12","mb-2","me-md-2","mx-md-1","px-0"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"],[4,"ngIf"],[1,"me-2","pe-5","text-right"]],template:function(c,i){if(1&c&&(e.YNc(0,X0,4,2,"ng-template",null,0,e.W1O),e._UZ(2,"app-list-shared",1,2),e.YNc(4,aa,1,1,"ng-template",null,3,e.W1O)),2&c){const o=e.MAs(1),r=e.MAs(5);e.xp6(2),e.Q6J("topActions",o)("tableFooter",r)("list",i.list)("showResultLength",!1)("filterLink",!1)("filterTable",!0)("paginator",!1)("sortTable",!0)("menuTable",!0)("columns",i.columns)("tableLinks",i.tableLinks)("selectable",!0)}},dependencies:[f.O5,h.rH,C1.o,f.H9]})}return t})();function ca(t,n){if(1&t&&(e._UZ(0,"fa-icon",3),e.TgZ(1,"span"),e._uU(2,"Dados Cadastrais"),e.qZA()),2&t){const a=e.oxw();e.Q6J("icon",a.faIdCard)}}function ia(t,n){if(1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.Oqu(a.erroPessoa)}}function oa(t,n){if(1&t&&(e.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"label",19),e._uU(4,"Id:"),e.qZA(),e._UZ(5,"input",20),e.qZA(),e.TgZ(6,"div",21)(7,"label",22),e._uU(8,"Nome Completo:"),e.qZA(),e._UZ(9,"input",23),e.qZA(),e.TgZ(10,"div",18)(11,"label",24),e._uU(12,"CPF:"),e.qZA(),e._UZ(13,"input",25),e.ALo(14,"mask"),e.qZA(),e.TgZ(15,"div",18)(16,"label",26),e._uU(17,"Data de Nascimento:"),e.qZA(),e._UZ(18,"input",27),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"div",18)(21,"label",28),e._uU(22,"Telefone:"),e.qZA(),e._UZ(23,"input",29),e.ALo(24,"mask"),e.qZA(),e.TgZ(25,"div",21)(26,"label",30),e._uU(27,"Nome da M\xe3e:"),e.qZA(),e._UZ(28,"input",31),e.qZA(),e.TgZ(29,"div",18)(30,"label",32),e._uU(31,"Data de Cadastro:"),e.qZA(),e._UZ(32,"input",33),e.ALo(33,"date"),e.qZA(),e.TgZ(34,"div",18)(35,"label",34),e._uU(36,"Cadastrado Por:"),e.qZA(),e._UZ(37,"input",35),e.qZA(),e.TgZ(38,"div",21)(39,"label",36),e._uU(40,"E-mail:"),e.qZA(),e._UZ(41,"input",37),e.qZA()(),e.TgZ(42,"div",17)(43,"div",38)(44,"label",39),e._uU(45,"Observa\xe7\xf5es: "),e.qZA(),e.TgZ(46,"textarea",40),e._uU(47,"                    "),e.qZA()()(),e.TgZ(48,"div",17)(49,"div",41)(50,"label",42),e._uU(51,"Situa\xe7\xe3o CPF: "),e.qZA(),e._UZ(52,"input",43),e.qZA(),e.TgZ(53,"div",41)(54,"label",44),e._uU(55,"D\xedgito: "),e.qZA(),e._UZ(56,"input",45),e.qZA(),e.TgZ(57,"div",41)(58,"label",46),e._uU(59,"Data Inscri\xe7\xe3o: "),e.qZA(),e._UZ(60,"input",47),e.ALo(61,"date"),e.qZA(),e.TgZ(62,"div",41)(63,"label",48),e._uU(64,"Limite Dispon\xedvel: "),e.qZA(),e._UZ(65,"input",49),e.ALo(66,"currency"),e.qZA(),e.TgZ(67,"div",41)(68,"label",50),e._uU(69,"Limite Concedido: "),e.qZA(),e._UZ(70,"input",51),e.ALo(71,"currency"),e.qZA(),e.TgZ(72,"div",41)(73,"label",52),e._uU(74,"Limite Utilizado: "),e.qZA(),e._UZ(75,"input",53),e.ALo(76,"currency"),e.qZA()(),e.TgZ(77,"div",54)(78,"h6"),e._uU(79,"Dados Excel"),e.qZA()(),e.TgZ(80,"div",17)(81,"div",41)(82,"label",55),e._uU(83,"Status: "),e.qZA(),e._UZ(84,"input",56),e.qZA(),e.TgZ(85,"div",41)(86,"label",57),e._uU(87,"Id Num: "),e.qZA(),e._UZ(88,"input",58),e.qZA(),e.TgZ(89,"div",41)(90,"label",59),e._uU(91,"Controle: "),e.qZA(),e._UZ(92,"input",60),e.qZA(),e.TgZ(93,"div",41)(94,"label",61),e._uU(95,"Data Capta\xe7\xe3o: "),e.qZA(),e._UZ(96,"input",62),e.ALo(97,"date"),e.qZA(),e.TgZ(98,"div",41)(99,"label",63),e._uU(100,"Hora Capta\xe7\xe3o: "),e.qZA(),e._UZ(101,"input",64),e.ALo(102,"date"),e.qZA(),e.TgZ(103,"div",18)(104,"label",65),e._uU(105,"Erro: "),e.qZA(),e._UZ(106,"input",66),e.qZA()(),e.TgZ(107,"div",54)(108,"h6"),e._uU(109,"Dados BR Consulta"),e.qZA()(),e.TgZ(110,"div",17)(111,"div",41)(112,"label",67),e._uU(113,"Status: "),e.qZA(),e._UZ(114,"input",68),e.qZA(),e.TgZ(115,"div",41)(116,"label",69),e._uU(117,"Id Consulta: "),e.qZA(),e._UZ(118,"input",70),e.qZA(),e.TgZ(119,"div",41)(120,"label",71),e._uU(121,"Controle: "),e.qZA(),e._UZ(122,"input",72),e.qZA(),e.TgZ(123,"div",41)(124,"label",73),e._uU(125,"Data Capta\xe7\xe3o: "),e.qZA(),e._UZ(126,"input",74),e.ALo(127,"date"),e.qZA(),e.TgZ(128,"div",41)(129,"label",75),e._uU(130,"Hora Capta\xe7\xe3o: "),e.qZA(),e._UZ(131,"input",76),e.ALo(132,"date"),e.qZA(),e.TgZ(133,"div",18)(134,"label",77),e._uU(135,"Erro: "),e.qZA(),e._UZ(136,"input",78),e.qZA()()()),2&t){const a=e.oxw();e.xp6(5),e.Q6J("value",a.pessoa.id?a.pessoa.id:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.nome?a.pessoa.nome:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.cpf?e.xi3(14,29,a.pessoa.cpf,"000.000.000-00"):"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.dataNascimento?e.xi3(19,32,a.pessoa.dataNascimento,"dd/MM/yyyy"):"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.telefone?e.xi3(24,35,a.pessoa.telefone,"(00) 9.0000-0000 || (11) 0000-0000 || 9.0000-0000 || 0000-0000"):"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.nomeMae?a.pessoa.nomeMae:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.dataCadastro?e.xi3(33,38,a.pessoa.dataCadastro,"dd/MM/yyyy"):"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.cadastradoPor?a.pessoa.cadastradoPor:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.email?a.pessoa.email:"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.obs?a.pessoa.obs:"N/A")("rows",a.pessoa.obs?2:1),e.xp6(6),e.Q6J("value",a.pessoa.situacao?a.pessoa.situacao:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.digito?a.pessoa.digito:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.dataInscricao?e.xi3(61,41,a.pessoa.dataInscricao,"dd/MM/yyyy"):"N/A"),e.xp6(5),e.Q6J("value",e.gM2(66,44,a.pessoa.saldoAtual,"BRL","","1.2")),e.xp6(5),e.Q6J("value",e.gM2(71,49,a.limiteConcedido,"BRL","","1.2")),e.xp6(5),e.Q6J("value",e.gM2(76,54,a.limiteUtilizado,"BRL","","1.2")),e.xp6(9),e.Q6J("value",a.pessoa.excel_Status?a.pessoa.excel_Status:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.excel_IdNum?a.pessoa.excel_IdNum:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.excel_Controle?a.pessoa.excel_Controle:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.excel_Data_Cap?e.xi3(97,59,a.pessoa.excel_Data_Cap,"dd/MM/yyyy"):"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.excel_Hora_Cap?e.xi3(102,62,a.pessoa.excel_Hora_Cap,"HH:mm"):"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.excel_Erro?a.pessoa.excel_Erro:"N/A"),e.xp6(8),e.Q6J("value",a.pessoa.brConsulta_Status?a.pessoa.brConsulta_Status:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.brConsulta_Id_Consulta?a.pessoa.brConsulta_Id_Consulta:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.brConsulta_Controle?a.pessoa.brConsulta_Controle:"N/A"),e.xp6(4),e.Q6J("value",a.pessoa.brConsulta_Data_Cap?e.xi3(127,65,a.pessoa.brConsulta_Data_Cap,"dd/MM/yyyy"):"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.brConsulta_Hora_Cap?e.xi3(132,68,a.pessoa.brConsulta_Hora_Cap,"HH:mm"):"N/A"),e.xp6(5),e.Q6J("value",a.pessoa.brConsulta_Erro?a.pessoa.brConsulta_Erro:"N/A")}}function na(t,n){if(1&t&&(e._UZ(0,"fa-icon",3),e.TgZ(1,"span"),e._uU(2,"Saldo"),e.qZA()),2&t){const a=e.oxw();e.Q6J("icon",a.faDollarSign)}}function ra(t,n){if(1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.Oqu(a.erroSaldo)}}function sa(t,n){if(1&t&&e._UZ(0,"app-saldo",79),2&t){const a=e.oxw();e.Q6J("saldos",a.saldos)("loading",a.loadingSaldo)("limiteConcedido",a.limiteConcedido)("lastIdDelete",a.lastIdDeleteSaldo)}}function la(t,n){if(1&t&&(e._UZ(0,"fa-icon",3),e.TgZ(1,"span"),e._uU(2,"Opera\xe7\xf5es"),e.qZA()),2&t){const a=e.oxw();e.Q6J("icon",a.faDollarSign)}}function pa(t,n){if(1&t&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&t){const a=e.oxw();e.xp6(2),e.Oqu(a.erroOperacoes)}}function da(t,n){if(1&t&&e._UZ(0,"app-operacao",80),2&t){const a=e.oxw();e.Q6J("list",a.operacoes)("loading",a.loadingOperacoes)("limiteUtilizado",a.limiteUtilizado)}}let ma=(()=>{class t{constructor(a,c,i,o,r,s){this.activatedRoute=a,this.pessoaService=c,this.pessoaSaldoService=i,this.pessoaOperacaoService=o,this.crypto=r,this.datepipe=s,this.faIdCard=v.Ukp,this.faChevronCircleLeft=v.jio,this.faDollarSign=v.egO,this.erro="",this.loading=!1,this.subscription=[],this.activeIndex=0,this.pessoa=new V.Zo,this.loadingPessoa=!0,this.erroPessoa="",this.saldos=[],this.loadingSaldo=!0,this.erroSaldo="",this.operacoes=[],this.loadingOperacoes=!0,this.erroOperacoes="",this.limiteConcedido=0,this.limiteUtilizado=0,this.lastIdDeleteSaldo=0,this.activeIndex=parseInt(localStorage.getItem("tabIndex")??"0"),this.tabChanged(this.activeIndex);var l=this.pessoaService.object.subscribe(g=>this.pessoa=g);this.subscription.push(l);var Z=this.pessoaSaldoService.list.subscribe(g=>{this.saldos=g.map(u=>(u.dataConcessao=this.datepipe.transform(u.dataConcessao,"dd/MM/yyyy HH:mm","pt-BR"),u.idEncrypted=this.crypto.encrypt(u.id)??"",u)).sort((u,St)=>u.id-St.id),this.lastIdDeleteSaldo=g.length>0?g[g.length-1].id:0,this.calculaLimiteConcedido()});this.subscription.push(Z);var S=this.pessoaOperacaoService.listOperacaoPorPessoa.subscribe(g=>{this.operacoes=Object.assign([],g),this.calculaLimiteUtilizado()});this.subscription.push(S);var P=this.activatedRoute.params.subscribe(g=>{g.pessoa_id&&(this.loadingPessoa=!0,this.loadingSaldo=!0,this.pessoa.id=this.crypto.decrypt(g.pessoa_id),(0,d.n)(this.pessoaService.get(this.pessoa.id)).then(u=>{this.pessoa=u}).catch(u=>{this.erroPessoa=(0,C.b)(u)}).finally(()=>this.loadingPessoa=!1),(0,d.n)(this.pessoaSaldoService.getList(this.pessoa.id)).then(u=>{this.saldos=u,this.calculaLimiteConcedido()}).catch(u=>{this.erroSaldo=(0,C.b)(u)}).finally(()=>this.loadingSaldo=!1),(0,d.n)(this.pessoaOperacaoService.getListById(this.pessoa.id)).then(u=>{this.operacoes=u,this.calculaLimiteUtilizado()}).catch(u=>{this.erroOperacoes=(0,C.b)(u)}).finally(()=>this.loadingOperacoes=!1))});this.subscription.push(P)}ngAfterViewInit(){}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}tabChanged(a){(0,Z0.Z)(a)}calculaLimiteConcedido(){this.limiteConcedido=this.saldos.length>0?this.saldos.map(a=>a.valorConcedido).reduce((a,c)=>a+c):0}calculaLimiteUtilizado(){var a=this.operacoes.filter(c=>"Liberado"==c.statusOperacao);this.limiteUtilizado=a.length>0?a.map(c=>c.valorOperacao).reduce((c,i)=>c+i):0}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(h.gz),e.Y36(b.N),e.Y36(y.R),e.Y36(A.m),e.Y36(M.w),e.Y36(f.uU))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-details"]],decls:31,vars:9,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"me-auto"],[1,"page__header-title"],["routerLink","./../../",1,"link","text-dark"],[1,"me-2"],[1,"page__body"],[1,"content"],[3,"activeIndex","activeIndexChange"],["pTemplate","header"],[1,"px-4"],[4,"ngIf"],[1,"px-2"],[3,"saldos","loading","limiteConcedido","lastIdDelete",4,"ngIf"],[3,"list","loading","limiteUtilizado",4,"ngIf"],[1,"row"],[1,"form-group","col-xl-2"],["for","id",2,"white-space","nowrap"],["type","text","name","id","id","id","readonly","",1,"form-control",3,"value"],[1,"form-group","col-xl-4"],["for","nome",2,"white-space","nowrap"],["type","text","name","nome","id","nome","readonly","",1,"form-control",3,"value"],["for","cpf",2,"white-space","nowrap"],["type","text","name","cpf","id","cpf","readonly","",1,"form-control",3,"value"],["for","dataNascimento",2,"white-space","nowrap"],["type","text","name","dataNascimento","id","dataNascimento","readonly","",1,"form-control",3,"value"],["for","telefone",2,"white-space","nowrap"],["type","text","name","telefone","id","telefone","readonly","",1,"form-control",3,"value"],["for","nomeMae",2,"white-space","nowrap"],["type","text","name","nomeMae","id","nomeMae","readonly","",1,"form-control",3,"value"],["for","dataCadastro",2,"white-space","nowrap"],["type","text","name","dataCadastro","id","dataCadastro","readonly","",1,"form-control",3,"value"],["for","cadastradoPor",2,"white-space","nowrap"],["type","text","name","cadastradoPor","id","cadastradoPor","readonly","",1,"form-control",3,"value"],["for","email",2,"white-space","nowrap"],["type","text","name","email","id","email","readonly","",1,"form-control",3,"value"],[1,"form-group","col-12"],["for","obs",2,"white-space","nowrap"],["name","obs","id","obs","readonly","",1,"form-control",3,"value","rows"],[1,"form-group","col-xl-1"],["for","situacao",2,"white-space","nowrap"],["name","situacao","id","situacao","readonly","",1,"form-control",3,"value"],["for","digito",2,"white-space","nowrap"],["name","digito","id","digito","readonly","",1,"form-control",3,"value"],["for","dataInscricao",2,"white-space","nowrap"],["name","dataInscricao","id","dataInscricao","readonly","",1,"form-control",3,"value"],["for","saldoAtual",2,"white-space","nowrap"],["name","saldoAtual","id","saldoAtual","readonly","",1,"form-control",3,"value"],["for","limiteConcedido",2,"white-space","nowrap"],["name","limiteConcedido","id","limiteConcedido","readonly","",1,"form-control",3,"value"],["for","limiteUtilizado",2,"white-space","nowrap"],["name","limiteUtilizado","id","limiteUtilizado","readonly","",1,"form-control",3,"value"],[1,"row","mt-2","mb-2","border-top","pt-2"],["for","excel_Status",2,"white-space","nowrap"],["name","excel_Status","id","excel_Status","readonly","",1,"form-control",3,"value"],["for","excel_IdNum",2,"white-space","nowrap"],["name","excel_IdNum","id","excel_IdNum","readonly","",1,"form-control",3,"value"],["for","excel_Controle",2,"white-space","nowrap"],["name","excel_Controle","id","excel_Controle","readonly","",1,"form-control",3,"value"],["for","excel_Data_Cap",2,"white-space","nowrap"],["name","excel_Data_Cap","id","excel_Data_Cap","readonly","",1,"form-control",3,"value"],["for","excel_Hora_Cap",2,"white-space","nowrap"],["name","excel_Hora_Cap","id","excel_Hora_Cap","readonly","",1,"form-control",3,"value"],["for","excel_Erro",2,"white-space","nowrap"],["name","excel_Erro","id","excel_Erro","readonly","",1,"form-control",3,"value"],["for","brConsulta_Status",2,"white-space","nowrap"],["name","brConsulta_Status","id","brConsulta_Status","readonly","",1,"form-control",3,"value"],["for","brConsulta_Id_Consulta",2,"white-space","nowrap"],["name","brConsulta_Id_Consulta","id","brConsulta_Id_Consulta","readonly","",1,"form-control",3,"value"],["for","brConsulta_Controle",2,"white-space","nowrap"],["name","brConsulta_Controle","id","brConsulta_Controle","readonly","",1,"form-control",3,"value"],["for","brConsulta_Data_Cap",2,"white-space","nowrap"],["name","brConsulta_Data_Cap","id","brConsulta_Data_Cap","readonly","",1,"form-control",3,"value"],["for","brConsulta_Hora_Cap",2,"white-space","nowrap"],["name","brConsulta_Hora_Cap","id","brConsulta_Hora_Cap","readonly","",1,"form-control",3,"value"],["for","brConsulta_Erro",2,"white-space","nowrap"],["name","brConsulta_Erro","id","brConsulta_Erro","readonly","",1,"form-control",3,"value"],[3,"saldos","loading","limiteConcedido","lastIdDelete"],[3,"list","loading","limiteUtilizado"]],template:function(c,i){1&c&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Detalhes"),e.qZA(),e.TgZ(7,"a",6)(8,"span",7),e._UZ(9,"fa-icon",3),e.qZA(),e.TgZ(10,"span"),e._uU(11,"Voltar"),e.qZA()()()(),e.TgZ(12,"div",8)(13,"div",9)(14,"p-tabView",10),e.NdJ("activeIndexChange",function(r){return i.tabChanged(r)}),e.TgZ(15,"p-tabPanel"),e.YNc(16,ca,3,1,"ng-template",11),e.TgZ(17,"div",12),e.YNc(18,ia,3,1,"div",13),e.YNc(19,oa,137,71,"div",13),e.qZA()(),e.TgZ(20,"p-tabPanel"),e.YNc(21,na,3,1,"ng-template",11),e.TgZ(22,"div",14),e.YNc(23,ra,3,1,"div",13),e.YNc(24,sa,1,4,"app-saldo",15),e.qZA()(),e.TgZ(25,"p-tabPanel"),e.YNc(26,la,3,1,"ng-template",11),e.TgZ(27,"div",14),e.YNc(28,pa,3,1,"div",13),e.YNc(29,da,1,3,"app-operacao",16),e.qZA()()()()()(),e._UZ(30,"router-outlet")),2&c&&(e.xp6(3),e.Q6J("icon",i.faIdCard),e.xp6(6),e.Q6J("icon",i.faChevronCircleLeft),e.xp6(5),e.Q6J("activeIndex",i.activeIndex),e.xp6(4),e.Q6J("ngIf",i.erroPessoa),e.xp6(1),e.Q6J("ngIf",!i.erroPessoa),e.xp6(4),e.Q6J("ngIf",i.erroSaldo),e.xp6(1),e.Q6J("ngIf",!i.erroSaldo),e.xp6(4),e.Q6J("ngIf",i.erroOperacoes),e.xp6(1),e.Q6J("ngIf",!i.erroOperacoes))},dependencies:[f.O5,h.lC,h.rH,z.jx,H.BN,Q.xf,Q.x4,K0,ta,f.H9,f.uU,N.Iq],styles:[".form-control[_ngcontent-%COMP%]{font-size:13px;padding:4px 8px}.p-tabview[_ngcontent-%COMP%]{display:flex;flex-flow:column;width:100%}  .p-tabview-nav-container{flex:1 0 20%;display:flex}  .p-tabview-panels{flex:1 0 80%;border:1px rgb(var(--grey)) solid;padding:15px 0;background-color:#f7f7f7}  .p-tabview-nav{display:flex;flex-flow:row;margin:0;padding:0;width:100%}  .p-tabview-nav li{background-color:rgb(var(--secondary));display:flex;align-items:center}  .p-tabview-nav li a{color:#fff;line-height:1;height:100%;width:100%;display:flex;padding:10px;background-color:rgb(var(--grey))}  .p-tabview-nav li a>*:not(span){margin-right:10px}  .p-tabview-nav li.p-tabview-ink-bar{display:none}  .p-tabview-nav li:nth-child(2n){background:rgb(var(--secondary))}  .p-tabview-nav li a:hover{color:#fff;background-color:rgb(var(--grey))}  .p-tabview-nav li.p-highlight a{background-color:rgb(var(--secondary))}"]})}return t})();const fa=["template"],ua=["icon"];function ha(t,n){if(1&t&&e._UZ(0,"fa-icon",2),2&t){const a=e.oxw();e.Q6J("icon",a.faTrash)}}function _a(t,n){if(1&t&&(e.TgZ(0,"div",7)(1,"p",8),e._uU(2),e.qZA()()),2&t){const a=e.oxw(2);e.xp6(2),e.Oqu(a.erro)}}function ga(t,n){1&t&&e._UZ(0,"span",9)}function va(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div")(1,"p",3),e._uU(2,"Tem certeza que deseja excluir esse registro? "),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.YNc(5,_a,3,1,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.send())}),e.YNc(7,ga,1,0,"span",6),e.TgZ(8,"span"),e._uU(9,"Excluir"),e.qZA()()()}if(2&t){const a=e.oxw();e.xp6(5),e.Q6J("ngIf",a.erro),e.xp6(2),e.Q6J("ngIf",a.loading)}}let Ca=(()=>{class t{constructor(a,c,i,o,r){this.activatedRoute=a,this.modalService=c,this.pessoaSaldoService=i,this.crypto=o,this.toastr=r,this.faTrash=v.$aW,this.id=0,this.pessoa_Id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new _.u}ngAfterViewInit(){this.modal.title="Excluir Saldo",this.modal.template=this.template,this.modal.style={"max-width":"500px"},this.modal.routerBack=["../../../"],this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.activatedRoute=this.activatedRoute,this.modal.icon=this.icon;var a=this.activatedRoute.params.subscribe(s=>{s.saldo_id?this.id=this.crypto.decrypt(s.saldo_id):this.voltar()});this.subscription.push(a);var c=this.activatedRoute.parent?.snapshot.paramMap.has("pessoa_id"),i=this.activatedRoute.snapshot.paramMap.has("pessoa_id"),o=c?this.activatedRoute.parent?.params:i?this.activatedRoute.params:this.voltar();if(o){var r=o.subscribe(s=>{s.pessoa_id?(this.pessoa_Id=this.crypto.decrypt(s.pessoa_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"moeda")},200)):this.voltar()});this.subscription.push(r)}else this.voltar()}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,d.n)(this.pessoaSaldoService.delete(this.id)).then(a=>{this.loading=!1,a.sucesso?((0,d.n)(this.pessoaSaldoService.getList(this.pessoa_Id)),this.voltar()):this.erro=a.mensagem}).catch(a=>{this.loading=!1,this.erro=(0,C.b)(a)})}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(h.gz),e.Y36(_.Z),e.Y36(y.R),e.Y36(M.w),e.Y36(L._W))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete-saldo"]],viewQuery:function(c,i){if(1&c&&(e.Gf(fa,5),e.Gf(ua,5)),2&c){let o;e.iGM(o=e.CRH())&&(i.template=o.first),e.iGM(o=e.CRH())&&(i.icon=o.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(c,i){1&c&&(e.YNc(0,ha,1,1,"ng-template",null,0,e.W1O),e.YNc(2,va,10,2,"ng-template",null,1,e.W1O))},dependencies:[f.O5,H.BN]})}return t})();var M1=p(6044);const xa=["template"],ba=["icon"];function Ha(t,n){if(1&t&&e._UZ(0,"fa-icon",2),2&t){const a=e.oxw();e.Q6J("icon",a.faDollarSign)}}function za(t,n){if(1&t&&(e.TgZ(0,"p",8),e._uU(1),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Oqu(a.erro)}}function Ma(t,n){if(1&t&&(e.TgZ(0,"div",14),e.YNc(1,za,2,1,"p",15),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",a.erro)}}function Aa(t,n){1&t&&e._UZ(0,"span",16)}function Ta(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.send())}),e.TgZ(2,"div",5)(3,"div",6)(4,"label",7),e._uU(5,"Valor Concedido: "),e.TgZ(6,"span",8),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"app-input-number",9),e.NdJ("valueChanges",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.valorConcedido=i)}),e.qZA()()(),e.TgZ(9,"div",10),e.YNc(10,Ma,2,1,"div",11),e.TgZ(11,"button",12),e.YNc(12,Aa,1,0,"span",13),e.TgZ(13,"span"),e._uU(14,"Salvar"),e.qZA()()()()}if(2&t){const a=e.MAs(1),c=e.oxw();e.xp6(8),e.Q6J("valueInput",c.objeto.valorConcedido)("inputId","valorConcedido")("mask","separator.2")("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!1),e.xp6(2),e.Q6J("ngIf",c.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||c.loading),e.xp6(1),e.Q6J("ngIf",c.loading)}}let A1=(()=>{class t{constructor(a,c,i,o,r,s){this.activatedRoute=a,this.modalService=c,this.pessoaOperacaoService=i,this.pessoaSaldoService=o,this.pessoaService=r,this.crypto=s,this.faDollarSign=v.egO,this.objeto=new S0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new _.u}ngAfterViewInit(){this.modal.title="Cadastrar Saldo",this.modal.template=this.template,this.modal.style={"max-width":"500px"},this.modal.routerBack=["../../"],this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.icon=this.icon;var a=this.activatedRoute.parent?.snapshot.paramMap.has("pessoa_id"),c=this.activatedRoute.snapshot.paramMap.has("pessoa_id"),i=a?this.activatedRoute.parent?.params:c?this.activatedRoute.params:this.voltar();if(i){var o=i.subscribe(r=>{r.pessoa_id?(this.objeto.pessoa_Id=this.crypto.decrypt(r.pessoa_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"create saldo")},200)):this.voltar()});this.subscription.push(o)}}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,d.n)(this.pessoaSaldoService.create(this.objeto)).then(a=>{(0,d.n)(this.pessoaSaldoService.getList(this.objeto.pessoa_Id)),(0,d.n)(this.pessoaOperacaoService.getList()),(0,d.n)(this.pessoaService.getList()),(0,d.n)(this.pessoaService.get(this.objeto.pessoa_Id)),this.voltar(),this.loading=!1}).catch(a=>{this.loading=!1,this.erro=(0,C.b)(a)})}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(h.gz),e.Y36(_.Z),e.Y36(A.m),e.Y36(y.R),e.Y36(b.N),e.Y36(M.w))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-create-saldo"]],viewQuery:function(c,i){if(1&c&&(e.Gf(xa,5),e.Gf(ba,5)),2&c){let o;e.iGM(o=e.CRH())&&(i.template=o.first),e.iGM(o=e.CRH())&&(i.icon=o.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"form-row"],[1,"form-group","col-12"],["for","valorConcedido"],[1,"text-danger"],[3,"valueInput","inputId","mask","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","valueChanges"],[1,"d-flex","align-items-start","flex-wrap","p-0","mt-1"],["class","m-0 me-3",4,"ngIf"],[1,"btn","btn-primary","me-0","ms-auto",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","me-3"],["class","text-danger",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(c,i){1&c&&(e.YNc(0,Ha,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Ta,15,10,"ng-template",null,1,e.W1O))},dependencies:[f.O5,H.BN,m._Y,m.JL,m.F,M1.l]})}return t})();const Va=["template"],ya=["icon"];function Za(t,n){1&t&&(e.O4$(),e.TgZ(0,"svg",2),e._UZ(1,"path",3)(2,"path",4)(3,"path",5)(4,"path",6),e.qZA())}function Sa(t,n){if(1&t&&(e.TgZ(0,"div",12)(1,"label",29),e._uU(2,"Data: "),e.TgZ(3,"span",14),e._uU(4,"*"),e.qZA()(),e._UZ(5,"input",30),e.ALo(6,"date"),e.qZA()),2&t){const a=e.oxw(2);e.xp6(5),e.Q6J("value",e.xi3(6,1,a.objeto.data,"dd/MM/yyyy hh:mm"))}}function wa(t,n){1&t&&(e.TgZ(0,"p",14),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function La(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,wa,2,0,"p",31),e.qZA()),2&t){e.oxw();const a=e.MAs(11);e.xp6(1),e.Q6J("ngIf",a.errors.required)}}function Na(t,n){if(1&t&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.Q6J("ngValue",a.id),e.xp6(1),e.Oqu(a.name)}}function Ia(t,n){1&t&&(e.TgZ(0,"p",14),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function qa(t,n){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ia,2,0,"p",31),e.qZA()),2&t){e.oxw();const a=e.MAs(25);e.xp6(1),e.Q6J("ngIf",a.errors.required)}}function Fa(t,n){if(1&t&&(e.TgZ(0,"p",14),e._uU(1),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Oqu(a.erro)}}function Ua(t,n){1&t&&(e.TgZ(0,"p",14),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar."),e.qZA())}function Oa(t,n){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,Fa,2,1,"p",31),e.YNc(2,Ua,2,0,"p",31),e.qZA()),2&t){e.oxw();const a=e.MAs(1),c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.erro),e.xp6(1),e.Q6J("ngIf",a.invalid&&!c.erro)}}function ka(t,n){1&t&&e._UZ(0,"span",33)}function Ea(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.send())}),e.TgZ(2,"div",9)(3,"div",10),e.YNc(4,Sa,7,4,"div",11),e.TgZ(5,"div",12)(6,"label",13),e._uU(7,"N\xba Opera\xe7\xe3o: "),e.TgZ(8,"span",14),e._uU(9,"*"),e.qZA()(),e.TgZ(10,"input",15,16),e.NdJ("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.num_Op=i)}),e.qZA(),e.YNc(12,La,2,1,"div",17),e.qZA(),e.TgZ(13,"div",12)(14,"label",18),e._uU(15,"Valor: "),e.TgZ(16,"span",14),e._uU(17,"*"),e.qZA()(),e.TgZ(18,"app-input-number",19),e.NdJ("valueChanges",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.valor=i)}),e.qZA()(),e.TgZ(19,"div",12)(20,"label",20),e._uU(21,"Status: "),e.TgZ(22,"span",14),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"select",21,22),e.NdJ("ngModelChange",function(i){e.CHM(a);const o=e.oxw();return e.KtG(o.objeto.operacao_Status_Id=i)}),e.TgZ(26,"option",23),e._uU(27,"Selecione"),e.qZA(),e.YNc(28,Na,2,2,"option",24),e.qZA(),e.YNc(29,qa,2,1,"div",17),e.qZA()()(),e.TgZ(30,"div",25),e.YNc(31,Oa,3,2,"div",26),e.TgZ(32,"button",27),e.YNc(33,ka,1,0,"span",28),e.TgZ(34,"span"),e._uU(35,"Salvar"),e.qZA()()()()}if(2&t){const a=e.MAs(1),c=e.MAs(11),i=e.MAs(25),o=e.oxw();e.xp6(4),e.Q6J("ngIf",o.isEditPage),e.xp6(6),e.Q6J("ngModel",o.objeto.num_Op),e.xp6(2),e.Q6J("ngIf",c.touched&&c.errors),e.xp6(6),e.Q6J("valueInput",o.objeto.valor)("inputId","valor")("mask","separator.2")("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!1),e.xp6(6),e.ekj("form-control-loading",o.loadingStatus),e.Q6J("ngModel",o.objeto.operacao_Status_Id),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.status),e.xp6(1),e.Q6J("ngIf",i.touched&&i.errors),e.xp6(2),e.Q6J("ngIf",o.erro||a.invalid),e.xp6(1),e.Q6J("disabled",a.invalid||o.loading),e.xp6(1),e.Q6J("ngIf",o.loading)}}let R=(()=>{class t{constructor(a,c,i,o,r,s,l,Z){this.activatedRoute=a,this.modalService=c,this.pessoaService=i,this.pessoaSaldoService=o,this.pessoaOperacaoService=r,this.crypto=s,this.datepipe=l,this.toastr=Z,this.objeto=new I.fs,this.erro="",this.loading=!1,this.subscription=[],this.status=[],this.loadingStatus=!0,this.isEditPage=!1,this.modal=new _.u,(0,d.n)(this.pessoaOperacaoService.getStatus()).then(S=>{this.loadingStatus=!1,this.status=S})}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"600px"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../"];var a=this.activatedRoute.parent?.snapshot.paramMap.has("pessoa_id"),c=this.activatedRoute.snapshot.paramMap.has("pessoa_id");if(a||c){var i=a?this.activatedRoute.parent?.params:c?this.activatedRoute.params:void 0;if(i){var o=i.subscribe(s=>{s.pessoa_id?this.objeto.pessoa_Id=this.crypto.decrypt(s.pessoa_id):this.voltar()});this.subscription.push(o)}o=this.activatedRoute.params.subscribe(r=>{r.operacao_id?(this.objeto.id=this.crypto.decrypt(r.operacao_id),this.modal.title="Editar Opera\xe7\xe3o",this.modal.routerBack=["../../../"],this.isEditPage=!0,(0,d.n)(this.pessoaOperacaoService.get(this.objeto.id)).then(l=>{this.loading=!1,l.num_Op=l.num_Op?l.num_Op.toString().padStart(4,"0"):"",this.objeto=l,setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"moeda")},200)}).catch(l=>{this.loading=!1,this.voltar()})):(this.modal.title="Cadastrar Opera\xe7\xe3o",this.modal.routerBack=["../../"],this.isEditPage=!1,this.objeto.data=this.datepipe.transform(new Date,"yyyy-MM-ddThh:mm"),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"moeda")},200))}),this.subscription.push(o)}else this.voltar()}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}request(){return(0,d.n)(0==this.objeto.id?this.pessoaOperacaoService.create(this.objeto):this.pessoaOperacaoService.edit(this.objeto))}send(){this.loading=!0,this.erro="",this.request().then(a=>{1==a.sucesso?((0,d.n)(this.pessoaService.getList()),(0,d.n)(this.pessoaService.get(this.objeto.pessoa_Id)),(0,d.n)(this.pessoaSaldoService.getList(this.objeto.pessoa_Id)),(0,d.n)(this.pessoaOperacaoService.getListById(this.objeto.pessoa_Id)),(0,d.n)(this.pessoaOperacaoService.getList()),this.voltar()):(this.erro=a.mensagem,this.toastr.error(a.mensagem)),this.loading=!1}).catch(a=>{this.loading=!1,this.erro=(0,C.b)(a)})}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(h.gz),e.Y36(_.Z),e.Y36(b.N),e.Y36(y.R),e.Y36(A.m),e.Y36(M.w),e.Y36(f.uU),e.Y36(L._W))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-operacao"]],viewQuery:function(c,i){if(1&c&&(e.Gf(Va,5),e.Gf(ya,5)),2&c){let o;e.iGM(o=e.CRH())&&(i.template=o.first),e.iGM(o=e.CRH())&&(i.icon=o.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cash-coin"],["fill-rule","evenodd","d","M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"],["d","M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"],["d","M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"],["d","M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"px-2"],[1,"row"],["class","form-group col-md-6 col-sm-6 col-12",4,"ngIf"],[1,"form-group","col-md-6","col-sm-6","col-12"],["for","num_Op"],[1,"text-danger"],["type","text","name","num_Op","id","num_Op","mask","0000","placeholder","0000","required","",1,"form-control",3,"ngModel","ngModelChange"],["num_Op","ngModel"],[4,"ngIf"],["for","valor"],[3,"valueInput","inputId","mask","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","valueChanges"],["for","operacao_Status_Id"],["name","operacao_Status_Id","id","operacao_Status_Id","required","",1,"form-control",3,"ngModel","ngModelChange"],["operacao_Status_Id","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","align-items-start","flex-wrap","p-0","mt-1"],["class","m-0 me-3",4,"ngIf"],[1,"btn","btn-primary","me-0","ms-auto",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["for","data"],["type","text","name","data","id","data","disabled","",1,"form-control",3,"value"],["class","text-danger",4,"ngIf"],[1,"m-0","me-3"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(c,i){1&c&&(e.YNc(0,Za,5,0,"ng-template",null,0,e.W1O),e.YNc(2,Ea,36,19,"ng-template",null,1,e.W1O))},dependencies:[f.sg,f.O5,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.Q7,m.On,m.F,N.hx,M1.l,f.uU]})}return t})();const Da=["template"],Ja=["icon"];function Qa(t,n){if(1&t&&e._UZ(0,"fa-icon",2),2&t){const a=e.oxw();e.Q6J("icon",a.faTrash)}}function Ra(t,n){if(1&t&&(e.TgZ(0,"div",7)(1,"p",8),e._uU(2),e.qZA()()),2&t){const a=e.oxw(2);e.xp6(2),e.Oqu(a.erro)}}function Ya(t,n){1&t&&e._UZ(0,"span",9)}function Pa(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"div")(1,"p",3),e._uU(2,"Tem certeza que deseja excluir esse registro? "),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.YNc(5,Ra,3,1,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.send())}),e.YNc(7,Ya,1,0,"span",6),e.TgZ(8,"span"),e._uU(9,"Excluir"),e.qZA()()()}if(2&t){const a=e.oxw();e.xp6(5),e.Q6J("ngIf",a.erro),e.xp6(2),e.Q6J("ngIf",a.loading)}}let ja=(()=>{class t{constructor(a,c,i,o,r,s){this.activatedRoute=a,this.modalService=c,this.pessoaOperacaoService=i,this.pessoaSaldoService=o,this.pessoaService=r,this.crypto=s,this.faTrash=v.$aW,this.id=0,this.pessoa_Id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new _.u}ngAfterViewInit(){this.modal.title="Excluir Opera\xe7\xe3o",this.modal.template=this.template,this.modal.style={"max-width":"500px"},this.modal.routerBack=["../../../"],this.modal.activatedRoute=this.activatedRoute,this.modal.icon=this.icon,this.modal.routerBackOptions={relativeTo:this.activatedRoute};var a=this.activatedRoute.parent.params.subscribe(i=>{i.pessoa_id?this.pessoa_Id=this.crypto.decrypt(i.pessoa_id):this.voltar()});this.subscription.push(a);var c=this.activatedRoute.params.subscribe(i=>{i.operacao_id?(this.id=this.crypto.decrypt(i.operacao_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"moeda")},200)):this.voltar()});this.subscription.push(c)}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,d.n)(this.pessoaOperacaoService.delete(this.id)).then(a=>{this.loading=!1,a.sucesso?((0,d.n)(this.pessoaService.getList()),(0,d.n)(this.pessoaSaldoService.getList(this.pessoa_Id)),(0,d.n)(this.pessoaOperacaoService.getListById(this.pessoa_Id)),this.voltar()):this.erro=a.mensagem}).catch(a=>{this.loading=!1,this.erro=(0,C.b)(a)})}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(h.gz),e.Y36(_.Z),e.Y36(A.m),e.Y36(y.R),e.Y36(b.N),e.Y36(M.w))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete-operacao"]],viewQuery:function(c,i){if(1&c&&(e.Gf(Da,5),e.Gf(Ja,5)),2&c){let o;e.iGM(o=e.CRH())&&(i.template=o.first),e.iGM(o=e.CRH())&&(i.icon=o.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(c,i){1&c&&(e.YNc(0,Qa,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Pa,10,2,"ng-template",null,1,e.W1O))},dependencies:[f.O5,H.BN]})}return t})();var T1=p(5861);const Ga=["template"],Ba=["icon"];function Ka(t,n){1&t&&(e.O4$(),e.TgZ(0,"svg",2),e._UZ(1,"path",3)(2,"path",4),e.qZA())}function Wa(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"form",null,5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"label",9),e._uU(6,"Nome:"),e.qZA(),e._UZ(7,"input",10),e.qZA(),e.TgZ(8,"div",11)(9,"label",12),e._uU(10,"CPF:"),e.qZA(),e._UZ(11,"input",13),e.qZA()(),e.TgZ(12,"div",7)(13,"div",14)(14,"label",15),e._uU(15,"Data da Opera\xe7\xe3o:"),e.qZA(),e._UZ(16,"input",16),e.qZA(),e.TgZ(17,"div",14)(18,"label",17),e._uU(19,"Valor da Opera\xe7\xe3o:"),e.qZA(),e._UZ(20,"input",18),e.qZA()(),e.TgZ(21,"div",7)(22,"div",19)(23,"label",20),e._uU(24,"Limite Concedido:"),e.qZA(),e._UZ(25,"input",21),e.qZA(),e.TgZ(26,"div",19)(27,"label",22),e._uU(28,"Limite Utilizado:"),e.qZA(),e._UZ(29,"input",23),e.qZA(),e.TgZ(30,"div",19)(31,"label",24),e._uU(32,"Limite Atual:"),e.qZA(),e._UZ(33,"input",25),e.qZA(),e.TgZ(34,"div",26)(35,"label",27),e._uU(36,"Status Opera\xe7\xe3o:"),e.qZA(),e._UZ(37,"input",28),e.qZA()(),e.TgZ(38,"div",29)(39,"button",30),e.NdJ("click",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.exportarPDF())}),e.TgZ(40,"span",31),e.O4$(),e.TgZ(41,"svg",32),e._UZ(42,"path",33)(43,"path",34),e.qZA()(),e._uU(44," Exportar relat\xf3rio "),e.qZA()()()()}if(2&t){const a=e.oxw();e.xp6(7),e.Q6J("value",a.objetoList.nomeCliente),e.xp6(4),e.Q6J("value",a.objetoList.cpfCliente),e.xp6(5),e.Q6J("value",a.objeto.data),e.xp6(4),e.Q6J("value",a.objetoList.valorOperacao),e.xp6(5),e.Q6J("value",a.objetoList.limiteConcedido),e.xp6(4),e.Q6J("value",a.objetoList.limiteUtilizado),e.xp6(4),e.Q6J("value",a.objetoList.limiteAtual),e.xp6(4),e.Q6J("value",a.objetoList.statusOperacao),e.xp6(2),e.Q6J("disabled",a.loading)}}let $a=(()=>{class t{constructor(a,c,i,o,r){this.activatedRoute=a,this.modalService=c,this.crypto=i,this.datepipe=o,this.pessoaOperacaoService=r,this.faFile=v.gMD,this.modalOpen=!1,this.objeto=new I.fs,this.objetoList=new I.cU,this.loading=!1,this.subscription=[],this.modal=new _.u}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}ngAfterViewInit(){var a=this;this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"600px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../../"],this.modal.title="Detalhes",this.modal.style={"max-width":"600px"};var c=this.activatedRoute.params.subscribe(function(){var i=(0,T1.Z)(function*(o){if(o.operacao_id){if(a.objeto.id=a.crypto.decrypt(o.operacao_id),0==(r=a.pessoaOperacaoService.list.value).length)var r=yield(0,d.n)(a.pessoaOperacaoService.getList());if(a.objetoList=r.find(s=>s.id==a.objeto.id),!a.objetoList)return void a.voltar();a.objeto.data=a.datepipe.transform(new Date(a.objeto.data),"yyyy-MM-ddTHH:mm"),(0,d.n)(a.pessoaOperacaoService.get(a.objeto.id)).then(s=>{a.objeto=s}).catch(s=>{a.voltar()})}else a.voltar()});return function(o){return i.apply(this,arguments)}}());this.subscription.push(c),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"detalhe operacao")},200)}voltar(){this.modalService.removeModal(this.modal)}exportarPDF(){var a=this;return(0,T1.Z)(function*(){a.loading=!0,yield(0,d.n)(a.pessoaOperacaoService.exportacaoOperacao(a.objeto.id)),a.loading=!1})()}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(h.gz),e.Y36(_.Z),e.Y36(M.w),e.Y36(f.uU),e.Y36(A.m))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-detalhes-operacao"]],viewQuery:function(c,i){if(1&c&&(e.Gf(Ga,5),e.Gf(Ba,5)),2&c){let o;e.iGM(o=e.CRH())&&(i.template=o.first),e.iGM(o=e.CRH())&&(i.icon=o.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-file-earmark-post",2,"margin-top","-6px"],["d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"],["d","M4 6.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7zm0-3a.5.5 0 0 1 .5-.5H7a.5.5 0 0 1 0 1H4.5a.5.5 0 0 1-.5-.5z"],["form","ngForm"],[1,"px-2"],[1,"row"],[1,"form-group","col-lg-9","col-md-6","col-12"],["for","nome"],["type","text","id","nome","name","nome","readonly","",1,"form-control",3,"value"],[1,"form-group","col-lg-3","col-md-6","col-12"],["for","cpfCliente"],["type","text","id","cpfCliente","name","cpfCliente","readonly","",1,"form-control",3,"value"],[1,"form-group","col-sm-6","col-12"],["for","dataOperacao"],["type","datetime-local","id","dataOperacao","name","dataOperacao","readonly","",1,"form-control",3,"value"],["for","valorOperacao"],["type","text","id","valorOperacao","name","valorOperacao","readonly","",1,"form-control",3,"value"],[1,"form-group","col-lg-4","col-md-6","col-sm-6","col-12"],["for","limiteConcedido"],["type","text","id","limiteConcedido","name","limiteConcedido","readonly","",1,"form-control",3,"value"],["for","limiteUtilizado"],["type","text","id","limiteUtilizado","name","limiteUtilizado","readonly","",1,"form-control",3,"value"],["for","limiteAtual"],["type","text","id","limiteAtual","name","limiteAtual","readonly","",1,"form-control",3,"value"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","col-12"],["for","status"],["type","text","id","status","name","status","readonly","",1,"form-control",3,"value"],[1,"row","px-1","my-2"],[1,"btn","btn-dark",3,"disabled","click"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-down"],["fill-rule","evenodd","d","M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1h-2z"],["fill-rule","evenodd","d","M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708l3 3z"]],template:function(c,i){1&c&&(e.YNc(0,Ka,3,0,"ng-template",null,0,e.W1O),e.YNc(2,Wa,45,9,"ng-template",null,1,e.W1O))},dependencies:[m._Y,m.JL,m.F]})}return t})();const Xa=["template"],et=["icon"],at=["form"];function tt(t,n){1&t&&e._UZ(0,"img",2)}function ct(t,n){if(1&t&&(e.TgZ(0,"p")(1,"strong"),e._uU(2,"Nome do arquivo:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=e.oxw(3);e.xp6(3),e.hij(" ",a.fileUpload.name,"")}}function it(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"label",14)(1,"p",15),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"h3"),e._uU(4,"Clique e arraste para selecionar arquivo"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"ou "),e.TgZ(7,"label",17),e._uU(8,"clique aqui"),e.qZA(),e._uU(9," para abrir explorador de arquivos"),e.qZA(),e.YNc(10,ct,4,1,"p",18),e.TgZ(11,"input",19,20),e.NdJ("input",function(i){e.CHM(a);const o=e.oxw(2);return e.KtG(o.fileChange(i))}),e.qZA()()}if(2&t){const a=e.oxw(2);e.xp6(10),e.Q6J("ngIf",a.fileUpload)}}function ot(t,n){if(1&t&&(e.TgZ(0,"p",22),e._uU(1),e.qZA()),2&t){const a=e.oxw(3);e.xp6(1),e.Oqu(a.erro)}}function nt(t,n){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,ot,2,1,"p",11),e.qZA()),2&t){const a=e.oxw(2);e.xp6(1),e.Q6J("ngIf",a.erro)}}function rt(t,n){1&t&&(e.TgZ(0,"p",22),e._uU(1,"Selecione um arquivo para enviar."),e.qZA())}function st(t,n){1&t&&e._UZ(0,"span",23)}function lt(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.send())}),e.YNc(2,it,13,1,"label",5),e.TgZ(3,"div",6)(4,"div",7)(5,"p",8)(6,"a",9),e._uU(7,"Clique aqui para saber como deve ser o arquivo XLSX"),e.qZA()(),e.YNc(8,nt,2,1,"div",10),e.YNc(9,rt,2,0,"p",11),e.qZA(),e.TgZ(10,"button",12),e.YNc(11,st,1,0,"span",13),e.TgZ(12,"span"),e._uU(13,"Salvar"),e.qZA()()()()}if(2&t){const a=e.MAs(1),c=e.oxw();e.xp6(2),e.Q6J("ngIf",!c.loading),e.xp6(6),e.Q6J("ngIf",c.erro||a.invalid),e.xp6(1),e.Q6J("ngIf",!c.fileUpload||a.invalid&&a.errors&&a.errors.fileRequired),e.xp6(1),e.Q6J("disabled",a.invalid||c.loading),e.xp6(1),e.Q6J("ngIf",c.loading)}}let pt=(()=>{class t{constructor(a,c,i,o){this.toastr=a,this.modalService=c,this.activatedRoute=i,this.pessoaService=o,this.faUpload=v.cf$,this.faCircleXmark=v.WA2,this.faTriangleExclamation=v.ik8,this.faCircleCheck=v.fV7,this.loading=!1,this.modalOpen=!1,this.erro="",this.subscription=[],this.modal=new _.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={width:"max-content","max-width":"95vw"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../"],this.modal.title="Importar Arquivo",setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"moeda")},200)}ngOnDestroy(){this.subscription.forEach(a=>a.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}fileChange(a){a&&a.target&&a.target.files&&a.target.files.length>0?(this.fileUpload=a.target.files[0],this.form.control.setErrors(null)):(this.form.control.setErrors({fileRequired:!0}),this.toastr.error("Selecione um arquivo para importa\xe7\xe3o."),delete this.fileUpload)}send(){if(this.loading=!0,this.erro="",!this.fileUpload)return this.toastr.error("Selecione um arquivo para enviar."),void(this.erro="Selecione um arquivo para enviar.");(0,d.n)(this.pessoaService.importarArquivo(this.fileUpload)).then(a=>{(0,d.n)(this.pessoaService.getList()),this.loading=!1,a.sucesso?this.voltar():(this.toastr.error(a.mensagem),this.toastr.error("Alguns registros n\xe3o puderam ser salvos."),this.erro=a.mensagem)}).catch(a=>{this.loading=!1,this.erro=(0,C.b)(a)})}static#e=this.\u0275fac=function(c){return new(c||t)(e.Y36(L._W),e.Y36(_.Z),e.Y36(h.gz),e.Y36(b.N))};static#a=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-importacao-arquivo"]],viewQuery:function(c,i){if(1&c&&(e.Gf(Xa,5),e.Gf(et,5),e.Gf(at,5)),2&c){let o;e.iGM(o=e.CRH())&&(i.template=o.first),e.iGM(o=e.CRH())&&(i.icon=o.first),e.iGM(o=e.CRH())&&(i.form=o.first)}},decls:5,vars:0,consts:[["icon",""],["template",""],["src","assets/img/icon-excel.png"],["enctype","multipart/form-data",1,"needs-validation",3,"ngSubmit"],["form","ngForm"],["for","file","class","input-file-container",4,"ngIf"],[1,"d-flex","align-items-start","flex-wrap","p-0","mt-1"],[1,"me-3"],[1,"text-info"],["href","assets/modelos/modelo-importacao-pessoa.xlsx","download","modelo-importacao-pessoa.xlsx"],["class","m-0",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"btn","btn-primary","me-0","ms-auto",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["for","file",1,"input-file-container"],[1,"icon"],[1,"pi","pi-upload"],["for","file",1,"link"],[4,"ngIf"],["type","file","name","file","id","file","required","","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",3,"input"],["file",""],[1,"m-0"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(c,i){1&c&&(e.TgZ(0,"div"),e.YNc(1,tt,1,0,"ng-template",null,0,e.W1O),e.YNc(3,lt,14,5,"ng-template",null,1,e.W1O),e.qZA())},dependencies:[f.O5,m._Y,m.JL,m.F],styles:[".input-file-container[_ngcontent-%COMP%]{width:99%;margin:10px 0;display:flex;flex-flow:column;padding:25px 20px;border:3px dashed rgb(var(--secondary));text-align:center;border-radius:27px;cursor:pointer;transition:.3s;position:relative}.input-file-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:60px;color:rgb(var(--primary));margin-bottom:15px}.input-file-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:17px;margin-bottom:5px}.input-file-container[_ngcontent-%COMP%]:hover, .input-file-container[_ngcontent-%COMP%]:active{background-color:#0000000d}.input-file-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;opacity:0}"]})}return t})();var Y=p(7280);const dt=[{path:"",component:Z1,children:[{path:"",component:J6,children:[{path:"cadastrar",component:b0,data:{modalOrder:1}},{path:"cadastrar-operacao/:pessoa_id",component:R,data:{modalOrder:1}},{path:"cadastrar-saldo/:pessoa_id",component:A1,data:{modalOrder:1}},{path:"importar",component:pt,data:{modalOrder:1}},{path:"excluir/:pessoa_id",component:y0,data:{modalOrder:1}},Y.D]},{path:"detalhes/:pessoa_id",component:ma,children:[{path:"saldo/cadastrar",component:A1,data:{modalOrder:1}},{path:"saldo/excluir/:saldo_id",component:Ca,data:{modalOrder:1}},{path:"operacao/cadastrar",component:R,data:{modalOrder:1}},{path:"operacao/editar/:operacao_id",component:R},{path:"operacao/detalhes/:operacao_id",component:$a,data:{modalOrder:1}},{path:"operacao/excluir/:operacao_id",component:ja,data:{modalOrder:1}},Y.D]},Y.D]}];let mt=(()=>{class t{static#e=this.\u0275fac=function(c){return new(c||t)};static#a=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(dt),h.Bz]})}return t})();var ft=p(6005),ut=p(4562);let zt=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275mod=e.oAB({type:t});static \u0275inj=e.cJS({imports:[f.ez,ut.X,ft.v,z.m8]})}return t})();var Mt=p(6208);let yt=(()=>{class t{static \u0275fac=function(c){return new(c||t)};static \u0275mod=e.oAB({type:t});static \u0275inj=e.cJS({imports:[f.ez,z.m8,z.m8]})}return t})();(0,f.qS)(y1.Z);let Zt=(()=>{class t{static#e=this.\u0275fac=function(c){return new(c||t)};static#a=this.\u0275mod=e.oAB({type:t});static#t=this.\u0275inj=e.cJS({providers:[f.uU,{provide:e.soG,useValue:"pt-BR"}],imports:[f.ez,mt,T.U$,H.uH,V1.kW,m.u5,N.yI.forChild(),zt,Mt.m,yt,H1.j,z1._8,Q.LU]})}return t})()}}]);