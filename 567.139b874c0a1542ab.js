"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[567],{9901:(O,C,l)=>{l.d(C,{j:()=>n});var e=l(5861),f=l(708),M=l(490),c=l(5038),i=l(9291),v=l(6434),m=l(4939),g=l(8787),I=l(6814),E=l(6223),x=l(5219),N=l(2352);function _(a,t){if(1&a&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&a){const o=i.oxw(3);i.xp6(1),i.Oqu(null==o.empresaSelected.empresa?null:o.empresaSelected.empresa.nome)}}function w(a,t){if(1&a&&i.YNc(0,_,2,1,"span",7),2&a){const o=i.oxw(2);i.Q6J("ngIf",o.empresaSelected.id)}}function s(a,t){if(1&a&&(i.TgZ(0,"p"),i._uU(1),i.qZA(),i.TgZ(2,"p"),i._uU(3),i.qZA()),2&a){const o=t.$implicit;i.xp6(1),i.Oqu(o.nome),i.xp6(2),i.Oqu(o.logo)}}function h(a,t){if(1&a){const o=i.EpF();i.TgZ(0,"div",1)(1,"label",2),i._uU(2,"Selecione a Empresa para carregar dados"),i.qZA(),i.TgZ(3,"p-dropdown",3,4),i.NdJ("ngModelChange",function(u){i.CHM(o);const d=i.oxw();return i.KtG(d.empresaChange(u))})("ngModelChange",function(u){i.CHM(o);const d=i.oxw();return i.KtG(d.empresaSelected.id=u)}),i.YNc(5,w,1,1,"ng-template",5),i.YNc(6,s,4,2,"ng-template",6),i.qZA()()}if(2&a){const o=i.oxw();i.xp6(3),i.Q6J("options",o.empresas)("ngModel",o.empresaSelected.id)("filter",!0)("showClear",!1)("required",!0)}}let n=(()=>{class a{constructor(o,r,u,d){var p=this;this.empresaService=o,this.accountService=r,this.colors=u,this.table=d,this.empresaSelected=new c.I,this.empresas=[],this.loading=!1,this.Role=M.uU,this.subscription=[];var b=this.accountService.accountSubject.subscribe(function(){var T=(0,e.Z)(function*(y){p.account=y,y&&(1==y.perfilAcesso_Id&&0==p.empresaService.list.value.length&&(yield(0,f.n)(p.empresaService.getList())),(1!=y.perfilAcesso_Id||!p.empresaService.getEmpresa().value.empresa)&&p.empresaService.setEmpresa({id:y.empresa_Id,empresa:y.empresa}))});return function(y){return T.apply(this,arguments)}}());this.subscription.push(b);var D=this.empresaService.getEmpresa().subscribe(T=>{this.empresaSelected=T,this.table.selected.next(void 0),this.table.selectedItems.next([]),T&&this.setColorsJquery()});this.subscription.push(D);var A=this.empresaService.list.subscribe(T=>{this.empresas=T});this.subscription.push(A)}ngOnDestroy(){this.subscription.forEach(o=>o.unsubscribe())}empresaChange(o){var r=this;return(0,e.Z)(function*(){if(r.accountService.accountValue&&1==r.accountService.accountValue?.perfilAcesso_Id&&o){0==r.empresas.length&&(yield(0,f.n)(r.empresaService.getList()));var u=r.empresas.find(d=>d.id==o);r.empresaService.setEmpresa({empresa:u,id:o})}})()}setColorsJquery(){this.colors.setColorsJquery(this.empresaSelected.empresa)}static#e=this.\u0275fac=function(r){return new(r||a)(i.Y36(c.P),i.Y36(v.B),i.Y36(m.w),i.Y36(g.i))};static#t=this.\u0275cmp=i.Xpm({type:a,selectors:[["app-empresa-selected"]],decls:1,vars:1,consts:[["class","form-group ms-2",4,"ngIf"],[1,"form-group","ms-2"],["for","empresa_Id"],["name","empresa_Id","id","empresa_Id","optionValue","id","filterBy","nome","styleClass","form-control","placeholder","Selecione uma empresa",3,"options","ngModel","filter","showClear","required","ngModelChange"],["empresa_Id","ngModel"],["pTemplate","selectedItem"],["pTemplate","item"],[4,"ngIf"]],template:function(r,u){1&r&&i.YNc(0,h,7,5,"div",0),2&r&&i.Q6J("ngIf",u.account&&1==(null==u.account?null:u.account.perfilAcesso_Id))},dependencies:[I.O5,E.JJ,E.Q7,E.On,x.jx,N.Lt]})}return a})()},2916:(O,C,l)=>{l.d(C,{K:()=>x});var e=l(9291),f=l(6223),M=l(2425),c=l(6814);const i=["data"];function v(_,w){1&_&&(e.TgZ(0,"p",4),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function m(_,w){if(1&_&&(e.TgZ(0,"p",4),e._uU(1),e.ALo(2,"date"),e.qZA()),2&_){const s=e.oxw(2);e.xp6(1),e.hij("Data m\xednima \xe9 ",e.xi3(2,1,s.min,"dd/MM/yyyy"),".")}}function g(_,w){if(1&_&&(e.TgZ(0,"p",4),e._uU(1),e.ALo(2,"date"),e.qZA()),2&_){const s=e.oxw(2);e.xp6(1),e.hij("Data m\xe1xima \xe9 ",e.xi3(2,1,s.max,"dd/MM/yyyy"),".")}}function I(_,w){if(1&_&&(e.TgZ(0,"p",4),e._uU(1),e.qZA()),2&_){e.oxw(2);const s=e.MAs(1);e.xp6(1),e.Oqu(s.errors.message)}}function E(_,w){if(1&_&&(e.TgZ(0,"div"),e.YNc(1,v,2,0,"p",3),e.YNc(2,m,3,4,"p",3),e.YNc(3,g,3,4,"p",3),e.YNc(4,I,2,1,"p",3),e.qZA()),2&_){e.oxw();const s=e.MAs(1);e.xp6(1),e.Q6J("ngIf",s.errors.required),e.xp6(1),e.Q6J("ngIf",s.errors.min),e.xp6(1),e.Q6J("ngIf",s.errors.max),e.xp6(1),e.Q6J("ngIf",s.errors.message)}}let x=(()=>{class _{constructor(s,h){this.toastrService=s,this.datepipe=h,this.inputId="",this.min="1900-01-01",this.required=!1,this.readonly=!1,this.showErrorMessage=!0,this.disabled=!1,this.valueChanges=new e.vpe,this.ngModelChanged=new e.vpe,this.viewInit=!1}ngOnChanges(s){s.valueInput&&(this.valueInput=s.valueInput.currentValue),s.inputId&&(this.inputId=s.inputId.currentValue),s.min&&(this.min=s.min.currentValue),s.max&&(this.max=s.max.currentValue,"hoje"==this.max&&(this.max=this.datepipe.transform(new Date,"yyyy-MM-dd"))),s.required&&(this.required=s.required.currentValue),s.showErrorMessage&&(this.showErrorMessage=s.showErrorMessage.currentValue),s.readonly&&(this.readonly=s.readonly.currentValue),s.disabled&&(this.disabled=s.disabled.currentValue),s.type&&(this.type=s.type.currentValue),this.type&&this.valueInput&&"date"==this.type&&this.valueInput.length>10&&(this.valueInput=this.valueInput.toString().substring(0,10),this.inputChanged())}ngAfterViewInit(){this.viewInit=!0}setErrors(s){this.error=s,this.data.control.setErrors(this.error)}validate(){if(!this.valueInput&&this.required)return this.data.control.setErrors(Object.assign({},{required:!0})),!1;if(this.valueInput){var s=new Date(this.valueInput),h=this.min?new Date(this.min):void 0,n=this.max?new Date(this.max):void 0,a=!0;return 1!=this.required||this.valueInput.toString().trim()?null!=n&&s>n?(this.toastrService.error("O valor m\xe1ximo \xe9 "+this.max),this.data.control.setErrors(Object.assign({},{max:!0})),a=!1):null!=h&&s<h&&(this.toastrService.error("O valor m\xednimo \xe9 "+this.min),this.data.control.setErrors(Object.assign({},{min:!0})),a=!1):(this.data.control.setErrors(Object.assign({},{required:!0})),a=!1),a}return!0}inputChanged(){this.valueChanges.emit(this.valueInput),this.ngModelChanged.emit(this.data)}static#e=this.\u0275fac=function(h){return new(h||_)(e.Y36(M._W),e.Y36(c.uU))};static#t=this.\u0275cmp=e.Xpm({type:_,selectors:[["app-input-date"]],viewQuery:function(h,n){if(1&h&&e.Gf(i,5),2&h){let a;e.iGM(a=e.CRH())&&(n.data=a.first)}},inputs:{type:"type",valueInput:"valueInput",inputId:"inputId",min:"min",max:"max",required:"required",readonly:"readonly",showErrorMessage:"showErrorMessage",disabled:"disabled",error:"error"},outputs:{valueChanges:"valueChanges",ngModelChanged:"ngModelChanged"},features:[e._Bn([],[{provide:f.gN,useExisting:f.F}]),e.TTD],decls:3,vars:10,consts:[[1,"form-control",3,"type","id","name","ngModel","min","max","required","readonly","disabled","ngModelChange","change","focusout"],["data","ngModel"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(h,n){if(1&h&&(e.TgZ(0,"input",0,1),e.NdJ("ngModelChange",function(t){return n.valueInput=t})("change",function(){return n.inputChanged(),n.validate()})("focusout",function(){return n.validate()}),e.qZA(),e.YNc(2,E,5,4,"div",2)),2&h){const a=e.MAs(1);e.Q6J("type",n.type)("id",n.inputId)("name",n.inputId)("ngModel",n.valueInput)("min",n.min)("max",n.max)("required",n.required)("readonly",n.readonly)("disabled",n.disabled),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors&&n.showErrorMessage)}},dependencies:[c.O5,f.Fj,f.JJ,f.Q7,f.On,c.uU]})}return _})()},6044:(O,C,l)=>{l.d(C,{l:()=>_});var e=l(9291),f=l(6223),M=l(2425),c=l(6814),i=l(3735);const v=["input"];function m(n,a){1&n&&(e.TgZ(0,"p",4),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function g(n,a){1&n&&(e.TgZ(0,"p",4),e._uU(1,"Valor inv\xe1lido."),e.qZA())}function I(n,a){if(1&n&&(e.TgZ(0,"p",4),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Valor m\xednimo \xe9 ",e.gM2(2,1,t.min,"BRL","","1.0-2"),".")}}function E(n,a){if(1&n&&(e.TgZ(0,"p",4),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("Valor m\xe1ximo \xe9 ",e.gM2(2,1,t.max,"BRL","","1.0-2"),".")}}function x(n,a){if(1&n&&(e.TgZ(0,"p",4),e._uU(1),e.qZA()),2&n){e.oxw(2);const t=e.MAs(1);e.xp6(1),e.Oqu(t.errors.message)}}function N(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,m,2,0,"p",3),e.YNc(2,g,2,0,"p",3),e.YNc(3,I,3,6,"p",3),e.YNc(4,E,3,6,"p",3),e.YNc(5,x,2,1,"p",3),e.qZA()),2&n){e.oxw();const t=e.MAs(1);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.mask),e.xp6(1),e.Q6J("ngIf",t.errors.min),e.xp6(1),e.Q6J("ngIf",t.errors.max),e.xp6(1),e.Q6J("ngIf",t.errors.message)}}let _=(()=>{class n{constructor(t){this.toastrService=t,this.thousandSeparator=".",this.decimalMarker=",",this.inputId="",this.required=!1,this.arrowControls=!0,this.showErrorMessage=!0,this.showPopover=!0,this.allowNegativeNumbers=!1,this.placeholder="",this.readonly=!1,this.disabled=!1,this.autoReplaceValue=!1,this.leadZero=!1,this.valueChanges=new e.vpe,this.ngModelChanged=new e.vpe,this.viewInit=!1}ngOnChanges(t){t.valueInput&&(this.valueInput=t.valueInput.currentValue),t.mask&&(this.mask=t.mask.currentValue),t.suffix&&(this.suffix=t.suffix.currentValue),t.prefix&&(this.prefix=t.prefix.currentValue),t.thousandSeparator&&(this.thousandSeparator=t.thousandSeparator.currentValue),t.decimalMarker&&(this.decimalMarker=t.decimalMarker.currentValue),t.inputId&&(this.inputId=t.inputId.currentValue),t.min&&(this.min=t.min.currentValue),t.max&&(this.max=t.max.currentValue),t.required&&(this.required=t.required.currentValue),t.arrowControls&&(this.arrowControls=t.arrowControls.currentValue),t.showErrorMessage&&(this.showErrorMessage=t.showErrorMessage.currentValue),t.showPopover&&(this.showPopover=t.showPopover.currentValue),t.placeholder&&(this.placeholder=t.placeholder.currentValue),t.allowNegativeNumbers&&(this.allowNegativeNumbers=t.allowNegativeNumbers.currentValue),t.readonly&&(this.readonly=t.readonly.currentValue),t.disabled&&(this.disabled=t.disabled.currentValue),t.autoReplaceValue&&(this.autoReplaceValue=t.autoReplaceValue.currentValue),t.leadZero&&(this.leadZero=t.leadZero.currentValue)}ngAfterViewInit(){this.viewInit=!0}setErrors(t){this.error=t,this.input.control.setErrors(this.error)}validate(t){if(this.input.control.setValue(this.valueInput),1==this.required&&!this.valueInput.toString().trim())return this.input.control.setErrors(Object.assign({},{required:!0})),!1;if(null!=this.max&&this.valueInput>this.max){if(this.toastrService.error("O valor m\xe1ximo \xe9 "+this.max),!this.autoReplaceValue)return this.input.control.setErrors(Object.assign({},{max:!0})),!1;this.input.control.setValue(this.max),this.inputChanged()}else if(null!=this.min&&this.valueInput<this.min){if(this.toastrService.error("O valor m\xednimo \xe9 "+this.min),1!=this.autoReplaceValue)return this.input.control.setErrors(Object.assign({},{min:!0})),!1;this.input.control.setValue(this.min),this.inputChanged()}return!0}inputChanged(){this.valueInput=parseFloat(this.valueInput),this.valueChanges.emit(parseFloat(this.valueInput)),this.ngModelChanged.emit(this.input)}arrowUp(t,o=1,r=void 0,u=void 0,d=this.allowNegativeNumbers){var p=function w(n){return n.value+=n.skip,null!=n.max&&null!=n.max&&n.value>n.max&&(n.value=n.max),n.value}({value:t,skip:o,min:r,max:u,allowNegativeNumbers:d??!1});return this.valueInput=parseFloat(p),setTimeout(()=>this.validate("arrowUp"),500),p}arrowDown(t,o=1,r=void 0,u=void 0,d=this.allowNegativeNumbers){var p=function s(n){var a=n.value-n.skip;return!n.allowNegativeNumbers&&a<1?a=0:null!=n.min&&null!=n.min&&a<n.min&&(a=n.min),a}({value:t,skip:o,min:r,max:u,allowNegativeNumbers:d??!1});return this.valueInput=parseFloat(p),setTimeout(()=>this.validate("arrowDown"),500),t}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(M._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-input-number"]],viewQuery:function(o,r){if(1&o&&e.Gf(v,5),2&o){let u;e.iGM(u=e.CRH())&&(r.input=u.first)}},inputs:{valueInput:"valueInput",mask:"mask",suffix:"suffix",prefix:"prefix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",inputId:"inputId",min:"min",max:"max",required:"required",arrowControls:"arrowControls",showErrorMessage:"showErrorMessage",showPopover:"showPopover",allowNegativeNumbers:"allowNegativeNumbers",placeholder:"placeholder",readonly:"readonly",disabled:"disabled",autoReplaceValue:"autoReplaceValue",leadZero:"leadZero",error:"error"},outputs:{valueChanges:"valueChanges",ngModelChanged:"ngModelChanged"},features:[e._Bn([],[{provide:f.gN,useExisting:f.F}]),e.TTD],decls:3,vars:17,consts:[["type","text",1,"form-control","form-control-number",3,"id","name","ngModel","mask","thousandSeparator","decimalMarker","suffix","prefix","leadZero","allowNegativeNumbers","min","max","required","placeholder","readonly","disabled","ngModelChange","change","focusout","keyup.arrowup","keyup.arrowdown","keyup.shift.arrowup","keyup.shift.arrowdown","keyup.control.arrowup","keyup.control.arrowdown","keyup.alt.arrowUp","keyup.alt.arrowdown"],["input","ngModel"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(o,r){if(1&o){const u=e.EpF();e.TgZ(0,"input",0,1),e.NdJ("ngModelChange",function(p){return r.valueInput=p})("change",function(){return r.inputChanged(),r.validate("change")})("focusout",function(){return r.validate("focusout")})("keyup.arrowup",function(){e.CHM(u);const p=e.MAs(1);return e.KtG(r.arrowControls?r.arrowUp(p.value):void 0)})("keyup.arrowdown",function(){e.CHM(u);const p=e.MAs(1);return e.KtG(r.arrowControls?r.arrowDown(p.value):void 0)})("keyup.shift.arrowup",function(){e.CHM(u);const p=e.MAs(1);return e.KtG(r.arrowControls?r.arrowUp(p.value,10):void 0)})("keyup.shift.arrowdown",function(){e.CHM(u);const p=e.MAs(1);return e.KtG(r.arrowControls?r.arrowDown(p.value,10):void 0)})("keyup.control.arrowup",function(){e.CHM(u);const p=e.MAs(1);return e.KtG(r.arrowControls?r.arrowUp(p.value,100):void 0)})("keyup.control.arrowdown",function(){e.CHM(u);const p=e.MAs(1);return e.KtG(r.arrowControls?r.arrowDown(p.value,100):void 0)})("keyup.alt.arrowUp",function(){e.CHM(u);const p=e.MAs(1);return e.KtG(r.arrowControls?r.arrowUp(p.value,.1):void 0)})("keyup.alt.arrowdown",function(){e.CHM(u);const p=e.MAs(1);return e.KtG(r.arrowControls?r.arrowDown(p.value,.1):void 0)}),e.qZA(),e.YNc(2,N,6,5,"div",2)}if(2&o){const u=e.MAs(1);let d;e.Q6J("id",r.inputId)("name",r.inputId)("ngModel",r.valueInput)("mask",r.mask?r.mask:"")("thousandSeparator",r.thousandSeparator?r.thousandSeparator:"")("decimalMarker",r.decimalMarker)("suffix",r.suffix?r.suffix:"")("prefix",r.prefix?r.prefix:"")("leadZero",r.leadZero)("allowNegativeNumbers",null!==(d=r.allowNegativeNumbers)&&void 0!==d&&d)("min",r.min)("max",r.max)("required",r.required)("placeholder",r.placeholder)("readonly",r.readonly)("disabled",r.disabled),e.xp6(2),e.Q6J("ngIf",u.touched&&u.errors&&r.showErrorMessage)}},dependencies:[c.O5,f.Fj,f.JJ,f.Q7,f.On,i.Z6,c.H9]})}return n})()},9324:(O,C,l)=>{function e(c,i,v="list"){var m=JSON.parse(JSON.stringify(c[v].value));m=m.filter(g=>!i.includes(g.id)),c[v].next(m)}function f(c,i,v="list"){var m=JSON.parse(JSON.stringify(c[v].value)),g=m.findIndex(I=>I.id==i.id);m.splice(g,1),c[v].next(m)}function M(c,i,v="list"){var m=JSON.parse(JSON.stringify(c[v].value));if(i.id){var g=m.findIndex(I=>I.id==i.id);-1==g&&m.push(i),m.splice(g,1,i)}else m.push(i);c[v].next(m)}l.d(C,{Od:()=>f,UB:()=>e,fb:()=>M})}}]);