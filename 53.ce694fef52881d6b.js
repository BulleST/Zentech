"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[53],{9742:(x,g,i)=>{i.d(g,{p:()=>e});var l=i(9291),_=i(6434),m=i(132),a=i(2425);let e=(()=>{class s{constructor(o,d,T){this.accountService=o,this.router=d,this.toastr=T}canActivate(o,d){let T=this.accountService.accountValue;return T?!(o.data.roles&&!o.data.roles.includes(T?.role)&&(this.toastr.error("Acesso n\xe3o autorizado."),this.router.navigate([""]),1)):(this.toastr.error("Acesso n\xe3o autorizado. <br> Fa\xe7a login."),this.router.navigate(["account","login"],{queryParams:{returnUrl:d.url}}),!1)}static#t=this.\u0275fac=function(d){return new(d||s)(l.LFG(_.B),l.LFG(m.F0),l.LFG(a._W))};static#e=this.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},7353:(x,g,i)=>{i.r(g),i.d(g,{InstituicaoFinanceiraModule:()=>et});var l=i(132),_=i(5861),m=i(2832),a=i(708),e=i(590),s=i(5891),t=i(9291),o=i(8787),d=i(3977),T=i(6434),f=i(5038),O=i(6814),P=i(6599),b=i(9901);function L(n,D){if(1&n&&(t.TgZ(0,"p",14)(1,"small"),t._uU(2,"Institui\xe7\xf5es Financeiras cadastradas em "),t.TgZ(3,"strong"),t._uU(4),t.qZA()()()),2&n){const r=t.oxw();t.xp6(4),t.Oqu(r.empresaSelected.nome||"Empresa X")}}function p(n,D){1&n&&t._UZ(0,"span",15)}const A=function(){return["cadastrar"]};function c(n,D){1&n&&(t.TgZ(0,"div",16)(1,"a",17)(2,"span",18),t._uU(3," Cadastrar Institui\xe7\xe3o"),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,A)))}let v=(()=>{class n{constructor(r,u,h,S){var F=this;this.table=r,this.instituicaoFinanceiraService=u,this.accountService=h,this.empresaService=S,this.faFilePdf=e.gSj,this.maskType=m.O,this.list=[],this.tableLinks=[],this.columns=s.sK,this.subscription=[],this.loading=!1;var it=this.instituicaoFinanceiraService.list.subscribe(I=>this.list=Object.assign([],I));this.subscription.push(it);var st=this.instituicaoFinanceiraService.loading.subscribe(I=>this.loading=I);this.subscription.push(st);var nt=this.empresaService.empresaSelected.subscribe(function(){var I=(0,_.Z)(function*(y){F.empresaSelected=y.empresa,y&&y.id&&(yield(0,a.n)(F.instituicaoFinanceiraService.getList(!0)))});return function(y){return I.apply(this,arguments)}}());this.subscription.push(nt),(0,a.n)(this.instituicaoFinanceiraService.getList(!0));var at=this.table.selected.subscribe(I=>{I&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]}],1==this.accountService.accountValue?.perfilAcesso_Id&&this.tableLinks.push({label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(at)}ngOnDestroy(){this.subscription.forEach(r=>r.unsubscribe())}getList(){(0,a.n)(this.instituicaoFinanceiraService.getList(!0))}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(o.i),t.Y36(d.e),t.Y36(T.B),t.Y36(f.P))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-list"]],decls:19,vars:13,consts:[[1,"page"],[1,"page__header"],[1,"title-icon","align-items-center"],["xmlns","http://www.w3.org/2000/svg","height","16","width","16","viewBox","0 0 512 512","fill","currentColor"],["d","M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"],[1,"me-auto"],[1,"page__header-title"],["class","page__header-subtitle",4,"ngIf"],[1,"ms-auto","mt-auto",2,"margin-bottom","7px"],[1,"btn","btn-dark",3,"disabled","click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"page__body"],["topActions",""],[3,"list","topActions","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"page__header-subtitle"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"col-xl-4","col-lg-4","col-md-6","col-sm-7","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"]],template:function(u,h){if(1&u&&(t.TgZ(0,"section",0)(1,"div",1)(2,"span",2),t.O4$(),t.TgZ(3,"svg",3),t._UZ(4,"path",4),t.qZA()(),t.kcU(),t.TgZ(5,"div",5)(6,"h3",6),t._uU(7,"Institui\xe7\xf5es Financeiras"),t.qZA(),t.YNc(8,L,5,1,"p",7),t.qZA(),t.TgZ(9,"div",8)(10,"button",9),t.NdJ("click",function(){return h.getList()}),t.YNc(11,p,1,0,"span",10),t._uU(12,"Atualizar"),t.qZA()(),t._UZ(13,"app-empresa-selected"),t.qZA(),t.TgZ(14,"div",11),t.YNc(15,c,4,2,"ng-template",null,12,t.W1O),t._UZ(17,"app-list-shared",13),t.qZA()(),t._UZ(18,"router-outlet")),2&u){const S=t.MAs(16);t.xp6(8),t.Q6J("ngIf",h.empresaSelected),t.xp6(2),t.Q6J("disabled",h.loading),t.xp6(1),t.Q6J("ngIf",h.loading),t.xp6(6),t.Q6J("list",h.list)("topActions",S)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",h.columns)("tableLinks",h.tableLinks)("selectable",!0)}},dependencies:[O.O5,l.lC,l.rH,P.o,b.j]})}return n})();var E=i(4290),C=i(2855),Z=i(342),M=i(9324),B=i(2667),U=i(5597);const N=["template"],R=["icon"];function W(n,D){if(1&n&&t._UZ(0,"fa-icon",2),2&n){const r=t.oxw();t.Q6J("icon",r.faTrash)}}function K(n,D){if(1&n&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.qZA()()),2&n){const r=t.oxw(2);t.xp6(2),t.Oqu(r.erro)}}function J(n,D){1&n&&t._UZ(0,"span",9)}function Y(n,D){if(1&n){const r=t.EpF();t.TgZ(0,"div")(1,"p",3),t._uU(2,"Tem certeza que deseja excluir esse registro? "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),t.qZA(),t.YNc(5,K,3,1,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(r);const h=t.oxw();return t.KtG(h.send())}),t.YNc(7,J,1,0,"span",6),t.TgZ(8,"span"),t._uU(9,"Excluir"),t.qZA()()()}if(2&n){const r=t.oxw();t.xp6(5),t.Q6J("ngIf",r.erro),t.xp6(2),t.Q6J("ngIf",r.loading)}}let V=(()=>{class n{constructor(r,u,h,S){this.activatedRoute=r,this.modalService=u,this.instituicaoFinanceiraService=h,this.crypto=S,this.faTrash=e.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new C.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../"],this.modal.title="Excluir registro";var r=this.activatedRoute.params.subscribe(u=>{if(u.instituicaoFinanceira_id)try{this.id=this.crypto.decrypt(u.instituicaoFinanceira_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"delete instituicao-financeira")},200)}catch{this.voltar()}else this.voltar()});this.subscription.push(r)}ngOnDestroy(){this.subscription.forEach(r=>r.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,a.n)(this.instituicaoFinanceiraService.delete(this.id)).then(r=>{this.loading=!1,r.sucesso?(r.objeto?(0,M.O)(this.instituicaoFinanceiraService,r.objeto):(0,a.n)(this.instituicaoFinanceiraService.getList()),this.voltar()):this.erro=r.mensagem}).catch(r=>{this.loading=!1,this.erro=(0,Z.b)(r)})}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(l.gz),t.Y36(C.Z),t.Y36(d.e),t.Y36(B.w))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete"]],viewQuery:function(u,h){if(1&u&&(t.Gf(N,5),t.Gf(R,5)),2&u){let S;t.iGM(S=t.CRH())&&(h.template=S.first),t.iGM(S=t.CRH())&&(h.icon=S.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(u,h){1&u&&(t.YNc(0,W,1,1,"ng-template",null,0,t.W1O),t.YNc(2,Y,10,2,"ng-template",null,1,t.W1O))},dependencies:[O.O5,U.BN]})}return n})();var H=i(7280),j=i(490),G=i(9742);const z=[{path:"",component:v,children:[{path:"cadastrar",component:E.U,title:"Zentech - Cadastrar Institui\xe7\xe3o Financeira",data:{modalOrder:1}},{path:"editar/:instituicaoFinanceira_id",component:E.U,title:"Zentech - Editar Institui\xe7\xe3o Financeira",data:{modalOrder:1}},{path:"excluir/:instituicaoFinanceira_id",component:V,title:"Zentech - Excluir Institui\xe7\xe3o Financeira",data:{modalOrder:1,roles:[j.uU.Admin]},canActivate:[G.p]},H.D]}];let Q=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(z),l.Bz]})}return n})();var $=i(2352),X=i(6223),w=i(9227),k=i(4685),q=i(1532),tt=i(3735);let et=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275mod=t.oAB({type:n});static#i=this.\u0275inj=t.cJS({providers:[(0,tt.e$)()],imports:[O.ez,Q,U.uH,$.kW,X.u5,w.m,k.U$,q._8]})}return n})()},8487:(x,g,i)=>{i.d(g,{q:()=>m});var l=i(9291),_=i(9862);let m=(()=>{class a{constructor(s){this.http=s}buscar(s){return this.http.get(`https://viacep.com.br/ws/${s}/json/`)}static#t=this.\u0275fac=function(t){return new(t||a)(l.LFG(_.eN))};static#e=this.\u0275prov=l.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},7397:(x,g,i)=>{i.d(g,{Z:()=>o});var l=i(5619),_=i(9397),m=i(2096),a=i(553),e=i(9291),s=i(9862),t=i(2425);let o=(()=>{class d{constructor(f,O){this.http=f,this.toastr=O,this.url=a.N.url,this.list=new l.X([]),this.loading=new l.X(!1)}getList(){return this.http.get(`${this.url}/pais/`).pipe((0,_.b)({next:f=>(this.list.next(f),(0,m.of)(f)),error:f=>this.toastr.error("N\xe3o foi poss\xedvel carregar listagem de paises.")}))}static#t=this.\u0275fac=function(O){return new(O||d)(e.LFG(s.eN),e.LFG(t._W))};static#e=this.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},9901:(x,g,i)=>{i.d(g,{j:()=>L});var l=i(5861),_=i(708),m=i(490),a=i(5038),e=i(9291),s=i(6434),t=i(6814),o=i(6223),d=i(5219),T=i(2352);function f(p,A){if(1&p&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&p){const c=e.oxw(3);e.xp6(1),e.Oqu(null==c.empresaSelected.empresa?null:c.empresaSelected.empresa.nome)}}function O(p,A){if(1&p&&e.YNc(0,f,2,1,"span",7),2&p){const c=e.oxw(2);e.Q6J("ngIf",c.empresaSelected.id)}}function P(p,A){if(1&p&&(e.TgZ(0,"p"),e._uU(1),e.qZA(),e.TgZ(2,"p"),e._uU(3),e.qZA()),2&p){const c=A.$implicit;e.xp6(1),e.Oqu(c.nome),e.xp6(2),e.Oqu(c.logo)}}function b(p,A){if(1&p){const c=e.EpF();e.TgZ(0,"div",1)(1,"label",2),e._uU(2,"Selecione a Empresa para carregar dados"),e.qZA(),e.TgZ(3,"p-dropdown",3,4),e.NdJ("ngModelChange",function(E){e.CHM(c);const C=e.oxw();return e.KtG(C.empresaChange(E))})("ngModelChange",function(E){e.CHM(c);const C=e.oxw();return e.KtG(C.empresaSelected.id=E)}),e.YNc(5,O,1,1,"ng-template",5),e.YNc(6,P,4,2,"ng-template",6),e.qZA()()}if(2&p){const c=e.oxw();e.xp6(3),e.Q6J("options",c.empresas)("ngModel",c.empresaSelected.id)("filter",!0)("showClear",!1)("required",!0)}}let L=(()=>{class p{constructor(c,v){this.empresaService=c,this.accountService=v,this.empresaSelected=new a.I,this.empresas=[],this.loading=!1,this.Role=m.uU,this.subscription=[];var E=this.accountService.accountSubject.subscribe(M=>{1!=M?.perfilAcesso_Id&&this.empresaService.empresaSelected.next({id:this.accountService.accountValue?.empresa_Id,empresa:this.accountService.accountValue?.empresa})});this.subscription.push(E);var C=this.empresaService.empresaSelected.subscribe(M=>this.empresaSelected=M);this.subscription.push(C);var Z=this.empresaService.list.subscribe(M=>this.empresas=M);this.subscription.push(Z)}ngOnDestroy(){this.subscription.forEach(c=>c.unsubscribe())}empresaChange(c){var v=this;return(0,l.Z)(function*(){if(v.accountService.accountValue&&1==v.accountService.accountValue?.perfilAcesso_Id&&c){0==v.empresas.length&&(yield(0,_.n)(v.empresaService.getList()));var E=v.empresas.find(C=>C.id==c);v.empresaService.empresaSelected.next({empresa:E,id:c})}})()}static#t=this.\u0275fac=function(v){return new(v||p)(e.Y36(a.P),e.Y36(s.B))};static#e=this.\u0275cmp=e.Xpm({type:p,selectors:[["app-empresa-selected"]],decls:1,vars:1,consts:[["class","form-group ms-2",4,"ngIf"],[1,"form-group","ms-2"],["for","empresa_Id"],["name","empresa_Id","id","empresa_Id","optionValue","id","filterBy","nome","styleClass","form-control","placeholder","Selecione uma empresa",3,"options","ngModel","filter","showClear","required","ngModelChange"],["empresa_Id","ngModel"],["pTemplate","selectedItem"],["pTemplate","item"],[4,"ngIf"]],template:function(v,E){1&v&&e.YNc(0,b,7,5,"div",0),2&v&&e.Q6J("ngIf",E.account&&1==(null==E.account?null:E.account.perfilAcesso_Id))},dependencies:[t.O5,o.JJ,o.Q7,o.On,d.jx,T.Lt]})}return p})()},9324:(x,g,i)=>{function l(m,a,e="list"){console.log("remove");var s=JSON.parse(JSON.stringify(m[e].value));console.log("list",s);var t=s.findIndex(o=>o.id==a.id);console.log("index",t),console.log("item",s[t]),s.splice(t,1),console.log("list",s),m[e].next(s)}function _(m,a,e="list"){var s=JSON.parse(JSON.stringify(m[e].value));if(a.id){var t=s.findIndex(o=>o.id==a.id);-1==t&&s.push(a),s.splice(t,1,a)}else s.push(a);m[e].next(s)}i.d(g,{O:()=>l,f:()=>_})},6687:(x,g,i)=>{function l(a){var e=a.toString().replace(/^\s+|\s+$/g,""),s=parseInt(e);return!(Number.isNaN(s)||0==s||e.length>8||(e=e.padStart(8,"0"),8!=e.length)||function _(a){return a.split("").every(e=>e===a[0])}(e)||function m(a){var e=a+"";return(e=e.split("")).every((t,o)=>o===e.length-1||t<e[o+1])}(s))}i.d(g,{c:()=>l})},9411:(x,g,i)=>{i.d(g,{V:()=>_});const l=/^\d{2}.\d{3}.\d{3}\/\d{4}-\d{2}$/;function _(e){var s=e.toString();if(!e||!s||s.length>14||"00000000000000"==(s=s.padStart(14,"0"))||"11111111111111"==s||"22222222222222"==s||"33333333333333"==s||"44444444444444"==s||"55555555555555"==s||"66666666666666"==s||"77777777777777"==s||"88888888888888"==s||"99999999999999"==s)return!1;const t="string"==typeof s;if(!(t||Number.isInteger(s)||Array.isArray(s)))return!1;if(t){const b=/^\d{14}$/.test(s),L=l.test(s);if(!b&&!L)return!1}const d=function a(e=""){const s=e.toString().match(/\d/g);return Array.isArray(s)?s.map(Number):[]}(s);if(14!==s.length||1===[...new Set(s)].length)return!1;const f=s.slice(12);return m(12,d).toString()===f[0]&&m(13,d).toString()===f[1]}function m(e,s){const t=s.slice(0,e);let o=e-7,d=0;for(let f=e;f>=1;f--)d+=t[e-f]*o--,o<2&&(o=9);const T=11-d%11;return T>9?0:T}}}]);