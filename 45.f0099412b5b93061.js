"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[45],{9045:(U,u,e)=>{e.r(u),e.d(u,{RepresentanteModule:()=>K});var h=e(6814),v=e(6223),g=e(5597),E=e(2352),m=e(132),o=e(5861),f=e(708),T=e(590),Z=e(2898),t=e(9291),l=e(8787),P=e(3416),n=e(6434),c=e(5038),p=e(6599),A=e(9901);function C(s,x){if(1&s&&(t.TgZ(0,"p",13)(1,"small"),t._uU(2,"Representantes cadastrados em "),t.TgZ(3,"strong"),t._uU(4),t.qZA()()()),2&s){const i=t.oxw();t.xp6(4),t.Oqu(i.empresaSelected.nome||"Empresa X")}}function D(s,x){1&s&&t._UZ(0,"span",14)}const R=function(){return["cadastrar"]};function S(s,x){1&s&&(t.TgZ(0,"div",15)(1,"a",16)(2,"span",17),t._uU(3," Cadastrar Representante"),t.qZA()()()),2&s&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,R)))}let y=(()=>{class s{constructor(i,a,r,L){var M=this;this.table=i,this.representanteService=a,this.accountService=r,this.empresaService=L,this.faUsers=T.FVb,this.list=[],this.tableLinks=[],this.columns=Z.T,this.subscription=[],this.loading=!1;var Y=this.representanteService.list.subscribe(d=>this.list=Object.assign([],d));this.subscription.push(Y);var $=this.representanteService.loading.subscribe(d=>this.loading=d);this.subscription.push($);var z=this.empresaService.empresaSelected.subscribe(function(){var d=(0,o.Z)(function*(b){M.empresaSelected=b.empresa,b&&b.id&&(yield(0,f.n)(M.representanteService.getList(!0)))});return function(b){return d.apply(this,arguments)}}());this.subscription.push(z);var Q=this.table.selected.subscribe(d=>{d&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]}],3!=this.accountService.accountValue?.perfilAcesso_Id&&this.tableLinks.push({label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(Q)}ngOnDestroy(){this.subscription.forEach(i=>i.unsubscribe())}getList(){(0,f.n)(this.representanteService.getList(!0))}static#t=this.\u0275fac=function(a){return new(a||s)(t.Y36(l.i),t.Y36(P.Z),t.Y36(n.B),t.Y36(c.P))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-list"]],decls:18,vars:14,consts:[[1,"page"],[1,"page__header"],[1,"title-icon","align-items-center"],[3,"icon"],[1,"me-auto"],[1,"page__header-title"],["class","page__header-subtitle",4,"ngIf"],[1,"ms-auto","mt-auto",2,"margin-bottom","7px"],[1,"btn","btn-dark",3,"disabled","click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"page__body"],["topActions",""],[3,"list","topActions","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"page__header-subtitle"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"col-xl-5","col-lg-5","col-md-5","col-sm-7","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"]],template:function(a,r){if(1&a&&(t.TgZ(0,"section",0)(1,"div",1)(2,"span",2),t._UZ(3,"fa-icon",3),t.qZA(),t.TgZ(4,"div",4)(5,"h3",5),t._uU(6,"Representantes"),t.qZA(),t.YNc(7,C,5,1,"p",6),t.qZA(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){return r.getList()}),t.YNc(10,D,1,0,"span",9),t._uU(11,"Atualizar"),t.qZA()(),t._UZ(12,"app-empresa-selected"),t.qZA(),t.TgZ(13,"div",10),t.YNc(14,S,4,2,"ng-template",null,11,t.W1O),t._UZ(16,"app-list-shared",12),t.qZA()(),t._UZ(17,"router-outlet")),2&a){const L=t.MAs(15);t.xp6(3),t.Q6J("icon",r.faUsers),t.xp6(4),t.Q6J("ngIf",r.empresaSelected),t.xp6(2),t.Q6J("disabled",r.loading),t.xp6(1),t.Q6J("ngIf",r.loading),t.xp6(6),t.Q6J("list",r.list)("topActions",L)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",r.columns)("tableLinks",r.tableLinks)("selectable",!0)}},dependencies:[h.O5,m.lC,m.rH,g.BN,p.o,A.j]})}return s})();var O=e(2951),I=e(8410),B=e(7280),W=e(9742),F=e(490);const N=[{path:"",component:y,title:"Zentech - Representantes",children:[{path:"cadastrar",component:O.U,data:{modalOrder:1},title:"Zentech - Cadastrar Representante"},{path:"editar/:representante_id",component:O.U,data:{modalOrder:1},title:"Zentech - Editar Representante"},{path:"excluir/:representante_id",component:I.T,data:{modalOrder:1,roles:[F.uU.Admin]},canActivate:[W.p],title:"Zentech - Excluir Representante"},B.D]}];let j=(()=>{class s{static#t=this.\u0275fac=function(a){return new(a||s)};static#e=this.\u0275mod=t.oAB({type:s});static#s=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(N),m.Bz]})}return s})();var J=e(6208);let K=(()=>{class s{static#t=this.\u0275fac=function(a){return new(a||s)};static#e=this.\u0275mod=t.oAB({type:s});static#s=this.\u0275inj=t.cJS({imports:[h.ez,j,v.u5,g.uH,J.m,E.kW]})}return s})()},3416:(U,u,e)=>{e.d(u,{Z:()=>t});var h=e(9862),v=e(5619),g=e(9397),E=e(2096),m=e(553),o=e(9291),f=e(8787),T=e(2425),Z=e(5038);let t=(()=>{class l{constructor(n,c,p,A){this.table=n,this.http=c,this.toastr=p,this.empresaService=A,this.url=m.N.url,this.list=new v.X([]),this.loading=new v.X(!1)}getList(n=!1){return this.loading.next(n),this.table.loading.next(!0),this.http.get(`${this.url}/representante/list/${this.empresaService.empresaSelected.value.id}`).pipe((0,g.b)({next:p=>(this.list.next(Object.assign([],p)),this.loading.next(!1),(0,E.of)(p)),error:p=>this.toastr.error("N\xe3o foi poss\xedvel carregar listagem de representante."),finalize:()=>this.loading.next(!1)}))}get(n){return this.http.get(`${this.url}/representante/${n}`,{headers:new h.WM({loading:"true"})})}create(n){return n.empresa_Id=this.empresaService.empresaSelected.value.id,this.http.post(`${this.url}/representante`,n)}edit(n){return this.http.put(`${this.url}/representante`,n)}delete(n){return this.http.delete(`${this.url}/representante/${n}`)}static#t=this.\u0275fac=function(c){return new(c||l)(o.LFG(f.i),o.LFG(h.eN),o.LFG(T._W),o.LFG(Z.P))};static#e=this.\u0275prov=o.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);