"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[45],{9742:(b,p,e)=>{e.d(p,{p:()=>d});var i=e(9291),m=e(6434),v=e(132),g=e(2425);let d=(()=>{class r{constructor(l,t,a){this.accountService=l,this.router=t,this.toastr=a}canActivate(l,t){let a=this.accountService.accountValue;return a?!(l.data.roles&&!l.data.roles.includes(a?.role)&&(this.toastr.error("Acesso n\xe3o autorizado."),this.router.navigate([""]),1)):(this.toastr.error("Acesso n\xe3o autorizado. <br> Fa\xe7a login."),this.router.navigate(["account","login"],{queryParams:{returnUrl:t.url}}),!1)}static#t=this.\u0275fac=function(t){return new(t||r)(i.LFG(m.B),i.LFG(v.F0),i.LFG(g._W))};static#e=this.\u0275prov=i.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},9045:(b,p,e)=>{e.r(p),e.d(p,{RepresentanteModule:()=>F});var i=e(6814),m=e(6223),v=e(5597),g=e(2352),d=e(132),r=e(708),L=e(590),l=e(2898),t=e(9291),a=e(8787),A=e(3416),n=e(6434),c=e(6599);function O(s,I){1&s&&t._UZ(0,"span",12)}const M=function(){return["cadastrar"]};function P(s,I){1&s&&(t.TgZ(0,"div",13)(1,"a",14)(2,"span",15),t._uU(3," Cadastrar Representante"),t.qZA()()()),2&s&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,M)))}let D=(()=>{class s{constructor(h,o,u){this.table=h,this.representanteService=o,this.accountService=u,this.faUsers=L.FVb,this.list=[],this.tableLinks=[],this.columns=l.T,this.subscription=[],this.loading=!1;var E=this.representanteService.list.subscribe(f=>this.list=Object.assign([],f));this.subscription.push(E);var W=this.representanteService.loading.subscribe(f=>this.loading=f);this.subscription.push(W),(0,r.n)(this.representanteService.getList(!0));var K=this.table.selected.subscribe(f=>{f&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]}],1==this.accountService.accountValue?.perfilAcesso_Id&&this.tableLinks.push({label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(K)}ngOnDestroy(){this.subscription.forEach(h=>h.unsubscribe())}getList(){(0,r.n)(this.representanteService.getList(!0))}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(a.i),t.Y36(A.Z),t.Y36(n.B))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-list"]],decls:16,vars:13,consts:[[1,"page"],[1,"page__header"],[1,"title-icon","align-items-center"],[3,"icon"],[1,"me-auto"],[1,"page__header-title"],[1,"ms-auto"],[1,"btn","btn-dark",3,"disabled","click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"page__body"],["topActions",""],[3,"list","topActions","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"col-xl-5","col-lg-5","col-md-5","col-sm-7","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"]],template:function(o,u){if(1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"span",2),t._UZ(3,"fa-icon",3),t.qZA(),t.TgZ(4,"div",4)(5,"h3",5),t._uU(6,"Representantes"),t.qZA()(),t.TgZ(7,"div",6)(8,"button",7),t.NdJ("click",function(){return u.getList()}),t.YNc(9,O,1,0,"span",8),t._uU(10,"Atualizar"),t.qZA()()(),t.TgZ(11,"div",9),t.YNc(12,P,4,2,"ng-template",null,10,t.W1O),t._UZ(14,"app-list-shared",11),t.qZA()(),t._UZ(15,"router-outlet")),2&o){const E=t.MAs(13);t.xp6(3),t.Q6J("icon",u.faUsers),t.xp6(5),t.Q6J("disabled",u.loading),t.xp6(1),t.Q6J("ngIf",u.loading),t.xp6(5),t.Q6J("list",u.list)("topActions",E)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",u.columns)("tableLinks",u.tableLinks)("selectable",!0)}},dependencies:[i.O5,d.lC,d.rH,v.BN,c.o]})}return s})();var T=e(2951),U=e(8410),C=e(7280),R=e(9742),Z=e(490);const x=[{path:"",component:D,title:"Zentech - Representantes",children:[{path:"cadastrar",component:T.U,data:{modalOrder:1},title:"Zentech - Cadastrar Representante"},{path:"editar/:representante_id",component:T.U,data:{modalOrder:1},title:"Zentech - Editar Representante"},{path:"excluir/:representante_id",component:U.T,data:{modalOrder:1,roles:[Z.uU.Admin]},canActivate:[R.p],title:"Zentech - Excluir Representante"},C.D]}];let B=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275mod=t.oAB({type:s});static#s=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(x),d.Bz]})}return s})();var y=e(9227);let F=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275mod=t.oAB({type:s});static#s=this.\u0275inj=t.cJS({imports:[i.ez,B,m.u5,v.uH,y.m,g.kW]})}return s})()},3416:(b,p,e)=>{e.d(p,{Z:()=>t});var i=e(9862),m=e(5619),v=e(9397),g=e(2096),d=e(553),r=e(9291),L=e(8787),l=e(2425);let t=(()=>{class a{constructor(n,c,O){this.table=n,this.http=c,this.toastr=O,this.url=d.N.url,this.list=new m.X([]),this.loading=new m.X(!1)}getList(n=!1){return this.loading.next(n),this.table.loading.next(!0),this.http.get(`${this.url}/representante`).pipe((0,v.b)({next:c=>(this.list.next(Object.assign([],c)),this.loading.next(!1),(0,g.of)(c)),error:c=>this.toastr.error("N\xe3o foi poss\xedvel carregar listagem de representante.")}))}get(n){return this.http.get(`${this.url}/representante/${n}`,{headers:new i.WM({loading:"true"})})}create(n){return this.http.post(`${this.url}/representante`,n)}edit(n){return this.http.put(`${this.url}/representante`,n)}delete(n){return this.http.delete(`${this.url}/representante/${n}`)}static#t=this.\u0275fac=function(c){return new(c||a)(r.LFG(L.i),r.LFG(i.eN),r.LFG(l._W))};static#e=this.\u0275prov=r.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);