"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[94],{2094:(S,T,a)=>{a.r(T),a.d(T,{BeneficiarioModule:()=>Ke});var _=a(132),m=a(5219),d=a(2832);class u{constructor(){this.id=0,this.nome="",this.cnpj=void 0,this.cep="",this.cidade_Id=void 0,this.logradouro="",this.numero="",this.codigoSwift="",this.banco_Id=void 0,this.conta="",this.pais_Id=void 0,this.representante=""}}var f=[{field:"nome",header:"Nome",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:m.a6.CONTAINS},{field:"cnpj",header:"CNPJ",maskType:d.O.cnpj,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:m.a6.CONTAINS},{field:"representante",header:"Representante",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:m.a6.CONTAINS},{field:"codigoSwift",header:"C\xf3digo Swift",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,showOperator:!1,filterMatchMode:m.a6.EQUALS},{field:"nomeBanco",header:"Banco",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:m.a6.CONTAINS},{field:"conta",header:"Conta",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:m.a6.CONTAINS},{field:"cidade",header:"Cidade",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,showOperator:!1,filterMatchMode:m.a6.EQUALS},{field:"uf",header:"UF",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,showOperator:!1,filterMatchMode:m.a6.EQUALS},{field:"nomePais",header:"Pa\xeds",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:m.a6.CONTAINS}],h=a(708),b=a(590),Z=a(674),e=a(9291),y=a(8787),v=a(6793),M=a(6599);const B=function(){return["cadastrar"]};function G(t,c){1&t&&(e.TgZ(0,"div",10)(1,"a",11)(2,"span",12),e._uU(3," Cadastrar Benefici\xe1rio"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,B)))}let R=(()=>{class t{constructor(i,n,o){this.table=i,this.beneficiarioService=n,this.isMobile=o,this.faFilePdf=b.gSj,this.maskType=d.O,this.list=[],this.tableLinks=[],this.columns=f,this.subscription=[],this.screen=Z.I.lg;var s=this.beneficiarioService.list.subscribe(p=>{this.list=Object.assign([],p)});this.subscription.push(s);var l=this.isMobile.value.subscribe(p=>this.screen=p);this.subscription.push(l),(0,h.n)(this.beneficiarioService.getList());var r=this.table.selected.subscribe(p=>{p&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(r)}ngOnDestroy(){this.subscription.forEach(i=>i.unsubscribe())}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(y.i),e.Y36(v.i),e.Y36(Z.h))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-list"]],decls:14,vars:10,consts:[[1,"page"],[1,"page__header"],[1,"title-icon","align-items-center"],["xmlns","http://www.w3.org/2000/svg","height","16","width","16","viewBox","0 0 512 512","fill","currentColor"],["d","M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"],[1,"me-auto"],[1,"page__header-title"],[1,"page__body"],["topActions",""],[3,"list","topActions","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-6","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",2,"width","-1px",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"]],template:function(n,o){if(1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA()(),e.kcU(),e.TgZ(5,"div",5)(6,"h3",6),e._uU(7,"Benefici\xe1rios"),e.qZA()(),e._uU(8,"__ "),e.qZA(),e.TgZ(9,"div",7),e.YNc(10,G,4,2,"ng-template",null,8,e.W1O),e._UZ(12,"app-list-shared",9),e.qZA()(),e._UZ(13,"router-outlet")),2&n){const s=e.MAs(11);e.xp6(12),e.Q6J("list",o.list)("topActions",s)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",o.columns)("tableLinks",o.tableLinks)("selectable",!0)}},dependencies:[_.lC,_.rH,M.o]})}return t})();var w=a(342),A=a(2855),j=a(2667),E=a(2425),V=a(6687),W=a(9411),K=a(8487),z=a(5462),$=a(4809),N=a(9862),X=a(5619),k=a(9397),ee=a(2096),te=a(553);let ie=(()=>{class t{constructor(i,n,o){this.table=i,this.http=n,this.toastr=o,this.url=te.N.url,this.paises=new X.X([])}getPais(){return this.http.get(`${this.url}/pais/`,{headers:new N.WM({loading:"false"})}).pipe((0,k.b)({next:i=>(this.paises.next(i),(0,ee.of)(i)),error:i=>this.toastr.error("N\xe3o foi poss\xedvel carregar listagem de status da opera\xe7\xe3o.")}))}static#e=this.\u0275fac=function(n){return new(n||t)(e.LFG(y.i),e.LFG(N.eN),e.LFG(E._W))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var I=a(6814),C=a(6223),J=a(8839),U=a(2352);const oe=["cep"];function ne(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function re(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ne,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(10);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function ae(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function se(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"CNPJ inv\xe1lido."),e.qZA())}function le(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ae,2,0,"p",51),e.YNc(2,se,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(18);e.xp6(1),e.Q6J("ngIf",i.errors.required),e.xp6(1),e.Q6J("ngIf",i.errors.mask||i.errors.invalid)}}function ce(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function de(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ce,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(27);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function pe(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function ue(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,pe,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(35);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function fe(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function he(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,fe,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(44);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function me(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function ge(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,me,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(52);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function _e(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function ve(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"CEP inv\xe1lido."),e.qZA())}function Ce(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"CEP inv\xe1lido."),e.qZA())}function Te(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,_e,2,0,"p",51),e.YNc(2,ve,2,0,"p",51),e.YNc(3,Ce,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(61);e.xp6(1),e.Q6J("ngIf",i.errors.required),e.xp6(1),e.Q6J("ngIf",i.errors.mask),e.xp6(1),e.Q6J("ngIf",i.errors.invalid)}}function be(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Me(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,be,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(69);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function Ze(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Ae(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ze,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(77);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function xe(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Se(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,xe,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(86);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function Be(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Ee(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Be,2,0,"p",51),e.qZA()),2&t){e.oxw();const i=e.MAs(94);e.xp6(1),e.Q6J("ngIf",i.errors.required)}}function Ie(t,c){if(1&t&&(e.TgZ(0,"p",6),e._uU(1),e.qZA()),2&t){const i=e.oxw(2);e.xp6(1),e.Oqu(i.erro)}}function ye(t,c){1&t&&(e.TgZ(0,"p",6),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar."),e.qZA())}function we(t,c){if(1&t&&(e.TgZ(0,"div",52),e.YNc(1,Ie,2,1,"p",51),e.YNc(2,ye,2,0,"p",51),e.qZA()),2&t){const i=e.oxw(),n=e.MAs(1);e.xp6(1),e.Q6J("ngIf",i.erro),e.xp6(1),e.Q6J("ngIf",n.invalid&&!i.erro)}}function je(t,c){1&t&&e._UZ(0,"span",53)}let Ne=(()=>{class t{constructor(i,n,o,s,l,r){this.toastr=i,this.cepService=n,this.beneficiarioService=o,this.cidadesService=s,this.bancoService=l,this.paisesService=r,this.cepCarregado=!1,this.loadingCep=!1,this.loadingCNPJ=!1,this.loadingBanco=!0,this.loadingCidades=!0,this.cidadesGrouped=[],this.loadingBeneficiario=!0,this.beneficiarios=[],this.loadingPaises=!0,this.objeto=new u,this.loading=!1,this.erro="",this.sendData=new e.vpe,(0,h.n)(this.bancoService.getList()).then(p=>{this.loadingBanco=!1,this.bancos=p}),(0,h.n)(this.cidadesService.getCidade()).then(p=>{this.loadingCidades=!1,this.cidades=p,this.groupCidades()}),(0,h.n)(this.paisesService.getPais()).then(p=>{this.loadingPaises=!1,this.paises=p}),(0,h.n)(this.beneficiarioService.getList()).then(p=>{this.loadingBeneficiario=!1,this.beneficiarios=p})}ngOnChanges(i){i.objeto&&(this.objeto=i.objeto.currentValue,this.objeto.id>0&&(this.objeto.cnpj=this.objeto.cnpj.toString().padStart(14,"0"),this.objeto.cep=this.objeto.cep.toString().padStart(8,"0"),setTimeout(()=>{this.buscaCEP(this.cep)},500))),i.loading&&(this.loading=i.loading.currentValue),i.erro&&(this.erro=i.erro.currentValue)}ngAfterViewInit(){}send(i){if(i.invalid)return this.toastr.error("Campos inv\xe1lidos"),void(this.erro="Campos inv\xe1lidos");this.erro="",this.sendData.emit(this.objeto)}buscaCEP(i){if(this.loadingCep=!0,i.control.setErrors(null),!this.validaCep(i))return this.toastr.error("CEP inv\xe1lido."),i.control.setErrors({invalid:!0}),void(this.cepCarregado=!1);(0,h.n)(this.cepService.buscar(this.objeto.cep)).then(n=>{if(1==n.erro)return this.cepCarregado=!1,this.toastr.error("CEP inv\xe1lido."),i.control.setErrors({invalid:!0}),void(this.cepCarregado=!1);this.objeto.logradouro=n.logradouro+" , "+n.bairro+" - "+n.uf;var o=n.localidade.toLowerCase(),s=this.cidades.find(l=>{var r=l.nomeCidade.toLowerCase(),p=l.sigla.toLowerCase();return(r==o||o.includes(r)||r.includes(o))&&n.uf.toLowerCase()==p});s&&(this.objeto.cidade_Id=s.id),console.log("cidade",s),this.cepCarregado=!0}).catch(n=>{this.toastr.error("N\xe3o foi poss\xedvel carregar CEP"),this.cepCarregado=!1}).finally(()=>this.loadingCep=!1)}validaCep(i){return this.loadingCep=!0,this.objeto.cep.trim()?8!=this.objeto.cep.trim().length?(setTimeout(()=>{i.control.setErrors({invalid:!0})},300),this.loadingCep=!1,!1):(0,V.c)(this.objeto.cep)?(this.loadingCep=!1,setTimeout(()=>{i.control.setErrors(null)},300),!0):(setTimeout(()=>{i.control.setErrors({invalid:!0})},300),this.loadingCep=!1,!1):(setTimeout(()=>{i.control.setErrors({required:!0})},300),this.loadingCep=!1,!1)}validaCNPJ(i){return this.loadingCNPJ=!0,this.objeto.cnpj&&0!=this.objeto.cnpj?(0,W.e)(this.objeto.cnpj)?(this.loadingCNPJ=!1,void setTimeout(()=>{i.control.setErrors(null)},300)):(setTimeout(()=>{i.control.setErrors({invalid:!0})},300),void(this.loadingCNPJ=!1)):(setTimeout(()=>{i.control.setErrors({required:!0})},300),void(this.loadingCNPJ=!1))}groupCidades(){var i=this.groupBy(this.cidades,n=>n.estado_Id);this.cidadesGrouped=i}groupBy(i,n){const o=new Map;i.forEach(l=>{const r=n(l),p=o.get(r);p?p.push(l):o.set(r,[l])});var s=[];return o.forEach((l,r)=>{var p=this.cidades.find(x=>x.estado_Id=r);s.push({estado_Id:r,sigla:p.sigla,nomeEstado:p.nomeEstado,cidades:l})}),s}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(E._W),e.Y36(K.q),e.Y36(v.i),e.Y36(z.j),e.Y36($.r),e.Y36(ie))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-beneficiario"]],viewQuery:function(n,o){if(1&n&&e.Gf(oe,5),2&n){let s;e.iGM(s=e.CRH())&&(o.cep=s.first)}},inputs:{objeto:"objeto",loading:"loading",erro:"erro"},outputs:{sendData:"sendData"},features:[e.TTD],decls:103,vars:51,consts:[[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"px-2"],[1,"row"],[1,"form-group","col-xl-8","col-lg-8","col-md-8","col-sm-8","col-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","pattern","\\S(.*\\S)?","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["nome","ngModel"],[4,"ngIf"],[1,"form-group","col-xl-4","col-lg-4","col-md-4","col-sm-4","col-12"],["for","cnpj"],[1,"tect-danger"],["type","text","name","cnpj","id","cnpj","required","","mask","00.000.000/0000-00","placeholder","00.000.000/0000-00",1,"form-control",3,"ngModel","ngModelChange","change"],["cnpj","ngModel"],[1,"form-group","col-md-6","col-sm-4"],["for","banco_Id"],["optionLabel","nome","optionValue","id","name","banco_Id","inputId","banco_Id","filterBy","nomeCidade",3,"styleClass","options","ngModel","placeholder","disabled","required","filter","showClear","ngModelChange"],["banco_Id","ngModel"],["for","conta"],["type","text","name","conta","id","conta","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["conta","ngModel"],[1,"form-group","col-md-4","col-sm-4"],["for","codigoSwift"],["type","text","name","codigoSwift","id","codigoSwift","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["codigoSwift","ngModel"],[1,"form-group","col-md-6","col-sm-8"],["for","representante"],["type","text","name","representante","id","representante","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["representante","ngModel"],[1,"form-group","col-md-3","col-sm-4"],["for","cep"],["type","text","placeholder","00000-000","mask","00000-000","name","cep","id","cep","required","",1,"form-control",3,"ngModel","blur","ngModelChange","change"],["cep","ngModel"],["for","logradouro"],["type","text","name","logradouro","id","logradouro","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","disabled","ngModelChange","change"],["logradouro","ngModel"],[1,"form-group","col-md-3","col-sm-3"],["for","numero"],["type","text","name","numero","id","numero","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["numero","ngModel"],["for","cidade_Id"],["optionLabel","nomeCidade","optionValue","id","name","cidade_Id","inputId","cidade_Id","filterBy","nomeCidade",3,"options","ngModel","styleClass","placeholder","disabled","virtualScroll","virtualScrollItemSize","required","filter","showClear","ngModelChange"],["cidade_Id","ngModel"],["for","pais_Id"],["optionLabel","nome","optionValue","id","name","pais_Id","id","pais_Id","filterBy","nome",3,"styleClass","options","ngModel","placeholder","disabled","virtualScroll","virtualScrollItemSize","required","filter","showClear","ngModelChange"],["pais_Id","ngModel"],[1,"d-flex","align-items-center"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"m-0"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,o){if(1&n){const s=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){e.CHM(s);const r=e.MAs(1);return e.KtG(o.send(r))}),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6,"Nome: "),e.TgZ(7,"span",6),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"input",7,8),e.NdJ("ngModelChange",function(r){return o.objeto.nome=r})("change",function(){e.CHM(s);const r=e.MAs(10);return e.KtG(o.objeto.nome=r.value.trim())}),e.qZA(),e.YNc(11,re,2,1,"div",9),e.qZA(),e.TgZ(12,"div",10)(13,"label",11),e._uU(14,"CNPJ: "),e.TgZ(15,"span",12),e._uU(16,"*"),e.qZA()(),e.TgZ(17,"input",13,14),e.NdJ("ngModelChange",function(r){return o.objeto.cnpj=r})("change",function(){e.CHM(s);const r=e.MAs(18);return e.KtG(o.validaCNPJ(r))}),e.qZA(),e.YNc(19,le,3,2,"div",9),e.qZA()(),e.TgZ(20,"div",3)(21,"div",15)(22,"label",16),e._uU(23,"Banco: "),e.TgZ(24,"span",6),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"p-dropdown",17,18),e.NdJ("ngModelChange",function(r){return o.objeto.banco_Id=r}),e.qZA(),e.YNc(28,de,2,1,"div",9),e.qZA(),e.TgZ(29,"div",15)(30,"label",19),e._uU(31,"Conta: "),e.TgZ(32,"span",6),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"input",20,21),e.NdJ("ngModelChange",function(r){return o.objeto.conta=r})("change",function(){e.CHM(s);const r=e.MAs(35);return e.KtG(o.objeto.conta=r.value.trim())}),e.qZA(),e.YNc(36,ue,2,1,"div",9),e.qZA()(),e.TgZ(37,"div",3)(38,"div",22)(39,"label",23),e._uU(40,"C\xf3digo Swift: "),e.TgZ(41,"span",12),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"input",24,25),e.NdJ("ngModelChange",function(r){return o.objeto.codigoSwift=r})("change",function(){e.CHM(s);const r=e.MAs(44);return e.KtG(o.objeto.codigoSwift=r.value.trim())}),e.qZA(),e.YNc(45,he,2,1,"div",9),e.qZA(),e.TgZ(46,"div",26)(47,"label",27),e._uU(48,"Representante: "),e.TgZ(49,"span",12),e._uU(50,"*"),e.qZA()(),e.TgZ(51,"input",28,29),e.NdJ("ngModelChange",function(r){return o.objeto.representante=r})("change",function(){e.CHM(s);const r=e.MAs(52);return e.KtG(o.objeto.representante=r.value.trim())}),e.qZA(),e.YNc(53,ge,2,1,"div",9),e.qZA()(),e.TgZ(54,"div",3)(55,"div",30)(56,"label",31),e._uU(57,"CEP: "),e.TgZ(58,"span",12),e._uU(59,"*"),e.qZA()(),e.TgZ(60,"input",32,33),e.NdJ("blur",function(){e.CHM(s);const r=e.MAs(61);return e.KtG(o.buscaCEP(r))})("ngModelChange",function(r){return o.objeto.cep=r})("change",function(){e.CHM(s);const r=e.MAs(61);return e.KtG(o.objeto.cep=r.value.trim())}),e.qZA(),e.YNc(62,Te,4,3,"div",9),e.qZA(),e.TgZ(63,"div",15)(64,"label",34),e._uU(65,"Logradouro: "),e.TgZ(66,"span",6),e._uU(67,"*"),e.qZA()(),e.TgZ(68,"input",35,36),e.NdJ("ngModelChange",function(r){return o.objeto.logradouro=r})("change",function(){e.CHM(s);const r=e.MAs(69);return e.KtG(o.objeto.logradouro=r.value.trim())}),e.qZA(),e.YNc(70,Me,2,1,"div",9),e.qZA(),e.TgZ(71,"div",37)(72,"label",38),e._uU(73,"N\xb0: "),e.TgZ(74,"span",6),e._uU(75,"*"),e.qZA()(),e.TgZ(76,"input",39,40),e.NdJ("ngModelChange",function(r){return o.objeto.numero=r})("change",function(){e.CHM(s);const r=e.MAs(77);return e.KtG(o.objeto.numero=r.value.trim())}),e.qZA(),e.YNc(78,Ae,2,1,"div",9),e.qZA()(),e.TgZ(79,"div",3)(80,"div",15)(81,"label",41),e._uU(82,"Cidade: "),e.TgZ(83,"span",6),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"p-dropdown",42,43),e.NdJ("ngModelChange",function(r){return o.objeto.cidade_Id=r}),e.qZA(),e.YNc(87,Se,2,1,"div",9),e.qZA(),e.TgZ(88,"div",15)(89,"label",44),e._uU(90,"Pa\xeds: "),e.TgZ(91,"span",6),e._uU(92,"*"),e.qZA()(),e.TgZ(93,"p-dropdown",45,46),e.NdJ("ngModelChange",function(r){return o.objeto.pais_Id=r}),e.qZA(),e.YNc(95,Ee,2,1,"div",9),e.qZA()(),e.TgZ(96,"div",3)(97,"div",47),e.YNc(98,we,3,2,"div",48),e.TgZ(99,"button",49),e.YNc(100,je,1,0,"span",50),e.TgZ(101,"span"),e._uU(102,"Salvar"),e.qZA()()()()()()}if(2&n){const s=e.MAs(1),l=e.MAs(10),r=e.MAs(18),p=e.MAs(27),x=e.MAs(35),P=e.MAs(44),Y=e.MAs(52),Q=e.MAs(61),D=e.MAs(69),L=e.MAs(77),F=e.MAs(86),H=e.MAs(94);e.xp6(9),e.Q6J("ngModel",o.objeto.nome),e.xp6(2),e.Q6J("ngIf",l.touched&&l.errors),e.xp6(6),e.Q6J("ngModel",o.objeto.cnpj),e.xp6(2),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(7),e.Q6J("styleClass","form-control"+(o.loadingBanco?"form-control-loading":""))("options",o.bancos)("ngModel",o.objeto.banco_Id)("placeholder","Selecione")("disabled",o.loadingBanco)("required",!0)("filter",!0)("showClear",!0),e.xp6(2),e.Q6J("ngIf",p.touched&&p.errors),e.xp6(6),e.Q6J("ngModel",o.objeto.conta),e.xp6(2),e.Q6J("ngIf",x.touched&&x.errors),e.xp6(7),e.Q6J("ngModel",o.objeto.codigoSwift),e.xp6(2),e.Q6J("ngIf",P.touched&&P.errors),e.xp6(6),e.Q6J("ngModel",o.objeto.representante),e.xp6(2),e.Q6J("ngIf",Y.touched&&Y.errors),e.xp6(7),e.Q6J("ngModel",o.objeto.cep),e.xp6(2),e.Q6J("ngIf",Q.touched&&Q.errors),e.xp6(6),e.Q6J("ngModel",o.objeto.logradouro)("disabled",o.cepCarregado),e.xp6(2),e.Q6J("ngIf",D.touched&&D.errors),e.xp6(6),e.Q6J("ngModel",o.objeto.numero),e.xp6(2),e.Q6J("ngIf",L.touched&&L.errors),e.xp6(7),e.Q6J("options",o.cidades)("ngModel",o.objeto.cidade_Id)("styleClass","form-control"+(o.loadingCidades?"form-control-loading":""))("placeholder","Selecione")("disabled",o.loadingCidades)("virtualScroll",!0)("virtualScrollItemSize",10)("required",!0)("filter",!0)("showClear",!0),e.xp6(2),e.Q6J("ngIf",F.touched&&F.errors),e.xp6(6),e.Q6J("styleClass","form-control"+(o.loadingPaises?"form-control-loading":""))("options",o.paises)("ngModel",o.objeto.pais_Id)("placeholder","Selecione")("disabled",o.loadingPaises)("virtualScroll",!0)("virtualScrollItemSize",10)("required",!0)("filter",!0)("showClear",!0),e.xp6(2),e.Q6J("ngIf",H.touched&&H.errors),e.xp6(3),e.Q6J("ngIf",o.erro||s.invalid),e.xp6(1),e.Q6J("disabled",s.invalid||o.loading),e.xp6(1),e.Q6J("ngIf",o.loading)}},dependencies:[I.O5,C._Y,C.Fj,C.JJ,C.JL,C.Q7,C.c5,C.On,C.F,J.hx,U.Lt]})}return t})();const Je=["template"],Ue=["icon"];function qe(t,c){1&t&&(e.TgZ(0,"span",3),e.O4$(),e.TgZ(1,"svg",4),e._UZ(2,"path",5),e.qZA()())}function Oe(t,c){if(1&t){const i=e.EpF();e.TgZ(0,"app-form-beneficiario",6),e.NdJ("sendData",function(o){e.CHM(i);const s=e.oxw();return e.KtG(s.send(o))}),e.qZA()}if(2&t){const i=e.oxw();e.Q6J("objeto",i.objeto)("loading",i.loading)("erro",i.erro)}}let q=(()=>{class t{constructor(i,n,o,s,l){this.activatedRoute=i,this.modalService=n,this.crypto=o,this.toastr=s,this.beneficiarioService=l,this.objeto=new u,this.erro="",this.loading=!1,this.subscription=[],this.isEditPage=!0,this.modal=new A.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"600px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute};var i=this.activatedRoute.params.subscribe(n=>{n.beneficiario_id?(this.objeto.id=this.crypto.decrypt(n.beneficiario_id),this.modal.title="Editar Benefici\xe1rio",this.modal.routerBack=["../../"],this.isEditPage=!0,(0,h.n)(this.beneficiarioService.get(this.objeto.id)).then(o=>{this.objeto=o,setTimeout(()=>{this.modal=this.modalService.addModal(this.modal)},200)}).catch(o=>{this.voltar()})):(this.modal.title="Cadastrar Benefici\xe1rio",this.modal.routerBack=["../"],this.isEditPage=!1,this.objeto.pais_Id=30,this.objeto.cidade_Id=5270,setTimeout(()=>{this.modal=this.modalService.addModal(this.modal)},200))});this.subscription.push(i)}ngOnDestroy(){this.subscription.forEach(i=>i.unsubscribe())}voltar(){this.modalService.removeModal(this.modal.id)}send(i){return this.loading=!0,this.erro="",(0,h.n)(this.beneficiarioService.post(this.objeto)).then(n=>{0!=n.sucesso?((0,h.n)(this.beneficiarioService.getList()),this.voltar()):(this.erro=n.mensagem,this.toastr.error(n.mensagem)),this.loading=!1}).catch(n=>{this.loading=!1,this.erro=(0,w.b)(n)})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(_.gz),e.Y36(A.Z),e.Y36(j.w),e.Y36(E._W),e.Y36(v.i))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-form"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Je,5),e.Gf(Ue,5)),2&n){let s;e.iGM(s=e.CRH())&&(o.template=s.first),e.iGM(s=e.CRH())&&(o.icon=s.first)}},decls:4,vars:0,consts:[["class","align-items-center"],["icon",""],["template",""],[1,"title-icon"],["xmlns","http://www.w3.org/2000/svg","fontsize","14","height","16","width","16","viewBox","0 0 512 512","fill","currentColor"],["d","M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"],[3,"objeto","loading","erro","sendData"]],template:function(n,o){1&n&&(e.YNc(0,qe,3,0,"ng-template",0,1,e.W1O),e.YNc(2,Oe,1,3,"ng-template",null,2,e.W1O))},dependencies:[Ne]})}return t})();var O=a(5597);const Pe=["template"],Ye=["icon"];function Qe(t,c){if(1&t&&e._UZ(0,"fa-icon",2),2&t){const i=e.oxw();e.Q6J("icon",i.faTrash)}}function De(t,c){if(1&t&&(e.TgZ(0,"div",7)(1,"p",8),e._uU(2),e.qZA()()),2&t){const i=e.oxw(2);e.xp6(2),e.Oqu(i.erro)}}function Le(t,c){1&t&&e._UZ(0,"span",9)}function Fe(t,c){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"p",3),e._uU(2,"Tem certeza que deseja excluir esse registro? "),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.YNc(5,De,3,1,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.send())}),e.YNc(7,Le,1,0,"span",6),e.TgZ(8,"span"),e._uU(9,"Excluir"),e.qZA()()()}if(2&t){const i=e.oxw();e.xp6(5),e.Q6J("ngIf",i.erro),e.xp6(2),e.Q6J("ngIf",i.loading)}}const He=[{path:"",component:R,children:[{path:"cadastrar",component:q},{path:"editar/:beneficiario_id",component:q},{path:"excluir/:beneficiario_id",component:(()=>{class t{constructor(i,n,o,s){this.activatedRoute=i,this.modalService=n,this.beneficiarioService=o,this.crypto=s,this.faTrash=b.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new A.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../"],this.modal.title="Excluir registro";var i=this.activatedRoute.params.subscribe(n=>{if(n.beneficiario_id)try{this.id=this.crypto.decrypt(n.beneficiario_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal)},200)}catch{this.voltar()}else this.voltar()});this.subscription.push(i)}ngOnDestroy(){this.subscription.forEach(i=>i.unsubscribe())}voltar(){this.modalService.removeModal(this.modal.id)}send(){this.loading=!0,this.erro="",(0,h.n)(this.beneficiarioService.delete(this.id)).then(i=>{this.loading=!1,i.sucesso?((0,h.n)(this.beneficiarioService.getList()),this.voltar()):this.erro=i.mensagem}).catch(i=>{this.loading=!1,this.erro=(0,w.b)(i)})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(_.gz),e.Y36(A.Z),e.Y36(v.i),e.Y36(j.w))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete"]],viewQuery:function(n,o){if(1&n&&(e.Gf(Pe,5),e.Gf(Ye,5)),2&n){let s;e.iGM(s=e.CRH())&&(o.template=s.first),e.iGM(s=e.CRH())&&(o.icon=s.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ml-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,o){1&n&&(e.YNc(0,Qe,1,1,"ng-template",null,0,e.W1O),e.YNc(2,Fe,10,2,"ng-template",null,1,e.W1O))},dependencies:[I.O5,O.BN]})}return t})()}]}];let Ge=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(He),_.Bz]})}return t})();var Re=a(6208),Ve=a(4685),We=a(1532);let Ke=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[I.ez,Ge,O.uH,U.kW,C.u5,J.yI.forChild(),Re.m,Ve.U$,We._8]})}return t})()},8487:(S,T,a)=>{a.d(T,{q:()=>d});var _=a(9291),m=a(9862);let d=(()=>{class g{constructor(f){this.http=f}buscar(f){return this.http.get(`https://viacep.com.br/ws/${f}/json/`)}static#e=this.\u0275fac=function(h){return new(h||g)(_.LFG(m.eN))};static#t=this.\u0275prov=_.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},5462:(S,T,a)=>{a.d(T,{j:()=>Z});var _=a(9862),m=a(5619),d=a(9397),g=a(2096),u=a(553),f=a(9291),h=a(8787),b=a(2425);let Z=(()=>{class e{constructor(v,M,B){this.table=v,this.http=M,this.toastr=B,this.url=u.N.url,this.cidades=new m.X([])}getCidade(){return this.http.get(`${this.url}/cidade/`,{headers:new _.WM({loading:"false"})}).pipe((0,d.b)({next:v=>(this.cidades.next(v),(0,g.of)(v)),error:v=>this.toastr.error("N\xe3o foi poss\xedvel carregar listagem de status da opera\xe7\xe3o.")}))}static#e=this.\u0275fac=function(M){return new(M||e)(f.LFG(h.i),f.LFG(_.eN),f.LFG(b._W))};static#t=this.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},6687:(S,T,a)=>{function _(g){var u=g.toString().replace(/^\s+|\s+$/g,""),f=parseInt(u);return!(Number.isNaN(f)||0==f||u.length>8||(u=u.padStart(8,"0"),8!=u.length)||function m(g){return g.split("").every(u=>u===g[0])}(u)||function d(g){var u=g+"";return(u=u.split("")).every((h,b)=>b===u.length-1||h<u[b+1])}(f))}a.d(T,{c:()=>_})}}]);