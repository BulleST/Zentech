"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[760],{2760:(tt,b,n)=>{n.r(b),n.d(b,{InvoiceModule:()=>q});var u=n(6814),r=n(132),f=n(590),l=n(708),O=n(2141),t=n(9291),C=n(8787),x=n(237),d=n(5597),D=n(6599);const A=function(){return["cadastrar"]};function Y(o,c){1&o&&(t.TgZ(0,"div",9)(1,"a",10)(2,"span",11),t._uU(3," Cadastrar Invoice"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,A)))}let L=(()=>{class o{constructor(e,i){this.table=e,this.invoiceService=i,this.faFileInvoice=f.fab,this.list=[],this.tableLinks=[],this.columns=O.mH,this.subscription=[];var a=this.invoiceService.list.subscribe(g=>this.list=Object.assign([],g));this.subscription.push(a),(0,l.n)(this.invoiceService.getList());var s=this.table.selected.subscribe(g=>{g&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(s)}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(C.i),t.Y36(x.q))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],decls:12,vars:11,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"me-auto"],[1,"page__header-title"],[1,"page__body"],["topActions",""],[3,"topActions","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"col-xl-4","col-lg-4","col-md-5","col-sm-6","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"]],template:function(i,a){if(1&i&&(t.TgZ(0,"section",0)(1,"div",1)(2,"span",2),t._UZ(3,"fa-icon",3),t.qZA(),t.TgZ(4,"div",4)(5,"h3",5),t._uU(6,"Invoice"),t.qZA()()(),t.TgZ(7,"div",6),t.YNc(8,Y,4,2,"ng-template",null,7,t.W1O),t._UZ(10,"app-list-shared",8),t.qZA()(),t._UZ(11,"router-outlet")),2&i){const s=t.MAs(9);t.xp6(3),t.Q6J("icon",a.faFileInvoice),t.xp6(7),t.Q6J("topActions",s)("list",a.list)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",a.columns)("tableLinks",a.tableLinks)("selectable",!0)}},dependencies:[r.lC,r.rH,d.BN,D.o]})}return o})();var T=n(2854),p=n(2855),_=n(342),Z=n(2667);const E=["template"],I=["icon"];function S(o,c){if(1&o&&t._UZ(0,"fa-icon",2),2&o){const e=t.oxw();t.Q6J("icon",e.faTrash)}}function N(o,c){if(1&o&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(e.erro)}}function M(o,c){1&o&&t._UZ(0,"span",9)}function R(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"p",3),t._uU(2,"Tem certeza que deseja excluir esse registro? "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),t.qZA(),t.YNc(5,N,3,1,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.send())}),t.YNc(7,M,1,0,"span",6),t.TgZ(8,"span"),t._uU(9,"Excluir"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.erro),t.xp6(2),t.Q6J("ngIf",e.loading)}}let J=(()=>{class o{constructor(e,i,a,s){this.activatedRoute=e,this.modalService=i,this.invoiceService=a,this.crypto=s,this.faTrash=f.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new p.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../"],this.modal.title="Excluir registro";var e=this.activatedRoute.params.subscribe(i=>{i.invoice_id?(this.id=this.crypto.decrypt(i.invoice_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"delete invoice")},200)):this.voltar()});this.subscription.push(e)}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,l.n)(this.invoiceService.delete(this.id)).then(e=>{this.loading=!1,e.sucesso?((0,l.n)(this.invoiceService.getList()),this.voltar()):this.erro=e.mensagem}).catch(e=>{this.loading=!1,this.erro=(0,_.b)(e)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(r.gz),t.Y36(p.Z),t.Y36(x.q),t.Y36(Z.w))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete"]],viewQuery:function(i,a){if(1&i&&(t.Gf(E,5),t.Gf(I,5)),2&i){let s;t.iGM(s=t.CRH())&&(a.template=s.first),t.iGM(s=t.CRH())&&(a.icon=s.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(i,a){1&i&&(t.YNc(0,S,1,1,"ng-template",null,0,t.W1O),t.YNc(2,R,10,2,"ng-template",null,1,t.W1O))},dependencies:[u.O5,d.BN]})}return o})();var m=n(1353),h=n(2996),y=n(4290),U=n(8902),Q=n(1064),B=n(1433);const F=["template"],G=["icon"];function H(o,c){if(1&o&&t._UZ(0,"fa-icon",2),2&o){const e=t.oxw();t.Q6J("icon",e.faTrash)}}function W(o,c){if(1&o&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(e.erro)}}function j(o,c){1&o&&t._UZ(0,"span",9)}function z(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"p",3),t._uU(2,"Tem certeza que deseja excluir esse registro? "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),t.qZA(),t.YNc(5,W,3,1,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.send())}),t.YNc(7,j,1,0,"span",6),t.TgZ(8,"span"),t._uU(9,"Excluir"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.erro),t.xp6(2),t.Q6J("ngIf",e.loading)}}let v=(()=>{class o{constructor(e,i,a,s){this.activatedRoute=e,this.modalService=i,this.crypto=a,this.moedaService=s,this.faTrash=f.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new p.u,this.objeto=new Q.V}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../../"],this.modal.title="Excluir registro";var e=this.activatedRoute.params.subscribe(i=>{i.moeda_id?(this.id=this.crypto.decrypt(i.moeda_id),this.modal=this.modalService.addModal(this.modal,"tipo")):(this.modal.routerBack=["../../"],this.voltar())});this.subscription.push(e)}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,l.n)(this.moedaService.delete(this.id)).then(e=>{this.loading=!1,e.sucesso?((0,l.n)(this.moedaService.getList()),this.voltar()):this.erro=e.mensagem}).catch(e=>{this.loading=!1,this.erro=(0,_.b)(e)})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(r.gz),t.Y36(p.Z),t.Y36(Z.w),t.Y36(B.g))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete"]],viewQuery:function(i,a){if(1&i&&(t.Gf(F,5),t.Gf(G,5)),2&i){let s;t.iGM(s=t.CRH())&&(a.template=s.first),t.iGM(s=t.CRH())&&(a.icon=s.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(i,a){1&i&&(t.YNc(0,H,1,1,"ng-template",null,0,t.W1O),t.YNc(2,z,10,2,"ng-template",null,1,t.W1O))},dependencies:[u.O5,d.BN]})}return o})();var w=n(7280);const V=[{path:"",component:L,children:[{path:"cadastrar",component:T.U,data:{modalOrder:1},children:[{path:"banco",component:h.U,data:{modalOrder:2}},{path:"moeda",component:m.U,data:{modalOrder:2}},{path:"moeda/:moeda_id",component:m.U,data:{modalOrder:2}},{path:"moeda/excluir/:moeda_id",component:v,data:{modalOrder:2}},{path:"instituicao-financeira",component:y.U,data:{modalOrder:2}},{path:"beneficiario",component:U.U,data:{modalOrder:2},children:[{path:"banco",component:h.U,data:{modalOrder:3}}]},{path:"excluir/moeda/:moeda_id",component:v},{path:"editar/moeda/:moeda_id",component:m.U}]},{path:"editar/:invoice_id",component:T.U,data:{modalOrder:1},children:[{path:"banco",component:h.U,data:{modalOrder:2}},{path:"moeda",component:m.U,data:{modalOrder:2}},{path:"moeda/:moeda_id",component:m.U,data:{modalOrder:2}},{path:"moeda/excluir/:moeda_id",component:v,data:{modalOrder:2}},{path:"instituicao-financeira",component:y.U,data:{modalOrder:2}},{path:"beneficiario",component:U.U,data:{modalOrder:2},children:[{path:"banco",component:h.U,data:{modalOrder:3}}]}]},{path:"excluir/:invoice_id",component:J,data:{modalOrder:1}},w.D]}];let P=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(V),r.Bz]})}return o})();var X=n(6223),K=n(6208),$=n(2352),k=n(4844);let q=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[u.ez,P,X.u5,d.uH,K.m,$.kW,k.LU]})}return o})()}}]);