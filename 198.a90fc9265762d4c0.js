"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[198],{7198:(S,_,e)=>{e.r(_),e.d(_,{InvoiceModule:()=>j});var T=e(6814),p=e(132),u=e(590),h=e(708),D=e(2141),t=e(9291),C=e(8787),x=e(237),v=e(5597),M=e(6599);const Z=function(){return["cadastrar"]};function y(o,U){1&o&&(t.TgZ(0,"div",9)(1,"a",10)(2,"span",11),t._uU(3," Cadastrar Invoice"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,Z)))}let A=(()=>{class o{constructor(i,a){this.table=i,this.invoiceService=a,this.faFileInvoice=u.fab,this.list=[],this.tableLinks=[],this.columns=D.mH,this.subscription=[];var c=this.invoiceService.list.subscribe(B=>this.list=Object.assign([],B));this.subscription.push(c),(0,h.n)(this.invoiceService.getList());var l=this.table.selected.subscribe(B=>{B&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(l)}ngOnDestroy(){this.subscription.forEach(i=>i.unsubscribe())}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(C.i),t.Y36(x.q))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],decls:12,vars:11,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],[3,"icon"],[1,"me-auto"],[1,"page__header-title"],[1,"page__body"],["topActions",""],[3,"topActions","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"col-xl-4","col-lg-4","col-md-5","col-sm-6","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"]],template:function(a,c){if(1&a&&(t.TgZ(0,"section",0)(1,"div",1)(2,"span",2),t._UZ(3,"fa-icon",3),t.qZA(),t.TgZ(4,"div",4)(5,"h3",5),t._uU(6,"Invoice"),t.qZA()()(),t.TgZ(7,"div",6),t.YNc(8,y,4,2,"ng-template",null,7,t.W1O),t._UZ(10,"app-list-shared",8),t.qZA()(),t._UZ(11,"router-outlet")),2&a){const l=t.MAs(9);t.xp6(3),t.Q6J("icon",c.faFileInvoice),t.xp6(7),t.Q6J("topActions",l)("list",c.list)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",c.columns)("tableLinks",c.tableLinks)("selectable",!0)}},dependencies:[p.lC,p.rH,v.BN,M.o]})}return o})();var O=e(2854),E=e(2855),L=e(342),I=e(2667);const R=["template"],s=["icon"];function f(o,U){if(1&o&&t._UZ(0,"fa-icon",2),2&o){const i=t.oxw();t.Q6J("icon",i.faTrash)}}function n(o,U){if(1&o&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.qZA()()),2&o){const i=t.oxw(2);t.xp6(2),t.Oqu(i.erro)}}function r(o,U){1&o&&t._UZ(0,"span",9)}function m(o,U){if(1&o){const i=t.EpF();t.TgZ(0,"div")(1,"p",3),t._uU(2,"Tem certeza que deseja excluir esse registro? "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),t.qZA(),t.YNc(5,n,3,1,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(i);const c=t.oxw();return t.KtG(c.send())}),t.YNc(7,r,1,0,"span",6),t.TgZ(8,"span"),t._uU(9,"Excluir"),t.qZA()()()}if(2&o){const i=t.oxw();t.xp6(5),t.Q6J("ngIf",i.erro),t.xp6(2),t.Q6J("ngIf",i.loading)}}let d=(()=>{class o{constructor(i,a,c,l){this.activatedRoute=i,this.modalService=a,this.invoiceService=c,this.crypto=l,this.faTrash=u.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new E.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../"],this.modal.title="Excluir registro";var i=this.activatedRoute.params.subscribe(a=>{a.invoice_id?(this.id=this.crypto.decrypt(a.invoice_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"delete invoice")},200)):this.voltar()});this.subscription.push(i)}ngOnDestroy(){this.subscription.forEach(i=>i.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,h.n)(this.invoiceService.delete(this.id)).then(i=>{this.loading=!1,i.sucesso?((0,h.n)(this.invoiceService.getList()),this.voltar()):this.erro=i.mensagem}).catch(i=>{this.loading=!1,this.erro=(0,L.b)(i)})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(p.gz),t.Y36(E.Z),t.Y36(x.q),t.Y36(I.w))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete"]],viewQuery:function(a,c){if(1&a&&(t.Gf(R,5),t.Gf(s,5)),2&a){let l;t.iGM(l=t.CRH())&&(c.template=l.first),t.iGM(l=t.CRH())&&(c.icon=l.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(a,c){1&a&&(t.YNc(0,f,1,1,"ng-template",null,0,t.W1O),t.YNc(2,m,10,2,"ng-template",null,1,t.W1O))},dependencies:[T.O5,v.BN]})}return o})();var b=e(2996),W=e(4290),Y=e(8902),g=e(1353),P=e(424),N=e(7280);const J=[{path:"",component:A,children:[{path:"cadastrar",component:O.U,data:{modalOrder:1},children:[{path:"banco",component:b.U,data:{modalOrder:2}},{path:"moeda",component:g.U,data:{modalOrder:2}},{path:"moeda/:moeda_id",component:g.U,data:{modalOrder:2}},{path:"moeda/excluir/:moeda_id",component:P.T,data:{modalOrder:2}},{path:"instituicao-financeira",component:W.U,data:{modalOrder:2}},{path:"beneficiario",component:Y.U,data:{modalOrder:2},children:[{path:"banco",component:b.U,data:{modalOrder:3}}]},{path:"excluir/moeda/:moeda_id",component:P.T},{path:"editar/moeda/:moeda_id",component:g.U}]},{path:"editar/:invoice_id",component:O.U,data:{modalOrder:1},children:[{path:"banco",component:b.U,data:{modalOrder:2}},{path:"moeda",component:g.U,data:{modalOrder:2}},{path:"moeda/:moeda_id",component:g.U,data:{modalOrder:2}},{path:"moeda/excluir/:moeda_id",component:P.T,data:{modalOrder:2}},{path:"instituicao-financeira",component:W.U,data:{modalOrder:2}},{path:"beneficiario",component:Y.U,data:{modalOrder:2},children:[{path:"banco",component:b.U,data:{modalOrder:3}}]}]},{path:"excluir/:invoice_id",component:d,data:{modalOrder:1}},N.D]}];let K=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(J),p.Bz]})}return o})();var Q=e(6223),F=e(6208),G=e(2352),H=e(4844);let j=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[T.ez,K,Q.u5,v.uH,F.m,G.kW,H.LU]})}return o})()},424:(S,_,e)=>{e.d(_,{T:()=>R});var T=e(1064),p=e(590),u=e(708),h=e(2855),D=e(342),t=e(9291),C=e(132),x=e(2667),v=e(1433),M=e(6814),Z=e(5597);const y=["template"],A=["icon"];function O(s,f){if(1&s&&t._UZ(0,"fa-icon",2),2&s){const n=t.oxw();t.Q6J("icon",n.faTrash)}}function E(s,f){if(1&s&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.qZA()()),2&s){const n=t.oxw(2);t.xp6(2),t.Oqu(n.erro)}}function L(s,f){1&s&&t._UZ(0,"span",9)}function I(s,f){if(1&s){const n=t.EpF();t.TgZ(0,"div")(1,"p",3),t._uU(2,"Tem certeza que deseja excluir esse registro? "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),t.qZA(),t.YNc(5,E,3,1,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.send())}),t.YNc(7,L,1,0,"span",6),t.TgZ(8,"span"),t._uU(9,"Excluir"),t.qZA()()()}if(2&s){const n=t.oxw();t.xp6(5),t.Q6J("ngIf",n.erro),t.xp6(2),t.Q6J("ngIf",n.loading)}}let R=(()=>{class s{constructor(n,r,m,d){this.activatedRoute=n,this.modalService=r,this.crypto=m,this.moedaService=d,this.faTrash=p.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new h.u,this.objeto=new T.V}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../../"],this.modal.title="Excluir registro";var n=this.activatedRoute.params.subscribe(r=>{r.moeda_id?(this.id=this.crypto.decrypt(r.moeda_id),this.modal=this.modalService.addModal(this.modal,"tipo")):(this.modal.routerBack=["../../"],this.voltar())});this.subscription.push(n)}ngOnDestroy(){this.subscription.forEach(n=>n.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,u.n)(this.moedaService.delete(this.id)).then(n=>{this.loading=!1,n.sucesso?((0,u.n)(this.moedaService.getList()),this.voltar()):this.erro=n.mensagem}).catch(n=>{this.loading=!1,this.erro=(0,D.b)(n)})}static#t=this.\u0275fac=function(r){return new(r||s)(t.Y36(C.gz),t.Y36(h.Z),t.Y36(x.w),t.Y36(v.g))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-delete"]],viewQuery:function(r,m){if(1&r&&(t.Gf(y,5),t.Gf(A,5)),2&r){let d;t.iGM(d=t.CRH())&&(m.template=d.first),t.iGM(d=t.CRH())&&(m.icon=d.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(r,m){1&r&&(t.YNc(0,O,1,1,"ng-template",null,0,t.W1O),t.YNc(2,I,10,2,"ng-template",null,1,t.W1O))},dependencies:[M.O5,Z.BN]})}return s})()}}]);