"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[132],{7132:(uo,Q,s)=>{s.r(Q),s.d(Q,{InvoiceModule:()=>lo});var C=s(6814),v=s(132),_=s(5861),b=s(590),d=s(708),x=s(5219),p=s(2832),O=s(5254);class Y{constructor(){this.id=0,this.data=new Date,this.moeda_Id=void 0,this.valor="",this.instituicaoFinanceira_Id=void 0,this.beneficiario_Id=void 0,this.conta=""}}class ne{constructor(){this.invoice=new Y,this.contrato=new O.hi}}var ae=[{field:"id",header:"N\xba Invoice",maskType:p.O.undefined,filterType:p.vA.text,filterDisplay:p.w2.menu,showAddButton:!1,showMatchMode:!1,showOperator:!1,filterMatchMode:x.a6.EQUALS},{field:"data",header:"Data Invoice",maskType:p.O.dateTime,filterType:p.vA.date,filterDisplay:p.w2.menu,showAddButton:!1,showMatchMode:!0,showOperator:!1,filterMatchMode:x.a6.DATE_IS},{field:"valor",header:"Valor",maskType:p.O.number,filterType:p.vA.numeric,filterDisplay:p.w2.menu,decimal:"1.2",showAddButton:!1,showMatchMode:!0,showOperator:!1,filterMatchMode:x.a6.EQUALS},{field:"nomeBanco",header:"Banco",maskType:p.O.undefined,filterType:p.vA.text,filterDisplay:p.w2.menu,showAddButton:!1,showMatchMode:!0,showOperator:!1,filterMatchMode:x.a6.CONTAINS},{field:"nomeBeneficiario",header:"Beneficiario",maskType:p.O.undefined,filterType:p.vA.text,filterDisplay:p.w2.menu,showAddButton:!1,showMatchMode:!0,showOperator:!1,filterMatchMode:x.a6.CONTAINS},{field:"representante",header:"Representante",maskType:p.O.undefined,filterType:p.vA.text,filterDisplay:p.w2.menu,showAddButton:!1,showMatchMode:!0,showOperator:!1,filterMatchMode:x.a6.CONTAINS},{field:"conta",header:"Conta",maskType:p.O.undefined,filterType:p.vA.text,filterDisplay:p.w2.menu,showAddButton:!1,showMatchMode:!1,showOperator:!1,filterMatchMode:x.a6.EQUALS}],e=s(9291),H=s(8787),k=s(9862),J=s(5619),A=s(9397),G=s(2096),ie=s(553),D=s(2425),B=s(5038);let L=(()=>{class n{constructor(t,a,o,i,l){this.table=t,this.http=a,this.toastr=o,this.datePipe=i,this.empresaService=l,this.url=ie.N.url,this.list=new J.X([]),this.object=new J.X(new Y),this.loading=new J.X(!1)}getList(t=!1){return this.loading.next(t),this.table.loading.next(!0),this.http.get(`${this.url}/invoice/list/${this.empresaService.empresaSelected.value.id}`).pipe((0,A.b)({next:o=>(o=o.map(i=>(i.data=new Date(i.data),i)),this.list.next(Object.assign([],o)),this.loading.next(!1),(0,G.of)(o)),error:o=>this.toastr.error("N\xe3o foi poss\xedvel carregar listagem de invoices."),finalize:()=>this.loading.next(!1)}))}get(t){return this.http.get(`${this.url}/invoice/${t}`,{headers:new k.WM({loading:"true"})}).pipe((0,A.b)({next:a=>(this.object.next(JSON.parse(JSON.stringify(a))),(0,G.of)(a)),error:a=>this.toastr.error("N\xe3o foi poss\xedvel carregar listagem de invoices.")}))}create(t){return this.http.post(`${this.url}/invoice`,t)}edit(t){return this.http.put(`${this.url}/invoice`,t)}delete(t){return this.http.delete(`${this.url}/invoice/${t}`)}file(t){return this.http.post(`${this.url}/invoice/exportar-pdf/${t}`,{},{responseType:"blob"}).pipe((0,A.b)({next:a=>{var o=new Blob([a],{type:"application/pdf"});const i=window.URL.createObjectURL(o);var l=document.createElement("a");l.href=i,l.download=`Invoice_${this.datePipe.transform(new Date,"yyyyMMddHHmmss")}`,l.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}}))}fileSwift(t){return this.http.post(`${this.url}/invoice/swift/exportar-pdf/${t}`,{},{responseType:"blob"}).pipe((0,A.b)({next:a=>{var o=new Blob([a],{type:"application/pdf"});const i=window.URL.createObjectURL(o);var l=document.createElement("a");l.href=i,l.download=`Swift_${this.datePipe.transform(new Date,"yyyyMMddHHmmss")}`,l.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}}))}kitZip(t){return this.http.post(`${this.url}/invoice/exportar-zip/${t}`,{},{responseType:"blob"}).pipe((0,A.b)({next:a=>{var o=new Blob([a],{type:"application/zip"});const i=window.URL.createObjectURL(o);var l=document.createElement("a");l.href=i,l.download=`Kit_${this.datePipe.transform(new Date,"yyyyMMddHHmmss")}.zip`,l.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))}}))}static#e=this.\u0275fac=function(a){return new(a||n)(e.LFG(H.i),e.LFG(k.eN),e.LFG(D._W),e.LFG(C.uU),e.LFG(B.P))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K=s(6434),N=s(5597),re=s(6599),le=s(9901);function ce(n,r){if(1&n&&(e.TgZ(0,"p",13)(1,"small"),e._uU(2,"Invoices cadastrados em "),e.TgZ(3,"strong"),e._uU(4),e.qZA()()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.empresaSelected.nome||"Empresa X")}}function se(n,r){1&n&&e._UZ(0,"span",14)}const de=function(){return["cadastrar"]};function pe(n,r){1&n&&(e.TgZ(0,"div",15)(1,"a",16)(2,"span",17),e._uU(3," Cadastrar Invoice"),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,de)))}let ue=(()=>{class n{constructor(t,a,o,i){var l=this;this.table=t,this.invoiceService=a,this.accountService=o,this.empresaService=i,this.faFileInvoice=b.fab,this.list=[],this.tableLinks=[],this.columns=ae,this.subscription=[],this.loading=!1;var g=this.invoiceService.list.subscribe(m=>this.list=Object.assign([],m));this.subscription.push(g);var Z=this.invoiceService.loading.subscribe(m=>this.loading=m);this.subscription.push(Z);var T=this.empresaService.empresaSelected.subscribe(function(){var m=(0,_.Z)(function*(f){l.empresaSelected=f.empresa,f&&f.id&&(yield(0,d.n)(l.invoiceService.getList(!0)))});return function(f){return m.apply(this,arguments)}}());this.subscription.push(T);var c=this.table.selected.subscribe(m=>{m&&(this.tableLinks=[{label:"Editar",routePath:["editar"],paramsFieldName:["id"]}],3!=this.accountService.accountValue?.perfilAcesso_Id&&this.tableLinks.push({label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}),this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(c)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}getList(){(0,d.n)(this.invoiceService.getList(!0))}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(H.i),e.Y36(L),e.Y36(K.B),e.Y36(B.P))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-list"]],decls:18,vars:14,consts:[[1,"page"],[1,"page__header"],[1,"title-icon","align-items-center"],[3,"icon"],[1,"me-auto"],[1,"page__header-title"],["class","page__header-subtitle",4,"ngIf"],[1,"ms-auto","mt-auto",2,"margin-bottom","7px"],[1,"btn","btn-dark",3,"disabled","click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"page__body"],["topActions",""],[3,"topActions","list","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"page__header-subtitle"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"col-xl-4","col-lg-5","col-md-6","col-sm-6","col-12","mb-2","me-md-2","mx-md-1","px-0","ng-star-inserted"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center","me-md-0","me-sm-1",3,"routerLink"],[2,"margin-top","-1px","margin-bottom","1px"]],template:function(a,o){if(1&a&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"fa-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Invoices"),e.qZA(),e.YNc(7,ce,5,1,"p",6),e.qZA(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return o.getList()}),e.YNc(10,se,1,0,"span",9),e._uU(11,"Atualizar"),e.qZA()(),e._UZ(12,"app-empresa-selected"),e.qZA(),e.TgZ(13,"div",10),e.YNc(14,pe,4,2,"ng-template",null,11,e.W1O),e._UZ(16,"app-list-shared",12),e.qZA()(),e._UZ(17,"router-outlet")),2&a){const i=e.MAs(15);e.xp6(3),e.Q6J("icon",o.faFileInvoice),e.xp6(4),e.Q6J("ngIf",o.empresaSelected),e.xp6(2),e.Q6J("disabled",o.loading),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(6),e.Q6J("topActions",i)("list",o.list)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",o.columns)("tableLinks",o.tableLinks)("selectable",!0)}},dependencies:[C.O5,v.lC,v.rH,N.BN,re.o,le.j]})}return n})();var E=s(2855),M=s(342),_e=s(5753),V=s(2667),me=s(1433),ge=s(6793),fe=s(4809),ve=s(3977),he=s(2400),be=s(1208),xe=s(3337),Ze=s(7397),Ce=s(4527),h=s(6223),z=s(2352),S=s(4844),Te=s(8454),Ae=s(3735),Me=s(6044),we=s(2916);const ye=["template"],Fe=["icon"];function Ue(n,r){1&n&&(e.O4$(),e.TgZ(0,"svg",5),e._UZ(1,"path",6)(2,"path",7)(3,"path",8)(4,"path",9),e.qZA())}function Ie(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Invoice"),e.qZA())}function qe(n,r){1&n&&(e.TgZ(0,"span",148),e._uU(1,"Voc\xea deve primeiro salvar os dados para baixar o PDF"),e.qZA())}function Ne(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",155),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.moedaExcluir(o.id))}),e._UZ(1,"fa-icon",74),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("icon",t.faTrash)}}function Ee(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",149)(1,"div",150)(2,"span",151),e._uU(3),e.qZA(),e.TgZ(4,"span",152),e._uU(5),e.qZA(),e.TgZ(6,"span",153),e._uU(7),e.qZA()(),e.TgZ(8,"div",154)(9,"a",155),e.NdJ("click",function(){const i=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.moedaEditar(i))}),e._UZ(10,"fa-icon",74),e.qZA(),e.YNc(11,Ne,2,1,"a",156),e.qZA()()}if(2&n){const t=r.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("title",t.nome),e.xp6(2),e.Oqu(t.codigo),e.xp6(2),e.Oqu(t.nome),e.xp6(2),e.Oqu(t.simbolo),e.xp6(3),e.Q6J("icon",a.faEdit),e.xp6(1),e.Q6J("ngIf",a.podeExcluir)}}const je=function(){return["./moeda"]};function Je(n,r){1&n&&(e.TgZ(0,"div",157),e._uU(1," N\xe3o encontrou? Clique para "),e.TgZ(2,"a",158),e._uU(3,"adicionar"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(1,je)))}function Le(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Se(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Le,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(34);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Re(n,r){if(1&n&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"p")(4,"strong"),e._uU(5,"C\xf3digo de Registro:"),e.qZA(),e._uU(6),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.nome),e.xp6(4),e.hij(" ",t.codigoRegistro,"")}}const Pe=function(){return["./instituicao-financeira"]};function Qe(n,r){1&n&&(e.TgZ(0,"div",157),e._uU(1," N\xe3o encontrou? Clique para "),e.TgZ(2,"a",158),e._uU(3,"adicionar"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(1,Pe)))}function Oe(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Ye(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Oe,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(50);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function He(n,r){if(1&n&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"p")(4,"strong"),e._uU(5,"C\xf3digo de Registro:"),e.qZA(),e._uU(6),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.nome),e.xp6(4),e.hij(" ",t.codigoRegistro,"")}}const ke=function(){return["./beneficiario"]};function Ge(n,r){1&n&&(e.TgZ(0,"div",157),e._uU(1," N\xe3o encontrou? Clique para "),e.TgZ(2,"a",158),e._uU(3,"adicionar"),e.qZA()()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(1,ke)))}function De(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Be(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,De,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(60);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Ke(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Ve(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ke,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(87);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function ze(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Preencha os campos obrigat\xf3rios (*) de Invoice corretamente para continuar."),e.qZA())}function $e(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ze,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(6),a=e.oxw();e.xp6(1),e.Q6J("ngIf",t.invalid&&!a.erro)}}function Xe(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Contrato"),e.qZA())}function We(n,r){1&n&&(e.TgZ(0,"span",148),e._uU(1,"Voc\xea deve primeiro salvar os dados para baixar o PDF"),e.qZA())}function et(n,r){if(1&n&&(e.TgZ(0,"div",160)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij("",t.nome," ")}}function tt(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function ot(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,tt,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(159);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function nt(n,r){if(1&n&&(e.TgZ(0,"div",160)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij("",t.nome," ")}}function at(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function it(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,at,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(168);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function rt(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Preencha os campos obrigat\xf3rios (*) de Contrato corretamente para salvar."),e.qZA())}function lt(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,rt,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(131),a=e.oxw();e.xp6(1),e.Q6J("ngIf",t.invalid&&!a.erro)}}function ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.tabChanged(2))}),e.TgZ(1,"span",73),e._uU(2,"Pr\xf3ximo"),e.qZA(),e._UZ(3,"fa-icon",74),e.qZA()}if(2&n){e.oxw();const t=e.MAs(6),a=e.oxw();e.Q6J("disabled",t.invalid),e.xp6(3),e.Q6J("icon",a.faArrowRight)}}function st(n,r){1&n&&e._UZ(0,"span",163)}function dt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",161),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(6),i=e.MAs(131),l=e.oxw();return e.KtG(l.send(o,i))}),e.YNc(1,st,1,0,"span",162),e.TgZ(2,"span"),e._uU(3,"Salvar e Gerar Swift"),e.qZA()()}if(2&n){e.oxw();const t=e.MAs(6),a=e.MAs(131),o=e.oxw();e.Q6J("disabled",t.invalid||a.invalid||o.loading),e.xp6(1),e.Q6J("ngIf",o.loading)}}function pt(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Contrato Bicolunado"),e.qZA())}function ut(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Cancelar"),e.qZA())}function _t(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Alterar dados"),e.qZA())}function mt(n,r){1&n&&e._UZ(0,"span",163)}function gt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",194),e.NdJ("click",function(){e.CHM(t),e.oxw(3);const o=e.MAs(6),i=e.MAs(131),l=e.oxw();return e.KtG(l.send(o,i))}),e.YNc(1,mt,1,0,"span",162),e.TgZ(2,"span"),e._uU(3,"Salvar dados"),e.qZA()()}if(2&n){const t=e.oxw(4);e.Q6J("disabled",t.loading||!(t.objeto.contrato.nomeRepresentanteLegal&&t.objeto.contrato.codigoRepresentanteLegal&&t.objeto.contrato.assinaturaRepresentanteLegal)),e.xp6(1),e.Q6J("ngIf",t.loading)}}function ft(n,r){1&n&&e._UZ(0,"span",163)}function vt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",194),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.alterarDadosRepresentanteLegal())}),e.YNc(2,ut,2,0,"span",32),e.YNc(3,_t,2,0,"span",32),e.qZA(),e.YNc(4,gt,4,2,"button",195),e.TgZ(5,"button",165),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.assinarRepresentanteLegal())}),e.YNc(6,ft,1,0,"span",162),e.TgZ(7,"span",196),e._uU(8,"Assinar "),e.qZA(),e._UZ(9,"fa-icon",74),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("disabled",t.loading),e.xp6(1),e.Q6J("ngIf",t.alterarRepresentanteLegal),e.xp6(1),e.Q6J("ngIf",!t.alterarRepresentanteLegal),e.xp6(1),e.Q6J("ngIf",t.alterarRepresentanteLegal),e.xp6(1),e.Q6J("disabled",t.loading||t.alterarRepresentanteLegal||!(t.objeto.contrato.nomeRepresentanteLegal&&t.objeto.contrato.codigoRepresentanteLegal&&t.objeto.contrato.assinaturaRepresentanteLegal)),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(3),e.Q6J("icon",t.faPenClip)}}function ht(n,r){if(1&n&&(e.TgZ(0,"div",192)(1,"p",197),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",198)(5,"span",197),e._uU(6,"Assinado"),e.qZA(),e._UZ(7,"fa-icon",74),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Assinado em ",e.xi3(3,2,t.objeto.contrato.dataAssinaturaRepresentanteLegal,"dd/MM/yyyy HH:mm"),""),e.xp6(5),e.Q6J("icon",t.faCheck)}}function bt(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function xt(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,bt,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(25);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Zt(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function Ct(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Zt,2,0,"p",159),e.qZA()),2&n){e.oxw();const t=e.MAs(33);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Tt(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Escolher assinatura"),e.qZA())}function At(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Refazer upload"),e.qZA())}function Mt(n,r){1&n&&(e.TgZ(0,"label",204),e._uU(1,"Nenhuma assinatura selecionada"),e.qZA())}function wt(n,r){if(1&n&&(e.TgZ(0,"label",205),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.Q6J("title",t.assinaturaUploadedFile.name),e.xp6(1),e.Oqu(t.assinaturaUploadedFile.name)}}function yt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"label",199),e.YNc(2,Tt,2,0,"span",32),e.YNc(3,At,2,0,"span",32),e.TgZ(4,"input",200,201),e.NdJ("input",function(o){e.CHM(t);const i=e.oxw(3);return e.KtG(i.fileChange(o))}),e.qZA()(),e.YNc(6,Mt,2,0,"label",202),e.YNc(7,wt,2,2,"label",203),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(1),e.ekj("disabled",!t.alterarRepresentanteLegal),e.xp6(1),e.Q6J("ngIf",!t.assinaturaIsUploaded),e.xp6(1),e.Q6J("ngIf",t.assinaturaIsUploaded),e.xp6(1),e.Q6J("disabled",!t.alterarRepresentanteLegal),e.xp6(2),e.Q6J("ngIf",!t.objeto.contrato.assinaturaRepresentanteLegal),e.xp6(1),e.Q6J("ngIf",t.objeto.contrato.assinaturaRepresentanteLegal&&null!=t.assinaturaUploadedFile)}}function Ft(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",206),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.objeto.contrato.assinaturaRepresentanteLegal,e.LSH)("alt",t.assinaturaUploadedFile?t.assinaturaUploadedFile.name:"Assinatura")}}function Ut(n,r){1&n&&e._UZ(0,"span",163)}function It(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",165),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.assinarMAC())}),e.YNc(1,Ut,1,0,"span",162),e.TgZ(2,"span",196),e._uU(3,"Assinar "),e.qZA(),e._UZ(4,"fa-icon",74),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.loading),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(3),e.Q6J("icon",t.faPenClip)}}function qt(n,r){if(1&n&&(e.TgZ(0,"div",192)(1,"p",197),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",198)(5,"span",197),e._uU(6,"Assinado"),e.qZA(),e._UZ(7,"fa-icon",74),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Assinado em ",e.xi3(3,2,t.objeto.contrato.dataAssinaturaIntermediadora,"dd/MM/yyyy HH:mm"),""),e.xp6(5),e.Q6J("icon",t.faCheck)}}function Nt(n,r){1&n&&e._UZ(0,"span",163)}function Et(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",165),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.certificadoAssinatura())}),e.YNc(1,Nt,1,0,"span",162),e.TgZ(2,"span",196),e._uU(3,"Gerar Certificado"),e.qZA(),e._UZ(4,"fa-icon",74),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.loading||!t.assinadoRepresentanteLegal),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(3),e.Q6J("icon",t.faPenClip)}}function jt(n,r){if(1&n&&(e.TgZ(0,"div",192)(1,"p",197),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"span",198)(5,"span",197),e._uU(6,"Inclu\xeddo"),e.qZA(),e._UZ(7,"fa-icon",74),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("Inclu\xeddo em ",e.xi3(3,2,t.objeto.contrato.dataCertificadoAssinatura,"dd/MM/yyyy HH:mm"),""),e.xp6(5),e.Q6J("icon",t.faCheck)}}function Jt(n,r){if(1&n&&(e.TgZ(0,"div",19)(1,"div",58)(2,"div",207)(3,"div",208)(4,"div",209)(5,"p"),e._uU(6,"Datas e hor\xe1rios em GMT -3:00 Bras\xedlia"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Certificado de assinaturas gerado quarta-feira, 24 de janeiro de 2024 18:57:16"),e.qZA()()(),e.TgZ(9,"div",210)(10,"div",209)(11,"p"),e._uU(12,"MAC MEIOS DE PAGAMENTO LTDA "),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16,"REF: XXXXXXXXX"),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20,"O documento n\xe3o foi modificado ap\xf3s a aplica\xe7\xe3o das assinaturas."),e.qZA()()(),e.TgZ(21,"div",210)(22,"div",211)(23,"h6",212)(24,"b"),e._uU(25,"Assinaturas"),e.qZA()(),e.TgZ(26,"p"),e._uU(27,"- A assinatura \xe9 "),e.TgZ(28,"b"),e._uU(29,"V\xc1LIDA"),e.qZA(),e._uU(30,", assinada por "),e.TgZ(31,"b"),e._uU(32),e.qZA()(),e.TgZ(33,"p"),e._uU(34,"- SOCIO ADM"),e.qZA(),e.TgZ(35,"p"),e._uU(36),e.qZA(),e.TgZ(37,"p"),e._uU(38),e.ALo(39,"date"),e.qZA(),e.TgZ(40,"p"),e._uU(41,"- A identidade do assinante \xe9 "),e.TgZ(42,"b"),e._uU(43,"V\xc1LIDA"),e.qZA()(),e._UZ(44,"img",213),e.qZA()(),e.TgZ(45,"div",209)(46,"p"),e._uU(47,"Esse LOG pertence unica e exclusivamente ao documento:"),e.qZA(),e.TgZ(48,"p"),e._uU(49),e.qZA()()()()()),2&n){const t=e.oxw(3);let a;e.xp6(14),e.Oqu(null==t.beneficiarioSelected?null:t.beneficiarioSelected.nome),e.xp6(4),e.hij("Controle PROCAMBIO: ",t.objeto.contrato.controleProCambio,""),e.xp6(14),e.AsE("",null!==(a=t.objeto.contrato.nomeRepresentanteLegal)&&void 0!==a?a:"REPRESENTANTE LEGAL"," - ID: ",null!==(a=t.objeto.contrato.codigoRepresentanteLegal)&&void 0!==a?a:"123456",""),e.xp6(4),e.hij("- IP: ",t.objeto.contrato.ipAssinaturaRepresentanteLegal,""),e.xp6(2),e.hij("- Hora da Assinatura: ",e.xi3(39,7,t.objeto.contrato.dataAssinaturaRepresentanteLegal,"dd/MM/yyyy HH:mm"),""),e.xp6(11),e.hij("Controle PROCAMBIO: ",t.objeto.contrato.controleProCambio,"")}}function Lt(n,r){1&n&&(e.TgZ(0,"div",19)(1,"p",3),e._uU(2,"Para gerar o certificado de assinatura, deve conter assinatura do representante legal."),e.qZA()())}function St(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,pt,2,0,"ng-template",12),e.TgZ(2,"div",13)(3,"form",null,164)(5,"div",19)(6,"div",16)(7,"button",165),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.contratoBicolunadoDownload())}),e._uU(8,"Baixar PDF"),e.qZA()()(),e.TgZ(9,"div",19)(10,"div",10)(11,"div",45)(12,"div",166)(13,"div",167)(14,"h6",168),e._uU(15,"Representante Legal / Contratante"),e.qZA(),e.YNc(16,vt,10,7,"div",32),e.YNc(17,ht,8,5,"div",169),e.qZA()(),e.TgZ(18,"div",19)(19,"div",170)(20,"label",171),e._uU(21,"Nome: "),e.TgZ(22,"span",3),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"input",172,173),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.objeto.contrato.nomeRepresentanteLegal=o)})("change",function(){e.CHM(t);const o=e.MAs(25),i=e.oxw(2);return e.KtG(i.objeto.contrato.nomeRepresentanteLegal=o.value.trim().toUpperCase())}),e.qZA(),e.YNc(26,xt,2,1,"div",32),e.qZA(),e.TgZ(27,"div",174)(28,"label",175),e._uU(29,"C\xf3digo: "),e.TgZ(30,"span",3),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"input",176,177),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2);return e.KtG(i.objeto.contrato.codigoRepresentanteLegal=o)})("change",function(){e.CHM(t);const o=e.MAs(33),i=e.oxw(2);return e.KtG(i.objeto.contrato.codigoRepresentanteLegal=o.value.trim().toUpperCase())}),e.qZA(),e.YNc(34,Ct,2,1,"div",32),e.qZA(),e.TgZ(35,"div",178)(36,"label",179),e._uU(37,"Assinatura: "),e.TgZ(38,"span",3),e._uU(39,"*"),e.qZA()(),e.YNc(40,yt,8,7,"div",180),e.YNc(41,Ft,2,2,"div",32),e.qZA()()()()(),e.TgZ(42,"div",19)(43,"div",10)(44,"div",181)(45,"div",166)(46,"div",182)(47,"h6",183),e._uU(48,"Assinatura Intermediadora"),e.qZA(),e.YNc(49,It,5,3,"button",184),e.YNc(50,qt,8,5,"div",169),e.qZA()(),e.TgZ(51,"div",19)(52,"div",185)(53,"label",186),e._uU(54,"Nome:"),e.qZA(),e._UZ(55,"input",187),e.qZA(),e.TgZ(56,"div",174)(57,"label",188),e._uU(58,"CNPJ/MF:"),e.qZA(),e._UZ(59,"input",189),e.qZA(),e.TgZ(60,"div",190)(61,"label",179),e._uU(62,"Assinatura: "),e.TgZ(63,"span",3),e._uU(64,"*"),e.qZA()(),e._UZ(65,"img",191),e.qZA()()()()(),e.TgZ(66,"div",19)(67,"div",10)(68,"div",181)(69,"div",166)(70,"div",182)(71,"h6",168),e._uU(72,"Certificado de Assinatura"),e.qZA(),e.TgZ(73,"div",192),e.YNc(74,Et,5,3,"button",184),e.YNc(75,jt,8,5,"div",169),e.qZA()()(),e.YNc(76,Jt,50,10,"div",193),e.YNc(77,Lt,3,0,"div",193),e.qZA()()()()()()}if(2&n){const t=e.MAs(25),a=e.MAs(33),o=e.oxw(2);e.xp6(7),e.Q6J("disabled",0==o.objeto.contrato.id),e.xp6(9),e.Q6J("ngIf",!o.assinadoRepresentanteLegal),e.xp6(1),e.Q6J("ngIf",o.assinadoRepresentanteLegal),e.xp6(7),e.Q6J("ngModel",o.objeto.contrato.nomeRepresentanteLegal)("readonly",o.readonlyRepresentanteLegal()),e.xp6(2),e.Q6J("ngIf",t.touched&&t.errors),e.xp6(6),e.Q6J("ngModel",o.objeto.contrato.codigoRepresentanteLegal)("readonly",o.readonlyRepresentanteLegal()),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors),e.xp6(6),e.Q6J("ngIf",!o.assinadoRepresentanteLegal),e.xp6(1),e.Q6J("ngIf",o.objeto.contrato.assinaturaRepresentanteLegal),e.xp6(8),e.Q6J("ngIf",!o.assinadoIntermediadora),e.xp6(1),e.Q6J("ngIf",o.assinadoIntermediadora),e.xp6(24),e.Q6J("ngIf",!o.certificadoAssinaturaIncluido),e.xp6(1),e.Q6J("ngIf",o.certificadoAssinaturaIncluido),e.xp6(1),e.Q6J("ngIf",o.objeto.contrato.dataCertificadoAssinatura),e.xp6(1),e.Q6J("ngIf",!o.objeto.contrato.dataCertificadoAssinatura)}}function Rt(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Swift"),e.qZA())}function Pt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"p-tabPanel"),e.YNc(1,Rt,2,0,"ng-template",12),e.TgZ(2,"div",214)(3,"div",215)(4,"button",165),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.swiftDownload())}),e._uU(5,"Baixar Documento Swift"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("disabled",0==t.objeto.invoice.id)}}function Qt(n,r){if(1&n&&(e.TgZ(0,"p",3),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(t.erro)}}function Ot(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Preencha os campos obrigat\xf3rios (*) de Invoice corretamente para salvar."),e.qZA())}function Yt(n,r){1&n&&(e.TgZ(0,"p",3),e._uU(1,"Preencha os campos obrigat\xf3rios (*) de Contrato corretamente para salvar."),e.qZA())}function Ht(n,r){if(1&n&&(e.TgZ(0,"div",220),e.YNc(1,Qt,2,1,"p",159),e.YNc(2,Ot,2,0,"p",159),e.YNc(3,Yt,2,0,"p",159),e.qZA()),2&n){e.oxw(2);const t=e.MAs(6),a=e.MAs(131),o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.erro),e.xp6(1),e.Q6J("ngIf",t.invalid&&!o.erro),e.xp6(1),e.Q6J("ngIf",a.invalid&&!o.erro)}}function kt(n,r){1&n&&e._UZ(0,"span",163)}function Gt(n,r){1&n&&e._UZ(0,"span",163)}function Dt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",216),e.YNc(1,Ht,4,3,"div",217),e.TgZ(2,"button",218),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.kitDownload())}),e.YNc(3,kt,1,0,"span",162),e.TgZ(4,"span"),e._uU(5,"Baixar Kit"),e.qZA()(),e.TgZ(6,"button",219),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(6),i=e.MAs(131),l=e.oxw();return e.KtG(l.send(o,i))}),e.YNc(7,Gt,1,0,"span",162),e.TgZ(8,"span"),e._uU(9,"Salvar e Gerar Swift"),e.qZA()()()}if(2&n){e.oxw();const t=e.MAs(6),a=e.MAs(131),o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.erro||t.invalid||a.invalid),e.xp6(1),e.Q6J("disabled",o.loading||o.loadingSwiftFile||o.loadingContratoBicolunadoFile||o.loadingContratoFile||o.loadingInvoiceFile),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(3),e.Q6J("disabled",t.invalid||a.invalid||o.loading||o.loadingSwiftFile||o.loadingContratoBicolunadoFile||o.loadingContratoFile||o.loadingInvoiceFile),e.xp6(1),e.Q6J("ngIf",o.loading)}}const Bt=function(){return["nome","simbolo","codigo"]},$=function(){return["nome","codigoRegistro"]},Kt=function(){return["nome"]};function Vt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"p-tabView",11),e.NdJ("activeIndexChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.tabChanged(o))}),e.TgZ(2,"p-tabPanel"),e.YNc(3,Ie,2,0,"ng-template",12),e.TgZ(4,"div",13)(5,"form",null,14)(7,"div",15)(8,"div",16)(9,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.invoiceDownload())}),e._uU(10,"Baixar PDF"),e.qZA(),e.YNc(11,qe,2,0,"span",18),e.qZA()(),e.TgZ(12,"div",19)(13,"div",20)(14,"label",21),e._uU(15,"N\xba: "),e.TgZ(16,"span",3),e._uU(17,"*"),e.qZA(),e.TgZ(18,"small"),e._uU(19,"(autom\xe1tico)"),e.qZA()(),e.TgZ(20,"input",22,23),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.invoice.id=o)}),e.qZA()(),e.TgZ(22,"div",24)(23,"label",25),e._uU(24,"Data Invoice: "),e.TgZ(25,"span",3),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"app-input-date",26),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.invoice.data=o)}),e.qZA()(),e.TgZ(28,"div",24)(29,"label",27),e._uU(30,"Moeda: "),e.TgZ(31,"span",3),e._uU(32,"*"),e.qZA()(),e.TgZ(33,"p-dropdown",28,29),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.invoice.moeda_Id=o)}),e.YNc(35,Ee,12,6,"ng-template",30),e.YNc(36,Je,4,2,"ng-template",31),e.qZA(),e.YNc(37,Se,2,1,"div",32),e.qZA(),e.TgZ(38,"div",33)(39,"label",34),e._uU(40,"Valor: "),e.TgZ(41,"span",3),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"app-input-number",35),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw();return i.objeto.invoice.valor=o,i.calculaMoedaNacional(),e.KtG(i.calculaVET())}),e.qZA()(),e.TgZ(44,"div",36)(45,"label",37),e._uU(46,"Institui\xe7\xe3o Financeira: "),e.TgZ(47,"span",3),e._uU(48,"*"),e.qZA()(),e.TgZ(49,"p-dropdown",38,39),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.invoice.instituicaoFinanceira_Id=o)}),e.YNc(51,Re,7,2,"ng-template",30),e.YNc(52,Qe,4,2,"ng-template",31),e.qZA(),e.YNc(53,Ye,2,1,"div",32),e.qZA(),e.TgZ(54,"div",40)(55,"label",41),e._uU(56,"Benefici\xe1rio: "),e.TgZ(57,"span",3),e._uU(58,"*"),e.qZA()(),e.TgZ(59,"p-dropdown",42,43),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.invoice.beneficiario_Id=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.beneficiarioChange())}),e.YNc(61,He,7,2,"ng-template",30),e.YNc(62,Ge,4,2,"ng-template",31),e.qZA(),e.YNc(63,Be,2,1,"div",32),e.qZA()(),e.TgZ(64,"div",19)(65,"div",44)(66,"div",45)(67,"div",19)(68,"div",46)(69,"div",47)(70,"h6"),e._uU(71,"Dados do Benefici\xe1rio "),e.qZA(),e.TgZ(72,"p",48)(73,"small",3),e._uU(74,"(Selecione um benefici\xe1rio para carregar dados)"),e.qZA()()(),e.TgZ(75,"div",49)(76,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.alterarConta=!0)}),e._uU(77,"Alterar conta"),e.qZA()()()(),e.TgZ(78,"div",19)(79,"div",24)(80,"label",51),e._uU(81,"Banco: "),e.qZA(),e._UZ(82,"input",52),e.qZA(),e.TgZ(83,"div",24)(84,"label",53),e._uU(85,"Conta: "),e.qZA(),e.TgZ(86,"input",54,55),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.invoice.conta=o)}),e.qZA(),e.YNc(88,Ve,2,1,"div",32),e.qZA(),e.TgZ(89,"div",24)(90,"label",56),e._uU(91,"C\xf3digo Swift "),e.TgZ(92,"small"),e._uU(93,"(Banco)"),e.qZA(),e._uU(94,": "),e.qZA(),e._UZ(95,"input",57),e.qZA()(),e.TgZ(96,"div",19)(97,"div")(98,"small")(99,"b"),e._uU(100,"Endere\xe7o do banco"),e.qZA()(),e._UZ(101,"hr",58),e.qZA()(),e.TgZ(102,"div",19)(103,"div",59)(104,"label",60),e._uU(105,"Endere\xe7o: "),e.qZA(),e.TgZ(106,"textarea",61),e._uU(107,"                                                "),e.qZA()(),e.TgZ(108,"div",62)(109,"label",63),e._uU(110,"Cidade: "),e.qZA(),e._UZ(111,"input",64),e.qZA(),e.TgZ(112,"div",65)(113,"label",66),e._uU(114,"UF: "),e.qZA(),e._UZ(115,"input",67),e.qZA(),e.TgZ(116,"div",62)(117,"label",68),e._uU(118,"Pa\xeds: "),e.qZA(),e._UZ(119,"input",69),e.qZA()()()()(),e.TgZ(120,"div",70)(121,"div",71),e.YNc(122,$e,2,1,"div",32),e.TgZ(123,"button",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.tabChanged(1))}),e.TgZ(124,"span",73),e._uU(125,"Pr\xf3ximo"),e.qZA(),e._UZ(126,"fa-icon",74),e.qZA()()()()()(),e.TgZ(127,"p-tabPanel",75),e.YNc(128,Xe,2,0,"ng-template",12),e.TgZ(129,"div",13)(130,"form",null,76)(132,"div",15)(133,"div",16)(134,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.contratoDownload())}),e._uU(135,"Baixar PDF"),e.qZA(),e.YNc(136,We,2,0,"span",18),e.qZA()(),e.TgZ(137,"div",19)(138,"div",77)(139,"label",25),e._uU(140,"Data do contrato: "),e.TgZ(141,"span",3),e._uU(142,"*"),e.qZA()(),e.TgZ(143,"app-input-date",26),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.data=o)}),e.qZA()(),e.TgZ(144,"div",78)(145,"label",79),e._uU(146,"N\xba do Contrato de C\xe2mbio: "),e.TgZ(147,"span",3),e._uU(148,"*"),e.qZA(),e.TgZ(149,"small"),e._uU(150,"(autom\xe1tico)"),e.qZA()(),e.TgZ(151,"input",80,81),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.numContrato=o)}),e.qZA()(),e.TgZ(153,"div",82)(154,"label",83),e._uU(155,"Tipo do Contrato de C\xe2mbio: "),e.TgZ(156,"span",3),e._uU(157,"*"),e.qZA()(),e.TgZ(158,"p-dropdown",84,85),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.tipo_Id=o)}),e.YNc(160,et,3,1,"ng-template",30),e.qZA(),e.YNc(161,ot,2,1,"div",32),e.qZA(),e.TgZ(162,"div",86)(163,"label",87),e._uU(164,"Eventos: "),e.TgZ(165,"span",3),e._uU(166,"*"),e.qZA()(),e.TgZ(167,"p-dropdown",88,89),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.evento_Id=o)}),e.YNc(169,nt,3,1,"ng-template",30),e.qZA(),e.YNc(170,it,2,1,"div",32),e.qZA()(),e.TgZ(171,"div",19)(172,"div",90)(173,"label",91),e._uU(174,"Taxa Cambial: "),e.TgZ(175,"small"),e._uU(176,"(USD)"),e.qZA(),e._uU(177,"\xa0"),e.TgZ(178,"span",3),e._uU(179,"*"),e.qZA()(),e.TgZ(180,"app-input-number",92),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw();return i.objeto.contrato.taxa=o,i.calculaMoedaNacional(),e.KtG(i.calculaVET())}),e.qZA()(),e.TgZ(181,"div",93)(182,"label",94),e._uU(183,"Valor Moeda Nacional: "),e.TgZ(184,"small"),e._uU(185,"(R$)"),e.qZA(),e._uU(186,"\xa0"),e.TgZ(187,"span",3),e._uU(188,"*"),e.qZA()(),e.TgZ(189,"input",95,96),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.valorNacional=o)})("focus",function(o){e.CHM(t);const i=e.MAs(191);e.oxw();const l=e.MAs(16);return e.KtG(l.show(o,i))})("blur",function(){e.CHM(t),e.oxw();const o=e.MAs(16);return e.KtG(o.hide())})("mouseenter",function(o){e.CHM(t);const i=e.MAs(191);e.oxw();const l=e.MAs(16);return e.KtG(l.show(o,i))})("mouseleave",function(){e.CHM(t),e.oxw();const o=e.MAs(16);return e.KtG(o.hide())}),e.qZA()(),e.TgZ(192,"div",97)(193,"label",98),e._uU(194,"Percentual de Adiantamento: "),e.TgZ(195,"small"),e._uU(196,"(%)"),e.qZA(),e._uU(197,"\xa0"),e.qZA(),e.TgZ(198,"app-input-number",99),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.percentualAdiantamento=o)}),e.qZA()(),e.TgZ(199,"div",100)(200,"label",101),e._uU(201,"RDE:"),e.qZA(),e.TgZ(202,"input",102,103),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.rde=o)})("change",function(){e.CHM(t);const o=e.MAs(203),i=e.oxw();return e.KtG(i.objeto.contrato.rde=o.value.trim().toUpperCase())}),e.qZA()()(),e.TgZ(204,"div",19)(205,"div",104)(206,"label",105),e._uU(207,"Valor Efetivo Total (VET):"),e.qZA(),e.TgZ(208,"input",106,107),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.vet=o)})("focus",function(o){e.CHM(t);const i=e.MAs(210);e.oxw();const l=e.MAs(6);return e.KtG(l.show(o,i))})("blur",function(){e.CHM(t),e.oxw();const o=e.MAs(6);return e.KtG(o.hide())})("mouseenter",function(o){e.CHM(t);const i=e.MAs(210);e.oxw();const l=e.MAs(6);return e.KtG(l.show(o,i))})("mouseleave",function(){e.CHM(t),e.oxw();const o=e.MAs(6);return e.KtG(o.hide())}),e.qZA()(),e.TgZ(211,"div",108)(212,"label",109),e._uU(213,"Descri\xe7\xe3o da Forma de Entrega da moeda estrangeira:"),e.qZA(),e.TgZ(214,"input",110,111),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.descricaoFormaEntrega=o)})("change",function(){e.CHM(t);const o=e.MAs(215),i=e.oxw();return e.KtG(i.objeto.contrato.descricaoFormaEntrega=o.value.trim().toUpperCase())}),e.qZA()(),e.TgZ(216,"div",112)(217,"label",113),e._uU(218,"Liquida\xe7\xe3o At\xe9: "),e.TgZ(219,"span",3),e._uU(220,"*"),e.qZA()(),e.TgZ(221,"app-input-date",114),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.dataLiquidacao=o)}),e.qZA()()(),e.TgZ(222,"div",19)(223,"div",115)(224,"label",116),e._uU(225,"C\xf3digo da Natureza:"),e.qZA(),e.TgZ(226,"app-input-number",117),e.NdJ("valueChanges",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.codigoNatureza=o)}),e.qZA()(),e.TgZ(227,"div",118)(228,"label",119),e._uU(229,"Descri\xe7\xe3o da Natureza do Fato:"),e.qZA(),e.TgZ(230,"input",120,121),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.descricaoNaturezaFato=o)})("change",function(){e.CHM(t);const o=e.MAs(231),i=e.oxw();return e.KtG(i.objeto.contrato.descricaoNaturezaFato=o.value.trim().toUpperCase())}),e.qZA()()(),e.TgZ(232,"div",122)(233,"div",123)(234,"label",68),e._uU(235,"Pa\xeds do Pagador/Recebedor no Exterior:"),e.qZA(),e._UZ(236,"input",69),e.qZA(),e.TgZ(237,"div",124)(238,"label",125),e._uU(239,"Pagador/Recebedor no Exterior:"),e.qZA(),e._UZ(240,"input",126),e.qZA(),e.TgZ(241,"div",127)(242,"label",128),e._uU(243,"C\xf3digo da Rela\xe7\xe3o de V\xednculo entre cliente e o Pagador/Recebedor:"),e.qZA(),e.TgZ(244,"input",129,130),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.codigoVinculoPagRecExterior=o)})("change",function(){e.CHM(t);const o=e.MAs(245),i=e.oxw();return e.KtG(i.objeto.contrato.codigoVinculoPagRecExterior=o.value.trim().toUpperCase())}),e.qZA()()(),e.TgZ(246,"div",19)(247,"div",131)(248,"label",132),e._uU(249,"Especifica\xe7\xf5es: "),e.qZA(),e.TgZ(250,"textarea",133,134),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.especificacoes=o)})("change",function(){e.CHM(t);const o=e.MAs(251),i=e.oxw();return e.KtG(i.objeto.contrato.especificacoes=o.value.trim().toUpperCase())}),e._uU(252,"                                  "),e.qZA()(),e.TgZ(253,"div",135)(254,"label",136),e._uU(255,"Cl\xe1usulas: "),e.qZA(),e.TgZ(256,"textarea",137,138),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.clausulas=o)})("change",function(){e.CHM(t);const o=e.MAs(257),i=e.oxw();return e.KtG(i.objeto.contrato.clausulas=o.value.trim().toUpperCase())}),e._uU(258,"                                  "),e.qZA()(),e.TgZ(259,"div",139)(260,"label",140),e._uU(261,"Instru\xe7\xf5es de Recebimento/Pagamento: "),e.qZA(),e.TgZ(262,"textarea",141,142),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.objeto.contrato.instrucoesRecebimentoPagamento=o)})("change",function(){e.CHM(t);const o=e.MAs(263),i=e.oxw();return e.KtG(i.objeto.contrato.instrucoesRecebimentoPagamento=o.value.trim().toUpperCase())}),e._uU(264,"                                  "),e.qZA()()(),e.TgZ(265,"div",70)(266,"div",71)(267,"button",143),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.tabChanged(0))}),e._UZ(268,"fa-icon",74),e.TgZ(269,"span",144),e._uU(270,"Anterior"),e.qZA()(),e.YNc(271,lt,2,1,"div",32),e.YNc(272,ct,4,2,"button",145),e.YNc(273,dt,4,2,"button",146),e.qZA()()()()(),e.YNc(274,St,78,17,"p-tabPanel",32),e.YNc(275,Pt,6,1,"p-tabPanel",32),e.qZA(),e.YNc(276,Dt,10,5,"div",147),e.qZA()}if(2&n){const t=e.MAs(6),a=e.MAs(34),o=e.MAs(50),i=e.MAs(60),l=e.MAs(87),g=e.MAs(131),Z=e.MAs(159),T=e.MAs(168),c=e.oxw();let m,f,w,y,F,U,I,q;e.xp6(1),e.Q6J("activeIndex",c.activeIndex),e.xp6(8),e.Q6J("disabled",0==c.objeto.invoice.id),e.xp6(2),e.Q6J("ngIf",0==c.objeto.invoice.id),e.xp6(9),e.Q6J("ngModel",c.objeto.invoice.id),e.xp6(7),e.Q6J("valueInput",c.objeto.invoice.data)("inputId","data")("showErrorMessage",!0)("required",!0),e.xp6(6),e.Q6J("options",c.moedas)("ngModel",c.objeto.invoice.moeda_Id)("styleClass","form-control "+(c.loadingMoedas?"form-control-loading":""))("showClear",!0)("filter",!0)("filterFields",e.DdM(145,Bt))("required",!0)("showClear",!0),e.xp6(4),e.Q6J("ngIf",a.touched&&a.errors),e.xp6(6),e.Q6J("valueInput",c.objeto.invoice.valor)("inputId","valor")("mask","separator.2")("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!1)("leadZero",!0)("min",.1)("max",999999999),e.xp6(6),e.Q6J("styleClass","form-control "+(c.loadingInstituicaoFinanceira?"form-control-loading":""))("showClear",!0)("options",c.instituicaoFinanceira)("ngModel",c.objeto.invoice.instituicaoFinanceira_Id)("placeholder","Selecione")("disabled",c.loadingInstituicaoFinanceira)("required",!0)("filter",!0)("filterFields",e.DdM(146,$)),e.xp6(4),e.Q6J("ngIf",o.touched&&o.errors),e.xp6(6),e.Q6J("options",c.beneficiarios)("ngModel",c.objeto.invoice.beneficiario_Id)("styleClass","form-control "+(c.loadingBeneficiarios?"form-control-loading":""))("showClear",!0)("filter",!0)("filterFields",e.DdM(147,$))("required",!0)("showClear",!1),e.xp6(4),e.Q6J("ngIf",i.touched&&i.errors),e.xp6(19),e.Q6J("value",null!==(m=null==c.bancoBeneficiarioSelected?null:c.bancoBeneficiarioSelected.nome)&&void 0!==m?m:"N/A"),e.xp6(4),e.Q6J("ngModel",c.objeto.invoice.conta)("readonly",!c.alterarConta),e.xp6(2),e.Q6J("ngIf",l.touched&&l.errors),e.xp6(7),e.Q6J("value",null!==(f=null==c.bancoBeneficiarioSelected?null:c.bancoBeneficiarioSelected.codigoSwift)&&void 0!==f?f:"N/A"),e.xp6(11),e.Q6J("value",null!==(w=null==c.bancoBeneficiarioSelected?null:c.bancoBeneficiarioSelected.logradouro)&&void 0!==w?w:"N/A"),e.xp6(5),e.Q6J("value",null!==(y=null==c.bancoBeneficiarioSelected?null:c.bancoBeneficiarioSelected.cidade)&&void 0!==y?y:"N/A"),e.xp6(4),e.Q6J("value",null!==(F=null==c.bancoBeneficiarioSelected?null:c.bancoBeneficiarioSelected.estado)&&void 0!==F?F:"N/A"),e.xp6(4),e.Q6J("value",null!==(U=null==c.bancoBeneficiarioSelected?null:c.bancoBeneficiarioSelected.pais_Id)&&void 0!==U?U:"N/A"),e.xp6(3),e.Q6J("ngIf",t.invalid),e.xp6(1),e.Q6J("disabled",t.invalid),e.xp6(3),e.Q6J("icon",c.faArrowRight),e.xp6(1),e.Q6J("disabled",1==t.invalid),e.xp6(7),e.Q6J("disabled",0==c.objeto.invoice.id),e.xp6(2),e.Q6J("ngIf",0==c.objeto.invoice.id),e.xp6(7),e.Q6J("valueInput",c.objeto.contrato.data)("inputId","data")("showErrorMessage",!0)("required",!0),e.xp6(8),e.Q6J("ngModel",c.objeto.contrato.numContrato)("readonly",!0),e.xp6(7),e.Q6J("options",c.tipos)("ngModel",c.objeto.contrato.tipo_Id)("styleClass","form-control "+(c.loadingTipo?"form-control-loading":""))("showClear",!0)("filter",!0)("required",!0)("showClear",!0),e.xp6(3),e.Q6J("ngIf",Z.touched&&Z.errors),e.xp6(6),e.Q6J("options",c.eventos)("ngModel",c.objeto.contrato.evento_Id)("styleClass","form-control "+(c.loadingEvento?"form-control-loading":""))("showClear",!0)("filter",!0)("filterFields",e.DdM(148,Kt))("required",!0)("showClear",!0),e.xp6(3),e.Q6J("ngIf",T.touched&&T.errors),e.xp6(10),e.Q6J("valueInput",c.objeto.contrato.taxa)("inputId","taxa")("mask","separator.4")("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!1)("min",.1)("max",999999999)("leadZero",!0),e.xp6(9),e.Q6J("ngModel",c.objeto.contrato.valorNacional)("readOnly",!0)("mask","separator.2")("min",.1)("max",999999999)("leadZero",!0),e.xp6(9),e.Q6J("valueInput",c.objeto.contrato.percentualAdiantamento)("inputId","percentualAdiantamento")("mask","separator.2")("showErrorMessage",!1)("allowNegativeNumbers",!1)("required",!1)("autoReplaceValue",!1)("suffix","%")("min",0)("max",100)("leadZero",!0),e.xp6(4),e.Q6J("ngModel",c.objeto.contrato.rde),e.xp6(6),e.Q6J("ngModel",c.objeto.contrato.vet)("readOnly",!0)("mask","separator.4")("leadZero",!0),e.xp6(6),e.Q6J("ngModel",c.objeto.contrato.descricaoFormaEntrega),e.xp6(7),e.Q6J("valueInput",c.objeto.contrato.dataLiquidacao)("inputId","dataLiquidacao")("showErrorMessage",!0)("required",!0),e.xp6(5),e.Q6J("valueInput",c.objeto.contrato.codigoNatureza)("inputId","codigoNatureza")("mask","00000-00-A-00-00")("showErrorMessage",!1)("allowNegativeNumbers",!1)("required",!1)("readonly",!0)("autoReplaceValue",!1)("leadZero",!1),e.xp6(4),e.Q6J("ngModel",c.objeto.contrato.descricaoNaturezaFato),e.xp6(6),e.Q6J("value",null!==(I=null==c.beneficiarioSelected?null:c.beneficiarioSelected.pais_Id)&&void 0!==I?I:"N/A"),e.xp6(4),e.Q6J("value",null!==(q=null==c.beneficiarioSelected?null:c.beneficiarioSelected.nome)&&void 0!==q?q:"N/A"),e.xp6(4),e.Q6J("ngModel",c.objeto.contrato.codigoVinculoPagRecExterior)("readonly",!0),e.xp6(6),e.Q6J("ngModel",c.objeto.contrato.especificacoes),e.xp6(6),e.Q6J("ngModel",c.objeto.contrato.clausulas),e.xp6(6),e.Q6J("ngModel",c.objeto.contrato.instrucoesRecebimentoPagamento),e.xp6(6),e.Q6J("icon",c.faArrowLeft),e.xp6(3),e.Q6J("ngIf",g.invalid),e.xp6(1),e.Q6J("ngIf",c.isEditPage),e.xp6(1),e.Q6J("ngIf",!c.isEditPage),e.xp6(1),e.Q6J("ngIf",c.isEditPage),e.xp6(1),e.Q6J("ngIf",c.isEditPage),e.xp6(1),e.Q6J("ngIf",c.isEditPage)}}let X=(()=>{class n{constructor(t,a,o,i,l,g,Z,T,c,m,f,w,y,F,U,I,q){this.activatedRoute=t,this.crypto=a,this.datepipe=o,this.toastr=i,this.moedaService=l,this.beneficiarioService=g,this.bancoService=Z,this.instituicaoFinanceiraService=T,this.invoiceService=c,this.contratoService=m,this.contratoTipoService=f,this.contratoEventoService=w,this.paisesService=y,this.modalService=F,this.loadingService=U,this.router=I,this.accountService=q,this.faEdit=b.Xcf,this.faTrash=b.$aW,this.faArrowRight=b.eFW,this.faArrowLeft=b.acZ,this.faPenClip=b.k8y,this.faCheck=b.LEp,this.objeto=new ne,this.erro="",this.loading=!1,this.loadingInvoiceFile=!1,this.loadingContratoFile=!1,this.loadingSwiftFile=!1,this.loadingContratoBicolunadoFile=!1,this.subscription=[],this.modal=new E.u,this.isEditPage=!0,this.activeIndex=2,this.tipos=[],this.loadingTipo=!0,this.eventos=[],this.loadingEvento=!0,this.beneficiarios=[],this.loadingBeneficiarios=!1,this.paises=[],this.loadingPais=!0,this.moedas=[],this.loadingMoedas=!0,this.instituicaoFinanceira=[],this.loadingInstituicaoFinanceira=!0,this.alterarConta=!1,this.podeExcluir=!1,this.assinaturaIsUploaded=!1,this.alterarRepresentanteLegal=!1,this.assinadoRepresentanteLegal=!1,this.assinadoIntermediadora=!1,this.certificadoAssinaturaIncluido=!1,this.podeExcluir=1==this.accountService.accountValue?.perfilAcesso_Id,(0,d.n)(this.moedaService.getList()).then(u=>this.moedas=u).finally(()=>this.loadingMoedas=!1);var co=this.moedaService.list.subscribe(u=>this.moedas=u);this.subscription.push(co),(0,d.n)(this.paisesService.getList()).then(u=>this.paises=u).finally(()=>this.loadingPais=!1),(0,d.n)(this.beneficiarioService.getList()).then(u=>{this.beneficiarios=u,this.loadingBeneficiarios=!1});var so=this.beneficiarioService.list.subscribe(u=>this.beneficiarios=u);this.subscription.push(so),(0,d.n)(this.instituicaoFinanceiraService.getList()).then(u=>this.instituicaoFinanceira=u).finally(()=>this.loadingInstituicaoFinanceira=!1);var po=this.instituicaoFinanceiraService.list.subscribe(u=>this.instituicaoFinanceira=u);this.subscription.push(po),(0,d.n)(this.contratoTipoService.getList()).then(u=>this.tipos=u).finally(()=>this.loadingTipo=!1),(0,d.n)(this.contratoEventoService.getList()).then(u=>this.eventos=u).finally(()=>this.loadingEvento=!1),(0,d.n)(this.paisesService.getList()).then(u=>this.paises=u).finally(()=>this.loadingPais=!1)}ngAfterViewInit(){var t=this;this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"1100px"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute};var a=this.activatedRoute.params.subscribe(o=>{o.invoice_id?(this.objeto.invoice.id=this.crypto.decrypt(o.invoice_id),this.modal.title="Editar Invoice",this.modal.routerBack=["../../"],this.isEditPage=!0,(0,d.n)(this.invoiceService.get(this.objeto.invoice.id)).then(function(){var i=(0,_.Z)(function*(l){l.contrato.numContrato=l.invoice.id.toString(),l.invoice.data=t.datepipe.transform(l.invoice.data,"yyyy-MM-ddTHH:mm"),l.contrato.data=t.datepipe.transform(l.contrato.data,"yyyy-MM-ddTHH:mm"),l.contrato.dataLiquidacao=t.datepipe.transform(l.contrato.dataLiquidacao,"yyyy-MM-dd"),l.contrato.dataAssinaturaRepresentanteLegal=t.datepipe.transform(l.contrato.dataAssinaturaRepresentanteLegal,"yyyy-MM-ddTHH:mm"),l.contrato.dataAssinaturaIntermediadora=t.datepipe.transform(l.contrato.dataAssinaturaIntermediadora,"yyyy-MM-ddTHH:mm"),l.contrato.dataCertificadoAssinatura=t.datepipe.transform(l.contrato.dataCertificadoAssinatura,"yyyy-MM-ddTHH:mm"),t.assinadoRepresentanteLegal=null!=l.contrato.dataAssinaturaRepresentanteLegal&&null!=l.contrato.dataAssinaturaRepresentanteLegal,t.assinadoIntermediadora=null!=l.contrato.dataAssinaturaIntermediadora&&null!=l.contrato.dataAssinaturaIntermediadora,t.certificadoAssinaturaIncluido=null!=l.contrato.dataCertificadoAssinatura&&null!=l.contrato.dataCertificadoAssinatura,t.objeto=l,t.objeto.contrato=new O.hi(l.contrato),yield t.beneficiarioChange(),t.calculaMoedaNacional(),t.calculaVET(),setTimeout(()=>{t.modal=t.modalService.addModal(t.modal,"invoice")},200)});return function(l){return i.apply(this,arguments)}}()).catch(i=>{this.voltar()})):(this.modal.title="Cadastrar Invoice",this.modal.routerBack=["../"],this.isEditPage=!1,this.objeto.invoice.data=this.datepipe.transform(this.objeto.invoice.data,"yyyy-MM-ddTHH:mm"),this.objeto.contrato.dataLiquidacao=this.datepipe.transform(this.objeto.contrato.dataLiquidacao,"yyyy-MM-dd"),this.objeto.contrato.data=this.datepipe.transform(this.objeto.contrato.data,"yyyy-MM-ddTHH:mm"),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"invoice")},200))});this.subscription.push(a)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}encryptId(t){const a=this.crypto.encrypt(t);return null!==a?a:""}voltar(){this.modalService.removeModal(this.modal)}tabChanged(t){this.activeIndex=t,(0,_e.Z)(t)}beneficiarioChange(){var t=this;return(0,_.Z)(function*(){t.objeto.invoice.beneficiario_Id?(t.loadingBeneficiarios=!0,yield(0,d.n)(t.beneficiarioService.get(t.objeto.invoice.beneficiario_Id)).then(function(){var a=(0,_.Z)(function*(o){o.pais_Id=t.paises.find(i=>i.id==o.pais_Id)?.nome??"",t.objeto.invoice.conta=o.conta,t.objeto.contrato.nomeRepresentanteLegal=o.nomeRepresentanteLegal,t.objeto.contrato.codigoRepresentanteLegal=o.codigoRepresentanteLegal,t.objeto.contrato.assinaturaRepresentanteLegal=o.assinaturaRepresentanteLegal,t.beneficiarioSelected=o,yield(0,d.n)(t.bancoService.get(o.banco_Id)).then(i=>{i.pais_Id=t.paises.find(l=>l.id==i.pais_Id)?.nome??"",t.bancoBeneficiarioSelected=i}).catch(i=>t.toastr.error("N\xe3o foi poss\xedvel carregar dados do banco."))});return function(o){return a.apply(this,arguments)}}()).catch(a=>t.toastr.error("N\xe3o foi poss\xedvel carregar dados do benefici\xe1rio.")),t.loadingBeneficiarios=!1):(delete t.beneficiarioSelected,delete t.bancoBeneficiarioSelected)})()}moedaEditar(t){var a=this.crypto.encrypt(t.id);this.router.navigate(["moeda",a],{relativeTo:this.activatedRoute})}moedaExcluir(t){var a=this.crypto.encrypt(t);this.router.navigate(["moeda","excluir",a],{relativeTo:this.activatedRoute})}invoiceDownload(){var t=this;return(0,_.Z)(function*(){0!=t.objeto.invoice.id?(t.loadingInvoiceFile=!0,t.loadingService.message.next("Carregando documento invoice."),yield(0,d.n)(t.invoiceService.file(t.objeto.invoice.id)),t.loadingInvoiceFile=!1,t.loadingService.message.next("")):t.toastr.error("Voc\xea deve primeiro salvar os dados para fazer o download.")})()}contratoDownload(){var t=this;return(0,_.Z)(function*(){0!=t.objeto.invoice.id?(t.loadingContratoFile=!0,t.loadingService.message.next("Carregando Contrato."),yield(0,d.n)(t.contratoService.contrato(t.objeto.contrato.id)),t.loadingContratoFile=!1,t.loadingService.message.next("")):t.toastr.error("Voc\xea deve primeiro salvar os dados para fazer o download.")})()}swiftDownload(){var t=this;return(0,_.Z)(function*(){0!=t.objeto.invoice.id?(t.loadingSwiftFile=!0,t.loadingService.message.next("Carregando Swift."),yield(0,d.n)(t.invoiceService.fileSwift(t.objeto.invoice.id)),t.loadingSwiftFile=!1,t.loadingService.message.next("")):t.toastr.error("Voc\xea deve primeiro salvar os dados para fazer o download.")})()}contratoBicolunadoDownload(){var t=this;return(0,_.Z)(function*(){0!=t.objeto.contrato.id?(t.loadingContratoBicolunadoFile=!0,t.loadingService.message.next("Carregando Contrato Bicolunado."),yield(0,d.n)(t.contratoService.contratoBicolunado(t.objeto.contrato.id)),t.loadingContratoBicolunadoFile=!1,t.loadingService.message.next("")):t.toastr.error("Voc\xea deve primeiro salvar os dados para fazer o download.")})()}kitDownload(){var t=this;return(0,_.Z)(function*(){0!=t.objeto.invoice.id?(t.loading=!0,yield(0,d.n)(t.invoiceService.kitZip(t.objeto.invoice.id)),t.loading=!1):t.toastr.error("Voc\xea deve primeiro salvar os dados para fazer o download.")})()}calculaMoedaNacional(){this.objeto.invoice.valor&&this.objeto.contrato.taxa&&(this.objeto.contrato.valorNacional=this.objeto.invoice.valor*this.objeto.contrato.taxa)}calculaVET(){this.objeto.invoice.valor&&this.objeto.contrato.valorNacional&&(this.objeto.contrato.vet=(this.objeto.contrato.valorNacional+.0038*this.objeto.contrato.valorNacional)/this.objeto.invoice.valor)}fileChange(t){var a=t.target.files[0];if(this.assinaturaUploadedFile=a,console.log(a),a){var o=new FileReader,i=this;o.onload=function(g){var Z=g.target?.result;i.objeto.contrato.assinaturaRepresentanteLegal=Z,i.assinaturaIsUploaded=!0},o.onerror=function(g){i.toastr.error("N\xe3o foi poss\xedvel realizar upload")},o.readAsDataURL(a)}else this.toastr.error("Selecione uma imagem para salvar.")}alterarDadosRepresentanteLegal(){this.alterarRepresentanteLegal=!this.alterarRepresentanteLegal,this.alterarRepresentanteLegal||(this.objeto.contrato.assinaturaRepresentanteLegal=this.beneficiarioSelected?this.beneficiarioSelected.assinaturaRepresentanteLegal:"",this.objeto.contrato.nomeRepresentanteLegal=this.beneficiarioSelected?this.beneficiarioSelected.nomeRepresentanteLegal:"",this.objeto.contrato.codigoRepresentanteLegal=this.beneficiarioSelected?this.beneficiarioSelected.codigoRepresentanteLegal:"",this.assinaturaIsUploaded=!1,delete this.assinaturaUploadedFile)}readonlyRepresentanteLegal(){var t=!1;return this.objeto.contrato.nomeRepresentanteLegal&&this.objeto.contrato.codigoRepresentanteLegal&&this.objeto.contrato.assinaturaRepresentanteLegal&&(t=!0),t&&!this.alterarRepresentanteLegal||!this.alterarRepresentanteLegal}assinarRepresentanteLegal(){var t=this;return(0,_.Z)(function*(){t.objeto.contrato.assinaturaRepresentanteLegal?t.beneficiarioSelected?(t.loading=!0,yield(0,d.n)(t.contratoService.assinarRepresentanteLegal(t.objeto.contrato.id)).then(a=>{a.sucesso?(t.assinadoRepresentanteLegal=!0,t.objeto.contrato=a.objeto):t.erro=a.mensagem}).catch(a=>{t.erro=(0,M.b)(a)}),t.loading=!1):t.toastr.error("Selecione um benefici\xe1rio para assinar."):t.toastr.error("Inclua uma assinatura v\xe1lida para assinar.")})()}assinarMAC(){var t=this;return(0,_.Z)(function*(){t.loading=!0,yield(0,d.n)(t.contratoService.assinarMAC(t.objeto.contrato.id)).then(a=>{a.sucesso?(t.assinadoIntermediadora=!0,t.objeto.contrato=a.objeto):t.erro=a.mensagem}).catch(a=>{t.erro=(0,M.b)(a)}),t.loading=!1})()}certificadoAssinatura(){var t=this;return(0,_.Z)(function*(){t.loading=!0,yield(0,d.n)(t.contratoService.certificadoAssinatura(t.objeto.contrato.id)).then(a=>{a.sucesso?(t.certificadoAssinaturaIncluido=!0,t.objeto.contrato=a.objeto):t.erro=a.mensagem}).catch(a=>{t.erro=(0,M.b)(a)}),t.loading=!1})()}send(t,a){var o=this;return(0,_.Z)(function*(){return o.loading=!1,o.erro="",t.invalid?(o.toastr.error("Campos inv\xe1lidos em invoice."),void(o.erro="Campos inv\xe1lidos em invoice.")):a.invalid?(o.toastr.error("Campos inv\xe1lidos em contrato."),void(o.erro="Campos inv\xe1lidos em contrato.")):(o.isEditPage||(o.objeto.contrato.invoice_Id=0),yield o.request().then(function(){var i=(0,_.Z)(function*(l){if(1==l.sucesso){o.alterarRepresentanteLegal=!1,o.objeto.contrato.id=l.objeto.contrato.id,o.objeto.contrato.invoice_Id=l.objeto.invoice.id,o.objeto.invoice.id=l.objeto.invoice.id,o.objeto.contrato.numContrato=o.objeto.invoice.id.toString(),o.isEditPage||(yield(0,d.n)(o.invoiceService.edit(o.objeto)));var g=o.crypto.encrypt(o.objeto.invoice.id);o.isEditPage||(o.modalService.removeModalAnimation(o.modal.id),o.router.navigate(["../editar",g],{relativeTo:o.activatedRoute})),yield(0,d.n)(o.invoiceService.getList())}else o.erro=l.mensagem,o.toastr.error(l.mensagem)});return function(l){return i.apply(this,arguments)}}()).catch(i=>{o.loading=!1,o.erro=(0,M.b)(i)}))})()}request(){return(0,d.n)(this.isEditPage?this.invoiceService.edit(this.objeto):this.invoiceService.create(this.objeto))}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(v.gz),e.Y36(V.w),e.Y36(C.uU),e.Y36(D._W),e.Y36(me.g),e.Y36(ge.i),e.Y36(fe.r),e.Y36(ve.e),e.Y36(L),e.Y36(he.d),e.Y36(be.M),e.Y36(xe.n),e.Y36(Ze.Z),e.Y36(E.Z),e.Y36(Ce.b),e.Y36(v.F0),e.Y36(K.B))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-form"]],viewQuery:function(a,o){if(1&a&&(e.Gf(ye,5),e.Gf(Fe,5)),2&a){let i;e.iGM(i=e.CRH())&&(o.template=i.first),e.iGM(i=e.CRH())&&(o.icon=i.first)}},decls:20,vars:0,consts:[["icon",""],["template",""],["vetObs",""],[1,"text-danger"],["valorNacionalObs",""],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cash-coin"],["fill-rule","evenodd","d","M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"],["d","M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"],["d","M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"],["d","M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"],[1,"mt-3"],[3,"activeIndex","activeIndexChange"],["pTemplate","header"],[1,"px-4"],["invoice","ngForm"],[1,"mb-3","row"],[1,"d-flex","align-items-center","flex-wrap"],["type","button",1,"btn","btn-dark","mb-2",3,"disabled","click"],["class","text-danger ms-0 ms-sm-2",4,"ngIf"],[1,"row"],[1,"form-group","col-xl-2","col-lg-2","col-md-6","col-sm-6","col-12"],["for","id"],["type","text","name","id","id","id","mask","0*","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["id","ngModel"],[1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-6","col-12"],["for","data"],["type","datetime-local",3,"valueInput","inputId","showErrorMessage","required","valueChanges"],["for","moeda_Id"],["name","moeda_Id","inputId","moeda_Id","optionLabel","nome","optionValue","id","placeholder","Selecione uma moeda",3,"options","ngModel","styleClass","showClear","filter","filterFields","required","ngModelChange"],["moeda_Id","ngModel"],["pTemplate","item"],["pTemplate","footer"],[4,"ngIf"],[1,"form-group","col-xl-4","col-lg-4","col-md-6","col-sm-6","col-12"],["for","valor"],[3,"valueInput","inputId","mask","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","leadZero","min","max","valueChanges"],[1,"form-group","col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12","my-8"],["for","instituicaoFinanceira_Id"],["optionLabel","nome","optionValue","id","name","instituicaoFinanceira_Id","inputId","instituicaoFinanceira_Id",3,"styleClass","showClear","options","ngModel","placeholder","disabled","required","filter","filterFields","ngModelChange"],["instituicaoFinanceira_Id","ngModel"],[1,"form-group","col-xl-6","col-lg-6","col-md-6","col-sm-6","col-12"],["for","beneficiario_Id"],["name","beneficiario_Id","inputId","beneficiario_Id","optionLabel","nome","optionValue","id","placeholder","Selecione um benefici\xe1rio",3,"options","ngModel","styleClass","showClear","filter","filterFields","required","ngModelChange"],["beneficiario_Id","ngModel"],[1,"form-group","mt-3"],[1,"col-sm-12","card","py-3","px-4"],[1,"d-flex"],["col","col-xl-9 col-lg-9 col-md-8 col-sm-7 col-12"],[1,"mb-3"],[1,"ms-auto"],["type","button",1,"btn","btn-dark",3,"click"],["for","nomeBanco"],["type","text","id","nomeBanco","readonly","",1,"form-control",3,"value"],["for","conta"],["type","text","id","conta","name","conta","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["conta","ngModel"],["for","codigoSwift"],["type","text","id","codigoSwift","readonly","",1,"form-control",3,"value"],[1,"w-100"],[1,"form-group","col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],["for","logradouro"],["rows","1","id","logradouro","disabled","",1,"form-control",3,"value"],[1,"form-group","col-xl-5","col-lg-5","col-md-5","col-sm-4","col-12"],["for","cidade"],["type","text","id","cidade","disabled","",1,"form-control",3,"value"],[1,"form-group","col-xl-2","col-lg-2","col-md-2","col-sm-4","col-12"],["for","estado"],["type","text","id","estado","disabled","",1,"form-control",3,"value"],["for","pais_Id"],["type","text","id","pais_Id","disabled","",1,"form-control",3,"value"],[1,"row","mt-2"],[1,"d-flex","flex-row","flex-wrap","align-items-center","justify-content-between"],["type","button",1,"btn","btn-step","btn-step-next","ms-auto",3,"disabled","click"],[1,"btn-step-text","me-2","mb-1"],[3,"icon"],[3,"disabled"],["contrato","ngForm"],["title","Data do Contrato",1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-6","col-12"],["title","N\xba do Contrato de C\xe2mbio",1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-6","col-12"],["for","numContrato"],["type","text","name","numContrato","id","numContrato","mask","0*",1,"form-control",3,"ngModel","readonly","ngModelChange"],["numContrato","ngModel"],["title","Tipos",1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-6","col-12"],["for","tipo_Id"],["name","tipo_Id","inputId","tipo_Id","optionLabel","nome","optionValue","id","placeholder","Selecione um tipo",3,"options","ngModel","styleClass","showClear","filter","required","ngModelChange"],["tipo_Id","ngModel"],["title","Eventos",1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-6","col-12"],["for","evento_Id"],["name","evento_Id","inputId","evento_Id","optionLabel","nome","optionValue","id","placeholder","Selecione um evento",3,"options","ngModel","styleClass","showClear","filter","filterFields","required","ngModelChange"],["evento_Id","ngModel"],["title","Taxa Cambial",1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-12","col-12"],["for","taxa"],["suffix"," USD",3,"valueInput","inputId","mask","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","min","max","leadZero","valueChanges"],["title","Valor Moeda Nacional",1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-12","col-12"],["for","valorNacional"],["type","text","name","valorNacional","id","valorNacional","prefix","R$ ","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","mask","min","max","leadZero","ngModelChange","focus","blur","mouseenter","mouseleave"],["valorNacional","ngModel","valorNacionalEl",""],["title","Percentual de Adiantamento",1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-12","col-12"],["for","percentualAdiantamento"],[3,"valueInput","inputId","mask","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","suffix","min","max","leadZero","valueChanges"],["title","RDE",1,"form-group","col-xl-3","col-lg-3","col-md-6","col-sm-12","col-12"],["for","rde"],["type","text","name","rde","id","rde","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["rde","ngModel"],["title","Valor Efetivo Total (VET)",1,"form-group","col-xl-3","col-lg-3","col-md-3","col-sm-12","col-12"],["for","vet"],["type","text","name","vet","id","vet","thousandSeparator",".","decimalMarker",",",1,"form-control",3,"ngModel","readOnly","mask","leadZero","ngModelChange","focus","blur","mouseenter","mouseleave"],["vet","ngModel","vetEl",""],["title","Descri\xe7\xe3o da Forma de Entrega da moeda estrangeira",1,"form-group","col-xl-5","col-lg-5","col-md-5","col-sm-12","col-12"],["for","descricaoFormaEntrega"],["type","text","name","descricaoFormaEntrega","id","descricaoFormaEntrega","required","","pattern","\\S(.*\\S)?","readonly","",1,"form-control",3,"ngModel","ngModelChange","change"],["descricaoFormaEntrega","ngModel"],["title","Liquida\xe7\xe3o At\xe9",1,"form-group","col-xl-4","col-lg-4","col-md-4","col-sm-12","col-12"],["for","dataLiquidacao"],["type","date",3,"valueInput","inputId","showErrorMessage","required","valueChanges"],["title","C\xf3digo da Natureza",1,"form-group","col-xl-4","col-lg-4","col-md-4","col-sm-12","col-12"],["for","codigoNatureza"],[3,"valueInput","inputId","mask","showErrorMessage","allowNegativeNumbers","required","readonly","autoReplaceValue","leadZero","valueChanges"],["title","Descri\xe7\xe3o da Natureza do Fato",1,"form-group","col-xl-8","col-lg-8","col-md-8","col-sm-12","col-12"],["for","descricaoNaturezaFato"],["type","text","name","descricaoNaturezaFato","id","descricaoNaturezaFato","required","","pattern","\\S(.*\\S)?","readonly","",1,"form-control",3,"ngModel","ngModelChange","change"],["descricaoNaturezaFato","ngModel"],[1,"row","align-items-end"],["title","Pa\xeds do Pagador/Recebedor no Exterior",1,"form-group","col-xl-3","col-lg-3","col-md-3","col-sm-12","col-12"],["title","Pagador/Recebedor no Exterior",1,"form-group","col-xl-5","col-lg-5","col-md-5","col-sm-12","col-12"],["for","pagRecExterior"],["type","text","id","pagRecExterior","disabled","",1,"form-control",3,"value"],["title","C\xf3digo da Rela\xe7\xe3o de V\xednculo entre cliente e o Pagador/Recebedor",1,"form-group","col-xl-4","col-lg-4","col-md-4","col-sm-12","col-12"],["for","codigoVinculoPagRecExterior"],["type","text","name","codigoVinculoPagRecExterior","id","codigoVinculoPagRecExterior","required","",1,"form-control",3,"ngModel","readonly","ngModelChange","change"],["codigoVinculoPagRecExterior","ngModel"],["title","Especifica\xe7\xf5es",1,"form-group","col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],["for","especificacoes"],["name","especificacoes","id","especificacoes","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["especificacoes","ngModel"],["title","Cl\xe1usulas",1,"form-group","col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],["for","clausulas"],["name","clausulas","id","clausulas","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["clausulas","ngModel"],["title","Instru\xe7\xf5es de Recebimento/Pagamento",1,"form-group","col-xl-12","col-lg-12","col-md-12","col-sm-12","col-12"],["for","instrucoesRecebimentoPagamento"],["name","instrucoesRecebimentoPagamento","id","instrucoesRecebimentoPagamento","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["instrucoesRecebimentoPagamento","ngModel"],["type","button",1,"btn","btn-step","btn-step-next",3,"click"],[1,"btn-step-text","ms-2","mb-1"],["type","button","class","btn btn-step btn-step-next ms-auto ",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary me-0 ",3,"disabled","click",4,"ngIf"],["class","d-flex align-items-stretch flex-wrap p-0 mt-3 ",4,"ngIf"],[1,"text-danger","ms-0","ms-sm-2"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","w-100",3,"title"],[1,"flag","flag-info","px-2","me-2"],[1,"text-ellipsis"],[1,"flag","flag-info","px-2","ms-auto"],[1,"ms-2"],["title","Editar",1,"py-1","px-1","text-dark",3,"click"],["class","py-1 px-1 text-dark","title","Editar",3,"click",4,"ngIf"],[1,"py-2","px-3","border-top","bg-light"],[1,"link","text-info",3,"routerLink"],["class","text-danger",4,"ngIf"],[1,"d-flex","align-items-center"],["type","button",1,"btn","btn-primary","me-0",3,"disabled","click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-1"],["clausulas","ngForm"],["type","button",1,"btn","btn-dark",3,"disabled","click"],[1,"row","mb-2"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","w-100"],[1,"my-2"],["class","d-flex align-items-center justify-content-between",4,"ngIf"],[1,"form-group","col-xl-4","col-lg-6","col-md-6","col-sm-5","col-12"],["for","nomeRepresentanteLegal"],["type","text","name","nomeRepresentanteLegal","id","nomeRepresentanteLegal","pattern","\\S(.*\\S)?","required","",1,"form-control",3,"ngModel","readonly","ngModelChange","change"],["nomeRepresentanteLegal","ngModel"],[1,"form-group","col-xl-3","col-lg-3","col-md-3","col-sm-5","col-12"],["for","codigoRepresentanteLegal"],["type","text","name","codigoRepresentanteLegal","id","codigoRepresentanteLegal","pattern","\\S(.*\\S)?","required","",1,"form-control",3,"ngModel","readonly","ngModelChange","change"],["codigoRepresentanteLegal","ngModel"],[1,"form-group","col-xl-5","col-lg-5","col-md-5","col-sm-5","col-12","col-12"],["for","assinaturaRepresentanteLegal"],["class","d-flex align-items-center flex-wrap",4,"ngIf"],[1,"col-sm-12","mb-2","card","py-3","px-4"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap"],[1,"my-2","me-3"],["type","button","class","btn btn-dark",3,"disabled","click",4,"ngIf"],[1,"form-group","col-xl-5","col-lg-6","col-md-6","col-sm-5","col-12"],["for","nomeMac"],["type","text","name","nomeMac","id","nomeMac","readonly","","value",'MAC MEIOS DE PAGAMENTO LTDA (A "NEW CLICK")',1,"form-control"],["for","codigoMAX"],["type","text","name","codigoMAX","id","codigoMAX","readonly","","value","48.997.721/0001-44",1,"form-control"],[1,"form-group","col-xl-4","col-lg-5","col-md-5","col-sm-5","col-12","col-12"],["src","./assets/img/assinatura-mac.png","alt","Assinatura MAC",1,"input-file-image"],[1,"d-flex","align-items-center","justify-content-between"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-dark","me-2",3,"disabled","click"],["type","button","class","btn btn-dark me-2",3,"disabled","click",4,"ngIf"],[1,"me-1"],[1,"me-2"],[1,"btn","bg-success","text-white",2,"cursor","default"],["for","assinaturaRepresentanteLegal",1,"input-file-container","btn","btn-dark","me-2","mb-2"],["type","file","name","assinaturaRepresentanteLegal","id","assinaturaRepresentanteLegal","required","","accept","image/png",3,"disabled","input"],["assinaturaRepresentanteLegal",""],["class","my-1","title","Nenhuma assinatura selecionada",4,"ngIf"],["class","my-1",3,"title",4,"ngIf"],["title","Nenhuma assinatura selecionada",1,"my-1"],[1,"my-1",3,"title"],[1,"input-file-image",3,"src","alt"],[1,"border","border-dark"],[1,"border-bottom","border-dark","text-center"],[1,"py-3","px-3"],[1,"border-bottom","border-dark"],[1,"py-3","px-3","certificado-icon-container"],[1,"mb-2"],["src","./assets/img/check-icon.png",1,"certificado-icon"],[1,"px-2"],[1,"swift"],[1,"d-flex","align-items-stretch","flex-wrap","p-0","mt-3"],["class","m-0 me-3 mb-0",4,"ngIf"],[1,"btn","btn-dark","me-1","ms-auto",3,"disabled","click"],[1,"btn","btn-primary","me-0",3,"disabled","click"],[1,"m-0","me-3","mb-0"]],template:function(a,o){1&a&&(e.YNc(0,Ue,5,0,"ng-template",null,0,e.W1O),e.YNc(2,Vt,277,149,"ng-template",null,1,e.W1O),e._UZ(4,"router-outlet"),e.TgZ(5,"p-overlayPanel",null,2)(7,"p",3),e._uU(8,"C\xe1lculo"),e.qZA(),e.TgZ(9,"p"),e._uU(10,"IOF = 0,38"),e.qZA(),e.TgZ(11,"p"),e._uU(12,"R$ IOF = Valor Moeda Nacional * 0,38%"),e.qZA(),e.TgZ(13,"p"),e._uU(14,"VET = (Valor Moeda Nacional + R$ IOF) / Valor Invoice"),e.qZA()(),e.TgZ(15,"p-overlayPanel",null,4)(17,"p",3),e._uU(18,"C\xe1lculo"),e.qZA(),e._uU(19," Valor Moeda Nacional = Valor Invoice * Taxa Cambial\n"),e.qZA())},dependencies:[C.O5,h._Y,h.Fj,h.JJ,h.JL,h.Q7,h.c5,h.On,h.F,v.lC,v.rH,N.BN,x.jx,z.Lt,S.xf,S.x4,Te.T,Ae.Z6,Me.l,we.K,C.uU],styles:['.form-control[_ngcontent-%COMP%]{font-size:13px;padding:4px 8px}  .p-tabview{display:flex;flex-flow:column;width:100%}  .p-tabview-nav-container{flex:1 0 20%;display:flex}  .p-tabview-panels{flex:1 0 80%;border:1px rgb(var(--grey)) solid;padding:15px 0;background-color:#f7f7f7}  .p-tabview-nav-content{position:relative;z-index:1;margin-bottom:-1px}  .p-tabview-nav{display:flex;flex-flow:row;margin:0;padding:0;width:100%}  .p-tabview-nav li{background-color:rgb(var(--secondary));display:flex;align-items:center}  .p-tabview-nav li a{color:#fff;line-height:1;height:100%;width:100%;display:flex;padding:10px;background-color:rgb(var(--grey))}  .p-tabview-nav li a>*:not(span){margin-right:10px}  .p-tabview-nav li.p-tabview-ink-bar{display:none}  .p-tabview-nav li:nth-child(2n){background:rgb(var(--secondary))}  .p-tabview-nav li a:hover{color:#fff;background-color:rgb(var(--grey))}  .p-tabview-nav li.p-highlight a{background-color:rgb(var(--primary));border-bottom:1px rgb(var(--primary)) solid;margin-bottom:0}.swift[_ngcontent-%COMP%]{border-radius:5px;border:2px rgb(var(--primary)) dashed;height:200px;width:400px;display:flex;align-items:center;justify-content:center;background-color:#e9e2e2}.flag[_ngcontent-%COMP%]{min-width:unset}.btn-step[_ngcontent-%COMP%]{background-color:rgb(var(--grey));color:#fff;border:2px rgb(var(--grey)) solid;padding:3px 12px;display:flex;align-items:center;justify-content:center;transition:.5s;position:relative;overflow:hidden}.btn-step[_ngcontent-%COMP%]:hover{background:rgb(var(--grey));padding:3px 12px;color:#fff;position:static;background:#fff;color:rgb(var(--grey))}.btn.btn-step.disabled[_ngcontent-%COMP%], .btn.btn-step[_ngcontent-%COMP%]:disabled{pointer-events:none!important}.modal__header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:42px;height:40px;transform:translateY(9px)}.modal__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center}  .p-overlaypanel{padding:10px 15px;background:white;box-shadow:2px 1px 3px -1px #7f7d7d;margin-top:12px}  .p-overlaypanel:after{content:"";position:absolute;top:0;left:20px;width:15px;height:11px;background:white;clip-path:polygon(50% 0%,0% 100%,100% 100%);transform:translateY(-100%);z-index:2}.input-file-container[_ngcontent-%COMP%]{margin-bottom:0;min-width:170px;width:auto}.input-file-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;opacity:0}.input-file-image[_ngcontent-%COMP%]{width:auto;max-width:100%;max-height:60px;margin:0;padding:0;box-sizing:content-box}.input-file-container[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%], .input-file-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:unset}.certificado-icon-container[_ngcontent-%COMP%]{position:relative}.certificado-icon[_ngcontent-%COMP%]{width:150px;height:auto;max-width:7vw;position:absolute;top:50%;right:calc(20px + 5vw);transform:translateY(-50%);opacity:.8}']})}return n})();const zt=["template"],$t=["icon"];function Xt(n,r){if(1&n&&e._UZ(0,"fa-icon",2),2&n){const t=e.oxw();e.Q6J("icon",t.faTrash)}}function Wt(n,r){if(1&n&&(e.TgZ(0,"div",7)(1,"p",8),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.erro)}}function eo(n,r){1&n&&e._UZ(0,"span",9)}function to(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p",3),e._uU(2,"Tem certeza que deseja excluir esse registro? "),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),e.qZA(),e.YNc(5,Wt,3,1,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.send())}),e.YNc(7,eo,1,0,"span",6),e.TgZ(8,"span"),e._uU(9,"Excluir"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.erro),e.xp6(2),e.Q6J("ngIf",t.loading)}}let oo=(()=>{class n{constructor(t,a,o,i){this.activatedRoute=t,this.modalService=a,this.invoiceService=o,this.crypto=i,this.faTrash=b.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.modal=new E.u}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"400px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute},this.modal.routerBack=["../../"],this.modal.title="Excluir registro";var t=this.activatedRoute.params.subscribe(a=>{a.invoice_id?(this.id=this.crypto.decrypt(a.invoice_id),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"delete invoice")},200)):this.voltar()});this.subscription.push(t)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modalService.removeModal(this.modal)}send(){this.loading=!0,this.erro="",(0,d.n)(this.invoiceService.delete(this.id)).then(t=>{this.loading=!1,t.sucesso?((0,d.n)(this.invoiceService.getList()),this.voltar()):this.erro=t.mensagem}).catch(t=>{this.loading=!1,this.erro=(0,M.b)(t)})}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(v.gz),e.Y36(E.Z),e.Y36(L),e.Y36(V.w))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete"]],viewQuery:function(a,o){if(1&a&&(e.Gf(zt,5),e.Gf($t,5)),2&a){let i;e.iGM(i=e.CRH())&&(o.template=i.first),e.iGM(i=e.CRH())&&(o.icon=i.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ms-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],[1,"m-0","mt-1"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(a,o){1&a&&(e.YNc(0,Xt,1,1,"ng-template",null,0,e.W1O),e.YNc(2,to,10,2,"ng-template",null,1,e.W1O))},dependencies:[C.O5,N.BN]})}return n})();var W=s(2996),ee=s(4290),te=s(8902),j=s(1353),oe=s(424),no=s(7280),R=s(9742),P=s(490);const ao=[{path:"",component:ue,title:"Zentech - Invoices",children:[{path:"cadastrar",component:X,title:"Zentech - Cadastrar Invoice",data:{modalOrder:1},children:[{path:"moeda",component:j.U,data:{modalOrder:2},title:"Zentech - Cadastrar Moeda"},{path:"moeda/:moeda_id",component:j.U,data:{modalOrder:2},title:"Zentech - Editar Moeda"},{path:"moeda/excluir/:moeda_id",component:oe.T,canActivate:[R.p],data:{modalOrder:2,roles:[P.uU.Admin]},title:"Zentech - Excluir Moeda"},{path:"instituicao-financeira",component:ee.U,title:"Zentech - Cadastrar Institui\xe7\xe3o Financeira",data:{modalOrder:2}},{path:"beneficiario",component:te.U,title:"Zentech - Cadastrar Benefici\xe1rio",data:{modalOrder:2},children:[{path:"banco",component:W.U,title:"Zentech - Cadastrar Invoice",data:{modalOrder:3}}]}]},{path:"editar/:invoice_id",component:X,title:"Zentech - Editar Invoice",data:{modalOrder:1},children:[{path:"moeda",component:j.U,data:{modalOrder:2},title:"Zentech - Cadastrar Moeda"},{path:"moeda/:moeda_id",component:j.U,data:{modalOrder:2},title:"Zentech - Editar Moeda"},{path:"moeda/excluir/:moeda_id",component:oe.T,canActivate:[R.p],data:{modalOrder:2,roles:[P.uU.Admin]},title:"Zentech - Excluir Moeda"},{path:"instituicao-financeira",component:ee.U,title:"Zentech - Cadastrar Institui\xe7\xe3o Financeira",data:{modalOrder:2}},{path:"beneficiario",component:te.U,title:"Zentech - Cadastrar Benefici\xe1rio",data:{modalOrder:2},children:[{path:"banco",component:W.U,title:"Zentech - Cadastrar Invoice",data:{modalOrder:3}}]}]},{path:"excluir/:invoice_id",component:oo,title:"Zentech - Excluir Invoice",canActivate:[R.p],data:{modalOrder:1,roles:[P.uU.Admin]}},no.D]}];let io=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(ao),v.Bz]})}return n})();var ro=s(9227);let lo=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[C.ez,io,h.u5,N.uH,ro.m,z.kW,S.LU]})}return n})()}}]);