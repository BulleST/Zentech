"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[757],{757:(se,Y,p)=>{p.r(Y),p.d(Y,{OperacoesModule:()=>ie});var h=p(6814),g=p(132),tt=p(2832),d=p(708),A=p(8145),t=p(9291),et=p(8787),C=p(2828),ot=p(6599);const at=function(){return["importar"]},it=function(){return["cadastrar"]};function nt(o,l){1&o&&(t.TgZ(0,"div",13)(1,"a",14),t._UZ(2,"img",15),t.TgZ(3,"span",16),t._uU(4," Importar excel"),t.qZA()()(),t.TgZ(5,"div",17)(6,"a",18)(7,"span",16),t._uU(8," Cadastrar Opera\xe7\xe3o"),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.DdM(2,at)),t.xp6(5),t.Q6J("routerLink",t.DdM(3,it)))}let rt=(()=>{class o{constructor(e,a){this.table=e,this.pessoaOperacaoService=a,this.maskType=tt.O,this.list=[],this.tableLinks=[],this.columns=A.Yv,this.subscription=[];var i=this.pessoaOperacaoService.list.subscribe(r=>{this.list=Object.assign([],r)});this.subscription.push(i),(0,d.n)(this.pessoaOperacaoService.getList());var n=this.table.selected.subscribe(r=>{r&&(this.tableLinks=[{label:"Detalhes",routePath:["detalhes"],paramsFieldName:["id"]},{label:"Editar",routePath:["editar"],paramsFieldName:["id"]},{label:"Excluir",routePath:["excluir"],paramsFieldName:["id"]}],this.tableLinks=this.table.encryptParams(this.tableLinks))});this.subscription.push(n),this.table.currentPage.next(1)}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}ngAfterViewChecked(){setTimeout(()=>{this.table.currentPageChange()},200)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(et.i),t.Y36(C.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-list"]],decls:16,vars:10,consts:[[1,"page"],[1,"page__header"],[1,"title-icon"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cash-coin"],["fill-rule","evenodd","d","M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"],["d","M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"],["d","M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"],["d","M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"],[1,"me-auto"],[1,"page__header-title"],[1,"page__body"],["topActions",""],[3,"list","topActions","filterLink","filterTable","paginator","sortTable","menuTable","columns","tableLinks","selectable"],[1,"col-xl-3","col-lg-4","col-md-6","col-sm-12","col-12","mx-md-1","mb-2","px-0"],[1,"btn","btn-dark","d-flex","align-items-center","align-baseline","justify-content-center",3,"routerLink"],["src","assets/img/icon-excel-white.png","alt","excel.png",1,"me-2"],[2,"margin-top","-1px","margin-bottom","1px"],[1,"col-xl-3","col-lg-4","col-md-4","col-sm-12","col-12","mb-2","me-md-2","mx-md-1","px-0"],[1,"btn","btn-primary","d-flex","align-items-center","align-baseline","justify-content-center",3,"routerLink"]],template:function(a,i){if(1&a&&(t.TgZ(0,"section",0)(1,"div",1)(2,"span",2),t.O4$(),t.TgZ(3,"svg",3),t._UZ(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7),t.qZA()(),t.kcU(),t.TgZ(8,"div",8)(9,"h3",9),t._uU(10,"Opera\xe7\xf5es"),t.qZA()()(),t.TgZ(11,"div",10),t.YNc(12,nt,9,4,"ng-template",null,11,t.W1O),t._UZ(14,"app-list-shared",12),t.qZA()(),t._UZ(15,"router-outlet")),2&a){const n=t.MAs(13);t.xp6(14),t.Q6J("list",i.list)("topActions",n)("filterLink",!1)("filterTable",!0)("paginator",!0)("sortTable",!0)("menuTable",!0)("columns",i.columns)("tableLinks",i.tableLinks)("selectable",!0)}},dependencies:[g.lC,g.rH,ot.o]})}return o})();var w=p(342),M=p(8008),U=p(2719),st=p(1225),F=p(2667),J=p(2425),B=p(2352),E=p(5219),c=p(6223),lt=p(6044);const pt=["template"],ct=["icon"];function dt(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",2),t._UZ(1,"path",3)(2,"path",4)(3,"path",5)(4,"path",6),t.qZA())}function mt(o,l){if(1&o&&(t.TgZ(0,"table",32)(1,"tbody")(2,"tr")(3,"td",33),t._uU(4),t.qZA(),t.TgZ(5,"td",33),t._uU(6,"Saldo atual: "),t.TgZ(7,"strong"),t._uU(8),t.ALo(9,"currency"),t.qZA()()(),t.TgZ(10,"tr")(11,"td",33),t._uU(12),t.qZA(),t.TgZ(13,"td",33),t._uU(14,"Situa\xe7\xe3o CPF: "),t.TgZ(15,"strong"),t._uU(16),t.qZA()()()()()),2&o){const e=l.$implicit;let a;t.xp6(4),t.Oqu(e.nome),t.xp6(4),t.Oqu(t.gM2(9,4,e.saldoAtual,"BRL","","1.2")),t.xp6(4),t.Oqu(e.cpf),t.xp6(4),t.Oqu(null!==(a=e.situacaoCPF)&&void 0!==a?a:"INDEFINIDO")}}function ut(o,l){1&o&&(t.TgZ(0,"p",13),t._uU(1,"Este campo \xe9 obrigat\xf3rio."),t.qZA())}function ht(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,ut,2,0,"p",34),t.qZA()),2&o){t.oxw();const e=t.MAs(18);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function _t(o,l){if(1&o&&(t.TgZ(0,"option",26),t._uU(1),t.qZA()),2&o){const e=l.$implicit;t.Q6J("ngValue",e.id),t.xp6(1),t.Oqu(e.name)}}function ft(o,l){1&o&&(t.TgZ(0,"p",13),t._uU(1,"Este campo \xe9 obrigat\xf3rio."),t.qZA())}function gt(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,ft,2,0,"p",34),t.qZA()),2&o){t.oxw();const e=t.MAs(32);t.xp6(1),t.Q6J("ngIf",e.errors.required)}}function vt(o,l){if(1&o&&(t.TgZ(0,"p",13),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(e.erro)}}function xt(o,l){1&o&&(t.TgZ(0,"p",13),t._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar."),t.qZA())}function Zt(o,l){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,vt,2,1,"p",34),t.YNc(2,xt,2,0,"p",34),t.qZA()),2&o){t.oxw();const e=t.MAs(1),a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.erro),t.xp6(1),t.Q6J("ngIf",e.invalid&&!a.erro)}}function bt(o,l){1&o&&t._UZ(0,"span",36)}function Tt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"form",7,8),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.send())}),t.TgZ(2,"div",9)(3,"div",10)(4,"div",11)(5,"label",12),t._uU(6,"Pessoa: "),t.TgZ(7,"span",13),t._uU(8,"*"),t.qZA()(),t.TgZ(9,"p-dropdown",14),t.NdJ("ngModelChange",function(i){t.CHM(e);const n=t.oxw();return t.KtG(n.objeto.pessoa_Id=i)}),t.YNc(10,mt,17,9,"ng-template",15),t.qZA()()(),t.TgZ(11,"div",10)(12,"div",16)(13,"label",17),t._uU(14,"Data: "),t.TgZ(15,"span",13),t._uU(16,"*"),t.qZA()(),t.TgZ(17,"input",18,19),t.NdJ("ngModelChange",function(i){t.CHM(e);const n=t.oxw();return t.KtG(n.objeto.data=i)}),t.qZA(),t.YNc(19,ht,2,1,"div",20),t.qZA(),t.TgZ(20,"div",16)(21,"label",21),t._uU(22,"Valor: "),t.TgZ(23,"span",13),t._uU(24,"*"),t.qZA()(),t.TgZ(25,"app-input-number",22),t.NdJ("valueChanges",function(i){t.CHM(e);const n=t.oxw();return t.KtG(n.objeto.valor=i)}),t.qZA()(),t.TgZ(26,"div",16)(27,"label",23),t._uU(28,"Status: "),t.TgZ(29,"span",13),t._uU(30,"*"),t.qZA()(),t.TgZ(31,"select",24,25),t.NdJ("ngModelChange",function(i){t.CHM(e);const n=t.oxw();return t.KtG(n.objeto.operacao_Status_Id=i)}),t.TgZ(33,"option",26),t._uU(34,"Selecione"),t.qZA(),t.YNc(35,_t,2,2,"option",27),t.qZA(),t.YNc(36,gt,2,1,"div",20),t.qZA()()(),t.TgZ(37,"div",28),t.YNc(38,Zt,3,2,"div",29),t.TgZ(39,"button",30),t.YNc(40,bt,1,0,"span",31),t.TgZ(41,"span"),t._uU(42,"Salvar"),t.qZA()()()()}if(2&o){const e=t.MAs(1),a=t.MAs(18),i=t.MAs(32),n=t.oxw();t.xp6(9),t.Q6J("options",n.pessoas)("ngModel",n.objeto.pessoa_Id)("styleClass","form-control"+(n.loadingPessoa?"form-control-loading":""))("showClear",!0)("filter",!0)("disabled",n.isEditPage)("readonly",n.isEditPage),t.xp6(8),t.Q6J("ngModel",n.objeto.data),t.xp6(2),t.Q6J("ngIf",a.touched&&a.errors),t.xp6(6),t.Q6J("valueInput",n.objeto.valor)("inputId","valor")("mask","separator.2")("showErrorMessage",!0)("allowNegativeNumbers",!1)("required",!0)("autoReplaceValue",!1),t.xp6(6),t.ekj("form-control-loading",n.loadingStatus),t.Q6J("ngModel",n.objeto.operacao_Status_Id),t.xp6(2),t.Q6J("ngValue",void 0),t.xp6(2),t.Q6J("ngForOf",n.status),t.xp6(1),t.Q6J("ngIf",i.touched&&i.errors),t.xp6(2),t.Q6J("ngIf",n.erro||e.invalid),t.xp6(1),t.Q6J("disabled",e.invalid||n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}}let L=(()=>{class o{constructor(e,a,i,n,r,s,u,f){this.activatedRoute=e,this.modal=a,this.pessoaService=i,this.pessoaSaldoService=n,this.pessoaOperacaoService=r,this.crypto=s,this.datepipe=u,this.toastr=f,this.objeto=new A.fs,this.erro="",this.loading=!1,this.subscription=[],this.status=[],this.loadingStatus=!0,this.pessoas=[],this.loadingPessoa=!0,this.isEditPage=!0,this.pessoa_id=0,this.routeBackOptions={relativeTo:this.activatedRoute},(0,d.n)(this.pessoaOperacaoService.getStatus()).then(_=>{this.loadingStatus=!1,this.status=_}),(0,d.n)(this.pessoaService.getList()).then(_=>{this.loadingPessoa=!1,this.pessoas=_})}ngAfterViewInit(){this.modal.template.next(this.template),this.modal.style.next({"max-width":"600px",overflow:"visible"}),this.modal.activatedRoute.next(this.activatedRoute),this.modal.icon.next(this.icon);var e=this.activatedRoute.params.subscribe(a=>{a.operacao_id?(this.objeto.id=this.crypto.decrypt(a.operacao_id),this.modal.title.next("Editar Opera\xe7\xe3o"),this.modal.routerBack.next(["../../"]),this.isEditPage=!0,(0,d.n)(this.pessoaOperacaoService.get(this.objeto.id)).then(i=>{this.objeto=i,this.objeto.data=this.datepipe.transform(this.objeto.data,"yyyy-MM-ddThh:mm"),this.pessoa_id=this.objeto.pessoa_Id,setTimeout(()=>{this.modal.setOpen(!0)},200)}).catch(i=>{this.voltar()})):(this.modal.title.next("Cadastrar Opera\xe7\xe3o"),this.modal.routerBack.next(["../"]),this.isEditPage=!1,this.objeto.data=this.datepipe.transform(this.objeto.data,"yyyy-MM-ddThh:mm"),setTimeout(()=>{this.modal.setOpen(!0)},200))});this.subscription.push(e)}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}voltar(){this.modal.voltar(this.modal.routerBack.value,this.routeBackOptions)}send(){this.loading=!0,this.erro="",this.request().then(e=>{1==e.successo?((0,d.n)(this.pessoaService.getList()),(0,d.n)(this.pessoaSaldoService.getList(this.objeto.pessoa_Id)),(0,d.n)(this.pessoaOperacaoService.getListById(this.objeto.pessoa_Id)),(0,d.n)(this.pessoaOperacaoService.getList()),this.voltar()):(this.erro=e.mensagem,this.toastr.error(e.mensagem)),this.loading=!1}).catch(e=>{this.loading=!1,this.erro=(0,w.b)(e)})}request(){return 0==this.objeto.id?(0,d.n)(this.pessoaOperacaoService.create(this.objeto)):(this.isEditPage&&(this.objeto.pessoa_Id=this.pessoa_id),(0,d.n)(this.pessoaOperacaoService.edit(this.objeto)))}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(g.gz),t.Y36(M.u),t.Y36(U.N),t.Y36(st.R),t.Y36(C.m),t.Y36(F.w),t.Y36(h.uU),t.Y36(J._W))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-form"]],viewQuery:function(a,i){if(1&a&&(t.Gf(pt,5),t.Gf(ct,5)),2&a){let n;t.iGM(n=t.CRH())&&(i.template=n.first),t.iGM(n=t.CRH())&&(i.icon=n.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-cash-coin"],["fill-rule","evenodd","d","M11 15a4 4 0 1 0 0-8 4 4 0 0 0 0 8zm5-4a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"],["d","M9.438 11.944c.047.596.518 1.06 1.363 1.116v.44h.375v-.443c.875-.061 1.386-.529 1.386-1.207 0-.618-.39-.936-1.09-1.1l-.296-.07v-1.2c.376.043.614.248.671.532h.658c-.047-.575-.54-1.024-1.329-1.073V8.5h-.375v.45c-.747.073-1.255.522-1.255 1.158 0 .562.378.92 1.007 1.066l.248.061v1.272c-.384-.058-.639-.27-.696-.563h-.668zm1.36-1.354c-.369-.085-.569-.26-.569-.522 0-.294.216-.514.572-.578v1.1h-.003zm.432.746c.449.104.655.272.655.569 0 .339-.257.571-.709.614v-1.195l.054.012z"],["d","M1 0a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h4.083c.058-.344.145-.678.258-1H3a2 2 0 0 0-2-2V3a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2v3.528c.38.34.717.728 1 1.154V1a1 1 0 0 0-1-1H1z"],["d","M9.998 5.083 10 5a2 2 0 1 0-3.132 1.65 5.982 5.982 0 0 1 3.13-1.567z"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"px-2"],[1,"row"],[1,"form-group","col-12"],["for","pessoa_Id"],[1,"text-danger"],["filterBy","nome, saldoAtual, cpf, situacaoCPF","name","pessoa_Id","inputId","pessoa_Id","optionLabel","nome","optionValue","id","placeholder","Selecione um pessoa",3,"options","ngModel","styleClass","showClear","filter","disabled","readonly","ngModelChange"],["pTemplate","item"],[1,"form-group","col-md-4","col-sm-12"],["for","data"],["type","datetime-local","name","data","id","data","required","",1,"form-control",3,"ngModel","ngModelChange"],["data","ngModel"],[4,"ngIf"],["for","valor"],[3,"valueInput","inputId","mask","showErrorMessage","allowNegativeNumbers","required","autoReplaceValue","valueChanges"],["for","operacao_Status_Id"],["name","operacao_Status_Id","id","operacao_Status_Id","required","",1,"form-control",3,"ngModel","ngModelChange"],["operacao_Status_Id","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","align-items-start","flex-wrap","p-0","mt-1","px-2"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"w-100"],[1,"pe-2"],["class","text-danger",4,"ngIf"],[1,"m-0"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(a,i){1&a&&(t.YNc(0,dt,5,0,"ng-template",null,0,t.W1O),t.YNc(2,Tt,43,25,"ng-template",null,1,t.W1O))},dependencies:[h.sg,h.O5,B.Lt,E.jx,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F,lt.l,h.H9]})}return o})();var b=p(590),Q=p(5597);const Ct=["template"],At=["icon"];function Mt(o,l){if(1&o&&t._UZ(0,"fa-icon",2),2&o){const e=t.oxw();t.Q6J("icon",e.faTrash)}}function Ut(o,l){1&o&&(t._UZ(0,"p",9),t.ALo(1,"json")),2&o&&t.Q6J("innerHTML",t.lcZ(1,1,l.$implicit),t.oJD)}function yt(o,l){if(1&o&&(t.TgZ(0,"div",7),t.YNc(1,Ut,2,3,"p",8),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.erro)}}function Ot(o,l){1&o&&t._UZ(0,"span",10)}function It(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"p",3),t._uU(2,"Tem certeza que deseja excluir esse registro? "),t.qZA(),t.TgZ(3,"p"),t._uU(4,"Ele n\xe3o poder\xe1 ser recuperado."),t.qZA(),t.YNc(5,yt,2,1,"div",4),t.TgZ(6,"button",5),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.send())}),t.YNc(7,Ot,1,0,"span",6),t.TgZ(8,"span"),t._uU(9,"Excluir"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",e.erro),t.xp6(2),t.Q6J("ngIf",e.loading)}}let Nt=(()=>{class o{constructor(e,a,i,n,r){this.modal=e,this.crypto=a,this.activatedRoute=i,this.pessoaService=n,this.pessoaOperacaoService=r,this.faTrash=b.$aW,this.id=0,this.erro="",this.loading=!1,this.subscription=[],this.routeBackOptions={relativeTo:this.activatedRoute};var s=i.params.subscribe(u=>{u.operacao_id?(this.id=this.crypto.decrypt(u.operacao_id),(0,d.n)(this.pessoaService.get(this.id)).then(f=>{setTimeout(()=>{this.modal.setOpen(!0)},200)}).catch(f=>{this.voltar()})):this.voltar()});this.subscription.push(s)}ngAfterViewInit(){this.modal.title.next("Excluir registro"),this.modal.template.next(this.template),this.modal.style.next({"max-width":"400px"}),this.modal.routerBack.next(["../../"]),this.modal.activatedRoute.next(this.activatedRoute),this.modal.icon.next(this.icon)}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}voltar(){this.modal.voltar(this.modal.routerBack.value,this.routeBackOptions)}send(){this.loading=!0,this.erro="",(0,d.n)(this.pessoaOperacaoService.delete(this.id)).then(e=>{(0,d.n)(this.pessoaService.getList()),(0,d.n)(this.pessoaOperacaoService.getList()),this.voltar(),this.loading=!1}).catch(e=>{this.loading=!1,this.erro=(0,w.b)(e)})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(M.u),t.Y36(F.w),t.Y36(g.gz),t.Y36(U.N),t.Y36(C.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete"]],viewQuery:function(a,i){if(1&a&&(t.Gf(Ct,5),t.Gf(At,5)),2&a){let n;t.iGM(n=t.CRH())&&(i.template=n.first),t.iGM(n=t.CRH())&&(i.icon=n.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],[3,"icon"],[1,"mt-2"],["class","m-0  mt-1",4,"ngIf"],[1,"btn","btn-grey","ml-auto","d-flex","mt-2",3,"click"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"m-0","mt-1"],["class","text-red",3,"innerHTML",4,"ngFor","ngForOf"],[1,"text-red",3,"innerHTML"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(a,i){1&a&&(t.YNc(0,Mt,1,1,"ng-template",null,0,t.W1O),t.YNc(2,It,10,2,"ng-template",null,1,t.W1O))},dependencies:[h.sg,h.O5,Q.BN,h.Ts]})}return o})();var j=p(1193),D=p(1486),y=p(4685),P=p(1532);const qt=["template"],wt=["icon"],Ft=["file"];function Jt(o,l){1&o&&t._UZ(0,"img",3)}function Qt(o,l){1&o&&(t.TgZ(0,"th")(1,"span",24),t._uU(2,"Retorno"),t.qZA(),t._UZ(3,"p-sortIcon",25)(4,"p-columnFilter",29),t.qZA()),2&o&&(t.xp6(3),t.Q6J("field","statusCadastro"),t.xp6(1),t.Q6J("type","text")("field","statusCadastro")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1))}function St(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"p-calendar",33),t.NdJ("ngModelChange",function(i){t.CHM(e);const n=t.oxw(4);return t.KtG(n.currentDateFilter.dataTransacao=i)})("onClear",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.currentDateFilter.dataTransacao=void 0)})("onBlur",function(){const n=t.CHM(e).filterCallback;t.oxw();const r=t.MAs(9),s=t.oxw(3);return t.KtG(s.primeNgDataFilter(s.currentDateFilter.dataTransacao,n,r))})("onSelect",function(){const n=t.CHM(e).filterCallback;t.oxw();const r=t.MAs(9),s=t.oxw(3);return t.KtG(s.primeNgDataFilter(s.currentDateFilter.dataTransacao,n,r))}),t.qZA()}if(2&o){const e=t.oxw(4);t.Q6J("ngModel",e.currentDateFilter.dataTransacao)("showIcon",!0)}}function Yt(o,l){if(1&o&&(t.TgZ(0,"tr",22),t.YNc(1,Qt,5,7,"th",23),t.TgZ(2,"th")(3,"span",24),t._uU(4,"Data da "),t._UZ(5,"br"),t._uU(6," Transa\xe7\xe3o"),t.qZA(),t._UZ(7,"p-sortIcon",25),t.TgZ(8,"p-columnFilter",26,27),t.YNc(10,St,1,2,"ng-template",28),t.qZA()(),t.TgZ(11,"th")(12,"span",24),t._uU(13,"Tipo de "),t._UZ(14,"br"),t._uU(15," Cliente no "),t._UZ(16,"br"),t._uU(17," Brasil"),t.qZA(),t._UZ(18,"p-sortIcon",25)(19,"p-columnFilter",29),t.qZA(),t.TgZ(20,"th")(21,"div",30)(22,"span",31),t._uU(23,"CPF/CNPJ do "),t._UZ(24,"br"),t._uU(25," cliente no "),t._UZ(26,"br"),t._uU(27," Brasil"),t.qZA(),t._UZ(28,"p-sortIcon",25)(29,"p-columnFilter",29),t.qZA()(),t.TgZ(30,"th")(31,"span",24),t._uU(32,"Nome do Cliente no Brasil"),t.qZA(),t._UZ(33,"p-sortIcon",25)(34,"p-columnFilter",29),t.qZA(),t.TgZ(35,"th")(36,"span",24),t._uU(37,"Nome do Comprador ou Vendedor no "),t._UZ(38,"br"),t._uU(39," Exterior"),t.qZA(),t._UZ(40,"p-sortIcon",25)(41,"p-columnFilter",29),t.qZA(),t.TgZ(42,"th")(43,"span",24),t._uU(44,"Pa\xeds do "),t._UZ(45,"br"),t._uU(46," Comprador "),t._UZ(47,"br"),t._uU(48," ou Vendedor "),t._UZ(49,"br"),t._uU(50," no Exterior"),t.qZA(),t._UZ(51,"p-sortIcon",25)(52,"p-columnFilter",29),t.qZA(),t.TgZ(53,"th")(54,"span",24),t._uU(55,"Moeda"),t.qZA(),t._UZ(56,"p-sortIcon",25)(57,"p-columnFilter",29),t.qZA(),t.TgZ(58,"th")(59,"span",24),t._uU(60,"Tipo de "),t._UZ(61,"br"),t._uU(62," Transa\xe7\xe3o"),t.qZA(),t._UZ(63,"p-sortIcon",25)(64,"p-columnFilter",29),t.qZA(),t.TgZ(65,"th")(66,"span",24),t._uU(67,"Forma de "),t._UZ(68,"br"),t._uU(69," Pagamento"),t.qZA(),t._UZ(70,"p-sortIcon",25)(71,"p-columnFilter",29),t.qZA(),t.TgZ(72,"th")(73,"span",24),t._uU(74,"Valor na "),t._UZ(75,"br"),t._uU(76," Moeda "),t._UZ(77,"br"),t._uU(78," Estrangeira"),t.qZA(),t._UZ(79,"p-sortIcon",25)(80,"p-columnFilter",29),t.qZA(),t.TgZ(81,"th")(82,"span",24),t._uU(83,"Valor na "),t._UZ(84,"br"),t._uU(85," Moeda "),t._UZ(86,"br"),t._uU(87," Nacional"),t.qZA(),t._UZ(88,"p-sortIcon",25)(89,"p-columnFilter",29),t.qZA(),t.TgZ(90,"th")(91,"span",24),t._uU(92,"Status Opera\xe7\xe3o"),t.qZA(),t._UZ(93,"p-sortIcon",25)(94,"p-columnFilter",29),t.qZA(),t._UZ(95,"th",32),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.retornoAPI),t.xp6(6),t.Q6J("field","dataTransacao"),t.xp6(1),t.Q6J("type","date")("field","dataTransacao")("display","menu")("matchMode","dateIs")("showMatchModes",!0)("showAddButton",!0)("showOperator",!1),t.xp6(10),t.Q6J("field","tipoCliente"),t.xp6(1),t.Q6J("type","text")("field","tipoCliente")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(9),t.Q6J("field","docCliente"),t.xp6(1),t.Q6J("type","text")("field","docCliente")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(4),t.Q6J("field","nomeCliente"),t.xp6(1),t.Q6J("type","text")("field","nomeCliente")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(6),t.Q6J("field","nomeComprador"),t.xp6(1),t.Q6J("type","text")("field","nomeComprador")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(10),t.Q6J("field","paisCompradorVendedor"),t.xp6(1),t.Q6J("type","text")("field","paisCompradorVendedor")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(4),t.Q6J("field","moeda"),t.xp6(1),t.Q6J("type","text")("field","moeda")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(6),t.Q6J("field","tipoTransacao"),t.xp6(1),t.Q6J("type","text")("field","tipoTransacao")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(6),t.Q6J("field","formaPagamento"),t.xp6(1),t.Q6J("type","text")("field","formaPagamento")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(8),t.Q6J("field","valorMoedaEstrangeira"),t.xp6(1),t.Q6J("type","text")("field","valorMoedaEstrangeira")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(8),t.Q6J("field","valorMoedaNacional"),t.xp6(1),t.Q6J("type","text")("field","valorMoedaNacional")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1),t.xp6(4),t.Q6J("field","statusOperacao"),t.xp6(1),t.Q6J("type","text")("field","statusOperacao")("display","menu")("matchMode","contains")("showMatchModes",!1)("showAddButton",!1)}}function Bt(o,l){if(1&o&&t.YNc(0,Yt,96,86,"tr",21),2&o){const e=t.oxw(2);t.Q6J("ngIf",e.list.length>0)}}function Et(o,l){if(1&o&&(t.TgZ(0,"span",38),t._UZ(1,"fa-icon",39),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("icon",e.faCircleXmark)}}function Lt(o,l){if(1&o&&(t.TgZ(0,"span",40),t._UZ(1,"fa-icon",39),t.qZA()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("icon",e.faCircleCheck)}}function jt(o,l){if(1&o&&(t.TgZ(0,"td")(1,"div",35),t.YNc(2,Et,2,1,"span",36),t.YNc(3,Lt,2,1,"span",37),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf","OK"!=e.statusCadastro),t.xp6(1),t.Q6J("ngIf","OK"==e.statusCadastro),t.xp6(2),t.Oqu(e.statusCadastro)}}function Dt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.YNc(1,jt,6,3,"td",23),t.TgZ(2,"td"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.ALo(23,"currency"),t.qZA(),t.TgZ(24,"td"),t._uU(25),t.ALo(26,"currency"),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.qZA(),t.TgZ(29,"td",32)(30,"button",34),t.NdJ("click",function(){const n=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.removeItem(n))}),t._uU(31,"excluir"),t.qZA()()()}if(2&o){const e=l.$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.retornoAPI),t.xp6(2),t.Oqu(t.xi3(4,13,e.dataTransacao,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.tipoCliente),t.xp6(2),t.Oqu(e.docCliente),t.xp6(2),t.Oqu(e.nomeCliente),t.xp6(2),t.Oqu(e.nomeComprador),t.xp6(2),t.Oqu(e.paisCompradorVendedor),t.xp6(2),t.Oqu(e.moeda),t.xp6(2),t.Oqu(e.tipoTransacao),t.xp6(2),t.Oqu(e.formaPagamento),t.xp6(2),t.Oqu(t.gM2(23,16,e.valorMoedaEstrangeira,"BRL","","1.2")),t.xp6(3),t.Oqu(t.gM2(26,21,e.valorMoedaNacional,"BRL","","1.2")),t.xp6(3),t.Oqu(e.statusOperacao)}}function Pt(o,l){if(1&o&&(t.TgZ(0,"p",43),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(e.erro)}}function Ht(o,l){1&o&&(t.TgZ(0,"p",43),t._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar"),t.qZA())}function Vt(o,l){if(1&o&&(t.TgZ(0,"div",41),t.YNc(1,Pt,2,1,"p",42),t.YNc(2,Ht,2,0,"p",42),t.qZA()),2&o){t.oxw();const e=t.MAs(1),a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.erro),t.xp6(1),t.Q6J("ngIf",e.invalid&&!a.erro)}}function kt(o,l){1&o&&t._UZ(0,"span",44)}function Rt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.send())}),t.TgZ(2,"label",6)(3,"p",7),t._UZ(4,"i",8),t.qZA(),t.TgZ(5,"h3"),t._uU(6,"Clique e arraste para selecionar arquivo"),t.qZA(),t.TgZ(7,"p"),t._uU(8,"ou "),t.TgZ(9,"label",9),t._uU(10,"clique aqui"),t.qZA(),t._uU(11," para abrir explorador de arquivos"),t.qZA(),t.TgZ(12,"p")(13,"small"),t._uU(14,"Voc\xea tamb\xe9m pode copiar e colar as linhas aqui para importar os dados"),t.qZA()(),t.TgZ(15,"input",10,11),t.NdJ("change",function(i){t.CHM(e);const n=t.oxw();return t.KtG(n.readExcel1(i))}),t.qZA()(),t.TgZ(17,"div",12)(18,"p-table",13),t.YNc(19,Bt,1,1,"ng-template",14),t.YNc(20,Dt,32,26,"ng-template",15),t.qZA()(),t.TgZ(21,"div",16)(22,"p",17),t._uU(23,"Clique aqui para saber como deve ser o arquivo XLSX"),t.qZA(),t.YNc(24,Vt,3,2,"div",18),t.TgZ(25,"button",19),t.YNc(26,kt,1,0,"span",20),t.TgZ(27,"span"),t._uU(28,"Salvar"),t.qZA()()()()}if(2&o){const e=t.MAs(1),a=t.oxw();t.xp6(18),t.Q6J("value",a.list)("globalFilterFields",a.filters)("filterDelay",100),t.xp6(6),t.Q6J("ngIf",a.erro||e.invalid),t.xp6(1),t.Q6J("disabled",e.invalid||a.loading),t.xp6(1),t.Q6J("ngIf",a.loading)}}let zt=(()=>{class o{constructor(e,a,i,n,r){this.toastr=e,this.modal=a,this.activatedRoute=i,this.pessoaOperacaoService=n,this.pessoaService=r,this.faUpload=b.cf$,this.faCircleXmark=b.WA2,this.faTriangleExclamation=b.ik8,this.faCircleCheck=b.fV7,this.loading=!1,this.modalOpen=!1,this.erro="",this.subscription=[],this.routerBack=["../"],this.list=[],this.filters=["cpf","nome","dataNascimento","situacaoCPF","dataInscricao","digito","anoObito","excel_Status","excel_Data_Cap","excel_Hora_Cap","excel_IdNum","excel_Erro"],this.currentDateFilter={dataTransacao:void 0},this.retornoAPI=!1,this.routeBackOptions={relativeTo:this.activatedRoute},this.modal.title.next("Importar Arquivo"),this.modal.style.next({width:"max-content","max-width":"95vw"}),this.modal.routerBack.next(this.routerBack),this.modal.activatedRoute.next(this.activatedRoute),this.modal.onPaste.subscribe(s=>{this.paste(s)})}ngAfterViewInit(){this.modal.template.next(this.template),this.modal.icon.next(this.icon),setTimeout(()=>{this.modal.setOpen(!0)},200)}primeNgDataFilter(e,a,i){e?a(new Date(e)):i.clearFilter()}paste(e){var a=e.clipboardData?.getData("text/plain").split("\r\n")??[],i=this.setNewId(this.list);for(var n of a){var r=n.split("\t");try{var s=this.formataData(r[0]),u=r[1],f=r[2]?r[2].toString().replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"").padStart(11,"0"):"",_=r[3],x=r[4],Z=r[5],v=r[6],T=r[7],O=r[8],I=r[9],N=r[10],m=r[11];if(Number.isNaN(Date.parse(s.toString())))this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Data de transa\xe7\xe3o inv\xe1lida.");else if(u.trim())if((0,j.v)(f))if(_.trim())if(x.trim())if(Z.trim())if(v.trim())if(T.trim())if(O.trim())if(I.trim())if(N.trim())if(m.trim()){var q={id:i++,dataTransacao:s,tipoCliente:u,docCliente:f,nomeCliente:_,nomeComprador:x,paisCompradorVendedor:Z,moeda:v,tipoTransacao:T,formaPagamento:O,valorMoedaEstrangeira:I,valorMoedaNacional:N,statusOperacao:m};this.list.push(q)}else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Status opera\xe7\xe3o n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Valor na moeda nacional n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Valor na moeda estrangeira n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Forma de pagamento n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Tipo de transa\xe7\xe3o n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Moeda n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Pa\xeds do comprador ou vendedor no exterior n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Nome do comprador ou vendedor no exterior n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Nome do Cliente no Brasil n\xe3o foi preenchido corretamente.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> CPF inv\xe1lido.");else this.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Tipo de Cliente no Brasil n\xe3o foi preenchido corretamente.")}catch{this.toastr.error("N\xe3o foi poss\xedvel importar linha. <br> Ignorando linha e processando pr\xf3xima.")}}}ngOnDestroy(){this.modal.setOpen(!1),this.subscription.forEach(e=>e.unsubscribe())}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions),this.modal.resetModal()}readExcel1(e){var a=e.target.files,i=new FileReader;!function n(r,s){if(r>=a.length)s.file.reset();else{var u=a[r];i.onload=function(f){var x=D.ij(i.result,{type:"binary"});x.SheetNames.reduce((v,T)=>{const O=x.Sheets[T];let I=s.setNewId(s.list);v[T]=D.P6.sheet_to_json(O,{rawNumbers:!1}),v[T].forEach(N=>{try{var m=Object.entries(N),q=s.formataData(m[0][1]),S=m[1][1],H=m[2][1]?m[2][1].toString().replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"").padStart(11,"0"):"",V=m[3][1],k=m[4][1],R=m[5][1],z=m[6][1],G=m[7][1],K=m[8][1],W=m[9][1],$=m[10][1],X=m[11][1];if(Number.isNaN(Date.parse(q.toString())))s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Data de transa\xe7\xe3o inv\xe1lida.");else if(S.trim())if((0,j.v)(H))if(V.trim())if(k.trim())if(R.trim())if(z.trim())if(G.trim())if(K.trim())if(W.trim())if($.trim())if(X.trim()){var ne={id:I++,dataTransacao:q,tipoCliente:S,docCliente:H,nomeCliente:V,nomeComprador:k,paisCompradorVendedor:R,moeda:z,tipoTransacao:G,formaPagamento:K,valorMoedaEstrangeira:W,valorMoedaNacional:$,statusOperacao:X};s.list.push(ne)}else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Status opera\xe7\xe3o n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Valor na moeda nacional n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Valor na moeda estrangeira n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Forma de pagamento n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Tipo de transa\xe7\xe3o n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Moeda n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Pa\xeds do comprador ou vendedor no exterior n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Nome do comprador ou vendedor no exterior n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Nome do Cliente no Brasil n\xe3o foi preenchido corretamente.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> CPF inv\xe1lido.");else s.toastr.error("N\xe3o foi poss\xedvel importar essa linha. <br> Tipo de Cliente no Brasil n\xe3o foi preenchido corretamente.")}catch(re){console.error(re),s.toastr.error("N\xe3o foi poss\xedvel importar uma linha. <br> Ignorando linha e processando pr\xf3xima.")}return console.log(s.list),v})},{}),n(r+1,s)},i.readAsBinaryString(u)}}(0,this)}setNewId(e){return((e=this.sortList(e)).length>0?e[e.length-1].id:0)+1}sortList(e){return e.sort((a,i)=>a.id-i.id)}removeItem(e){var a=this.list.findIndex(i=>i.id==e.id&&i.docCliente==e.docCliente);-1!=a?this.list.splice(a,1):this.toastr.error("N\xe3o foi poss\xedvel remover item.")}formataData(e,a,i){var n=0,r=0,s=0,u=e.split("/"),f=parseInt(u[2]),_=parseInt(u[1]),x=parseInt(u[0]);if(a){var Z=a.split(":");n=parseInt(Z[0]),r=parseInt(Z[1]),s=parseInt(Z[2])}return new Date(f,_,x,n,r,s)}send(){this.loading=!0,this.erro="";var e=Object.assign([],this.list);if(0==(e=e.map(a=>(delete a.id,delete a.statusCadastro,a))).length)return this.toastr.error("Nenhum item selecionado."),void(this.erro="Nenhum item selecionado.");(0,d.n)(this.pessoaOperacaoService.importacao(e)).then(a=>{(0,d.n)(this.pessoaOperacaoService.getList()),(0,d.n)(this.pessoaService.getList()),this.loading=!1,a.find(i=>"OK"!=i.statusCadastro)?(this.toastr.clear(),this.toastr.error("Alguns registros n\xe3o puderam ser salvos."),this.erro="Alguns registros n\xe3o puderam ser salvos.",this.list=a,this.retornoAPI=!0):this.voltar()}).catch(a=>{this.loading=!1,this.erro=(0,w.b)(a)})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(J._W),t.Y36(M.u),t.Y36(g.gz),t.Y36(C.m),t.Y36(U.N))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-importacao"]],viewQuery:function(a,i){if(1&a&&(t.Gf(qt,5),t.Gf(wt,5),t.Gf(Ft,5)),2&a){let n;t.iGM(n=t.CRH())&&(i.template=n.first),t.iGM(n=t.CRH())&&(i.icon=n.first),t.iGM(n=t.CRH())&&(i.file=n.first)}},hostBindings:function(a,i){1&a&&t.NdJ("paste",function(r){return i.paste(r)})},decls:5,vars:0,consts:[[3,"paste"],["icon",""],["template",""],["src","assets/img/icon-excel.png"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],["for","file",1,"input-file-container"],[1,"icon"],[1,"pi","pi-upload"],["for","file",1,"link"],["type","file","hidden","","name","file","id","file","multiple","","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",3,"ngModel","change"],["file","ngModel"],[1,"table-responsive","content"],["styleClass","table table-stripped p-datatable-striped",3,"value","globalFilterFields","filterDelay"],["pTemplate","header"],["pTemplate","body"],[1,"d-flex","align-items-start","flex-wrap","p-0","mt-1","px-2"],[1,"text-info"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ml-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","grey",4,"ngIf"],[1,"grey"],[4,"ngIf"],[1,"me-3"],[3,"field"],[3,"type","field","display","matchMode","showMatchModes","showAddButton","showOperator"],["dataTransacaoFilter",""],["pTemplate","filter"],[3,"type","field","display","matchMode","showMatchModes","showAddButton"],[1,"d-flex","align-items-center","justify-content-between"],[1,"me-auto"],[1,"td-actions"],["inputId","dataTransacao","dateFormat","dd/mm/yy",3,"ngModel","showIcon","ngModelChange","onClear","onBlur","onSelect"],["type","button",1,"btn","btn-small","btn-dark",3,"click"],[1,"d-flex","align-items-center"],["class","me-2 flag flag-text flag-danger",4,"ngIf"],["class","me-2 flag flag-text flag-green",4,"ngIf"],[1,"me-2","flag","flag-text","flag-danger"],[3,"icon"],[1,"me-2","flag","flag-text","flag-green"],[1,"m-0"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t.NdJ("paste",function(r){return i.paste(r)}),t.YNc(1,Jt,1,0,"ng-template",null,1,t.W1O),t.YNc(3,Rt,29,6,"ng-template",null,2,t.W1O),t.qZA())},dependencies:[h.O5,Q.BN,E.jx,c._Y,c.Fj,c.JJ,c.JL,c.On,c.F,y.iA,y.fz,y.xl,P.f,h.H9,h.uU],styles:[".input-file-container[_ngcontent-%COMP%]{width:99%;margin:10px 0;display:flex;flex-flow:column;padding:25px 20px;border:3px dashed rgb(var(--secondary));text-align:center;border-radius:27px;cursor:pointer;transition:.3s}.input-file-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:60px;color:rgb(var(--primary));margin-bottom:15px}.input-file-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:17px;margin-bottom:5px}.input-file-container[_ngcontent-%COMP%]:hover, .input-file-container[_ngcontent-%COMP%]:active{background-color:#0000000d}.content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom}"]})}return o})();var Gt=p(5861);const Kt=["template"],Wt=["icon"];function $t(o,l){1&o&&(t.O4$(),t.TgZ(0,"svg",2),t._UZ(1,"path",3)(2,"path",4),t.qZA())}function Xt(o,l){if(1&o&&(t.TgZ(0,"form",null,5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"label",9),t._uU(6,"Nome:"),t.qZA(),t._UZ(7,"input",10),t.qZA(),t.TgZ(8,"div",11)(9,"label",12),t._uU(10,"CPF:"),t.qZA(),t._UZ(11,"input",13),t.qZA()(),t.TgZ(12,"div",7)(13,"div",14)(14,"label",15),t._uU(15,"Data da Opera\xe7\xe3o:"),t.qZA(),t._UZ(16,"input",16),t.qZA(),t.TgZ(17,"div",14)(18,"label",17),t._uU(19,"Valor da Opera\xe7\xe3o:"),t.qZA(),t._UZ(20,"input",18),t.qZA()(),t.TgZ(21,"div",7)(22,"div",19)(23,"label",20),t._uU(24,"Limite Concedido:"),t.qZA(),t._UZ(25,"input",21),t.qZA(),t.TgZ(26,"div",19)(27,"label",22),t._uU(28,"Limite Utilizado:"),t.qZA(),t._UZ(29,"input",23),t.qZA(),t.TgZ(30,"div",19)(31,"label",24),t._uU(32,"Limite Atual:"),t.qZA(),t._UZ(33,"input",25),t.qZA(),t.TgZ(34,"div",26)(35,"label",27),t._uU(36,"Status Opera\xe7\xe3o:"),t.qZA(),t._UZ(37,"input",28),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(7),t.Q6J("value",e.objetoList.nomeCliente),t.xp6(4),t.Q6J("value",e.objetoList.cpfCliente),t.xp6(5),t.Q6J("value",e.objeto.data),t.xp6(4),t.Q6J("value",e.objetoList.valorOperacao),t.xp6(5),t.Q6J("value",e.objetoList.limiteConcedido),t.xp6(4),t.Q6J("value",e.objetoList.limiteUtilizado),t.xp6(4),t.Q6J("value",e.objetoList.limiteAtual),t.xp6(4),t.Q6J("value",e.objetoList.statusOperacao)}}const te=[{path:"",component:rt,children:[{path:"cadastrar",component:L},{path:"importar",component:zt},{path:"editar/:operacao_id",component:L},{path:"detalhes/:operacao_id",component:(()=>{class o{constructor(e,a,i,n,r,s,u){this.activatedRoute=e,this.toastr=a,this.modal=i,this.crypto=n,this.datepipe=r,this.pessoaService=s,this.pessoaOperacaoService=u,this.faFile=b.gMD,this.modalOpen=!1,this.objeto=new A.fs,this.objetoList=new A.cU,this.loading=!1,this.subscription=[],this.routerBack=["../../"],this.routeBackOptions={relativeTo:this.activatedRoute};var f=this.modal.getOpen().subscribe(_=>this.modalOpen=_);this.subscription.push(f),this.modal.title.next("Detalhes"),this.modal.style.next({"max-width":"600px"}),this.modal.routerBack.next(this.routerBack),this.modal.activatedRoute.next(this.activatedRoute)}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}ngAfterViewInit(){var e=this,a=this.activatedRoute.params.subscribe(function(){var i=(0,Gt.Z)(function*(n){if(n.operacao_id){if(e.objeto.id=e.crypto.decrypt(n.operacao_id),0==(r=e.pessoaOperacaoService.list.value).length)var r=yield(0,d.n)(e.pessoaOperacaoService.getList());if(e.objetoList=r.find(s=>s.id==e.objeto.id),!e.objetoList)return void e.voltar();e.objeto.data=e.datepipe.transform(new Date(e.objeto.data),"yyyy-MM-ddTHH:mm"),(0,d.n)(e.pessoaOperacaoService.get(e.objeto.id)).then(s=>{e.objeto=s}).catch(s=>{e.voltar()})}else e.voltar()});return function(n){return i.apply(this,arguments)}}());this.subscription.push(a),this.modal.template.next(this.template),this.modal.icon.next(this.icon),setTimeout(()=>{this.modal.setOpen(!0)},200)}voltar(){this.modal.voltar(this.routerBack,this.routeBackOptions)}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(g.gz),t.Y36(J._W),t.Y36(M.u),t.Y36(F.w),t.Y36(h.uU),t.Y36(U.N),t.Y36(C.m))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-details"]],viewQuery:function(a,i){if(1&a&&(t.Gf(Kt,5),t.Gf(Wt,5)),2&a){let n;t.iGM(n=t.CRH())&&(i.template=n.first),t.iGM(n=t.CRH())&&(i.icon=n.first)}},decls:4,vars:0,consts:[["icon",""],["template",""],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-file-earmark-post",2,"margin-top","-6px"],["d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"],["d","M4 6.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-7zm0-3a.5.5 0 0 1 .5-.5H7a.5.5 0 0 1 0 1H4.5a.5.5 0 0 1-.5-.5z"],["form","ngForm"],[1,"px-2"],[1,"row"],[1,"form-group","col-lg-9","col-md-6","col-12"],["for","nome"],["type","text","id","nome","name","nome","readonly","",1,"form-control",3,"value"],[1,"form-group","col-lg-3","col-md-6","col-12"],["for","cpfCliente"],["type","text","id","cpfCliente","name","cpfCliente","readonly","",1,"form-control",3,"value"],[1,"form-group","col-sm-6","col-12"],["for","dataOperacao"],["type","datetime-local","id","dataOperacao","name","dataOperacao","readonly","",1,"form-control",3,"value"],["for","valorOperacao"],["type","text","id","valorOperacao","name","valorOperacao","readonly","",1,"form-control",3,"value"],[1,"form-group","col-lg-4","col-md-6","col-sm-6","col-12"],["for","limiteConcedido"],["type","text","id","limiteConcedido","name","limiteConcedido","readonly","",1,"form-control",3,"value"],["for","limiteUtilizado"],["type","text","id","limiteUtilizado","name","limiteUtilizado","readonly","",1,"form-control",3,"value"],["for","limiteAtual"],["type","text","id","limiteAtual","name","limiteAtual","readonly","",1,"form-control",3,"value"],[1,"form-group","col-lg-6","col-md-6","col-sm-6","col-12"],["for","status"],["type","text","id","status","name","status","readonly","",1,"form-control",3,"value"]],template:function(a,i){1&a&&(t.YNc(0,$t,3,0,"ng-template",null,0,t.W1O),t.YNc(2,Xt,38,8,"ng-template",null,1,t.W1O))},dependencies:[c._Y,c.JL,c.F]})}return o})()},{path:"excluir/:operacao_id",component:Nt}]}];let ee=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(te),g.Bz]})}return o})();var oe=p(8839),ae=p(6208);let ie=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[h.ez,ee,Q.uH,B.kW,c.u5,oe.yI.forChild(),ae.m,y.U$,P._8]})}return o})()}}]);