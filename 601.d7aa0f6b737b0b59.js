"use strict";(self.webpackChunkZenTech=self.webpackChunkZenTech||[]).push([[601],{1005:(x,g,r)=>{r.d(g,{sB:()=>C,th:()=>p});var l=r(5219),d=r(2832);class p{constructor(){this.id=0,this.nome="",this.cidade_Id=void 0,this.cep="",this.numero="",this.logradouro=""}}var C=[{field:"nome",header:"Nome",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!0,filterShowMatchMode:!0,showOperator:!1,filterMatchMode:l.a6.CONTAINS},{field:"cidade",header:"Cidade",maskType:d.O.undefined,filterType:d.vA.text,filterDisplay:d.w2.menu,filterShowAddButton:!1,filterShowMatchMode:!1,showOperator:!1,filterMatchMode:l.a6.EQUALS}]},2996:(x,g,r)=>{r.d(g,{U:()=>V});var l=r(708),d=r(342),h=r(1005),p=r(6687),a=r(2855),e=r(9291),C=r(132),m=r(2667),A=r(2425),M=r(4809),P=r(8487),f=r(5462),T=r(6814),u=r(6223),Z=r(8839),O=r(2352);const b=["template"],I=["icon"],D=["cep"];function U(o,_){1&o&&(e.TgZ(0,"span",3),e.O4$(),e.TgZ(1,"svg",4),e._UZ(2,"path",5),e.qZA()())}function F(o,_){1&o&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function S(o,_){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,F,2,0,"p",36),e.qZA()),2&o){e.oxw();const t=e.MAs(10);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function B(o,_){1&o&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function L(o,_){1&o&&(e.TgZ(0,"p",12),e._uU(1,"CEP inv\xe1lido."),e.qZA())}function N(o,_){1&o&&(e.TgZ(0,"p",12),e._uU(1,"CEP inv\xe1lido."),e.qZA())}function R(o,_){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,B,2,0,"p",36),e.YNc(2,L,2,0,"p",36),e.YNc(3,N,2,0,"p",36),e.qZA()),2&o){e.oxw();const t=e.MAs(17);e.xp6(1),e.Q6J("ngIf",t.errors.required),e.xp6(1),e.Q6J("ngIf",t.errors.mask),e.xp6(1),e.Q6J("ngIf",t.errors.invalid)}}function K(o,_){1&o&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function w(o,_){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,K,2,0,"p",36),e.qZA()),2&o){e.oxw();const t=e.MAs(25);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function j(o,_){1&o&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function y(o,_){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,j,2,0,"p",36),e.qZA()),2&o){e.oxw();const t=e.MAs(33);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function W(o,_){1&o&&(e.TgZ(0,"p",12),e._uU(1,"Este campo \xe9 obrigat\xf3rio."),e.qZA())}function J(o,_){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,W,2,0,"p",36),e.qZA()),2&o){e.oxw();const t=e.MAs(42);e.xp6(1),e.Q6J("ngIf",t.errors.required)}}function Y(o,_){if(1&o&&(e.TgZ(0,"p",12),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Oqu(t.erro)}}function Q(o,_){1&o&&(e.TgZ(0,"p",12),e._uU(1,"Preencha todos os campos obrigat\xf3rios (*) corretamente para salvar."),e.qZA())}function q(o,_){if(1&o&&(e.TgZ(0,"div",37),e.YNc(1,Y,2,1,"p",36),e.YNc(2,Q,2,0,"p",36),e.qZA()),2&o){e.oxw();const t=e.MAs(1),n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.erro),e.xp6(1),e.Q6J("ngIf",t.invalid&&!n.erro)}}function H(o,_){1&o&&e._UZ(0,"span",38)}function G(o,_){if(1&o){const t=e.EpF();e.TgZ(0,"form",6,7),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.MAs(1),s=e.oxw();return e.KtG(s.send(i))}),e.TgZ(2,"div",8)(3,"div",9)(4,"div",10)(5,"label",11),e._uU(6,"Nome: "),e.TgZ(7,"span",12),e._uU(8,"*"),e.qZA()(),e.TgZ(9,"input",13,14),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.objeto.nome=i)})("change",function(){e.CHM(t);const i=e.MAs(10),s=e.oxw();return e.KtG(s.objeto.nome=i.value.trim())}),e.qZA(),e.YNc(11,S,2,1,"div",15),e.qZA()(),e.TgZ(12,"div",9)(13,"div",16)(14,"label",17),e._uU(15,"CEP:"),e.qZA(),e.TgZ(16,"input",18,19),e.NdJ("blur",function(){e.CHM(t);const i=e.MAs(17),s=e.oxw();return e.KtG(s.buscaCEP(i))})("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.objeto.cep=i)}),e.qZA(),e.YNc(18,R,4,3,"div",15),e.qZA(),e.TgZ(19,"div",20)(20,"label",21),e._uU(21,"Logradouro: "),e.TgZ(22,"span",12),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"input",22,23),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.objeto.logradouro=i)})("change",function(){e.CHM(t);const i=e.MAs(25),s=e.oxw();return e.KtG(s.objeto.logradouro=i.value.trim())}),e.qZA(),e.YNc(26,w,2,1,"div",15),e.qZA(),e.TgZ(27,"div",24)(28,"label",25),e._uU(29,"N\xb0: "),e.TgZ(30,"span",12),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"input",26,27),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.objeto.numero=i)})("change",function(){e.CHM(t);const i=e.MAs(33),s=e.oxw();return e.KtG(s.objeto.numero=i.value.trim())}),e.qZA(),e.YNc(34,y,2,1,"div",15),e.qZA()(),e.TgZ(35,"div",9)(36,"div",28)(37,"label",29),e._uU(38,"Cidade: "),e.TgZ(39,"span",12),e._uU(40,"*"),e.qZA()(),e.TgZ(41,"p-dropdown",30,31),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.objeto.cidade_Id=i)}),e.qZA(),e.YNc(43,J,2,1,"div",15),e.qZA()(),e.TgZ(44,"div",9)(45,"div",32),e.YNc(46,q,3,2,"div",33),e.TgZ(47,"button",34),e.YNc(48,H,1,0,"span",35),e.TgZ(49,"span"),e._uU(50,"Salvar"),e.qZA()()()()()()}if(2&o){const t=e.MAs(1),n=e.MAs(10),i=e.MAs(17),s=e.MAs(25),E=e.MAs(33),v=e.MAs(42),c=e.oxw();e.xp6(9),e.Q6J("ngModel",c.objeto.nome),e.xp6(2),e.Q6J("ngIf",n.touched&&n.errors),e.xp6(5),e.Q6J("ngModel",c.objeto.cep),e.xp6(2),e.Q6J("ngIf",i.touched&&i.errors),e.xp6(6),e.Q6J("ngModel",c.objeto.logradouro)("disabled",c.cepPreenchido),e.xp6(2),e.Q6J("ngIf",s.touched&&s.errors),e.xp6(6),e.Q6J("ngModel",c.objeto.numero),e.xp6(2),e.Q6J("ngIf",E.touched&&E.errors),e.xp6(7),e.Q6J("options",c.cidades)("ngModel",c.objeto.cidade_Id)("styleClass","form-control"+(c.loadingCidades?"form-control-loading":""))("placeholder","Selecione")("disabled",c.loadingCidades)("virtualScroll",!0)("virtualScrollItemSize",10)("required",!0)("filter",!0)("showClear",!0),e.xp6(2),e.Q6J("ngIf",v.touched&&v.errors),e.xp6(3),e.Q6J("ngIf",c.erro||t.invalid),e.xp6(1),e.Q6J("disabled",t.invalid||c.loading),e.xp6(1),e.Q6J("ngIf",c.loading)}}let V=(()=>{class o{constructor(t,n,i,s,E,v,c){this.activatedRoute=t,this.modalService=n,this.crypto=i,this.toastr=s,this.bancoService=E,this.cepService=v,this.cidadeService=c,this.objeto=new h.th,this.erro="",this.loading=!1,this.loadingCep=!1,this.subscription=[],this.isEditPage=!1,this.modal=new a.u,this.cepPreenchido=!1,this.cidades=[],this.loadingCidades=!1,console.log("banco"),(0,l.n)(this.cidadeService.getCidade()).then(z=>{this.cidades=z,this.loadingCidades=!1})}ngAfterViewInit(){this.modal.id=0,this.modal.template=this.template,this.modal.icon=this.icon,this.modal.style={"max-width":"650px",overflow:"visible"},this.modal.activatedRoute=this.activatedRoute,this.modal.routerBackOptions={relativeTo:this.activatedRoute};var t=this.activatedRoute.params.subscribe(n=>{n.banco_id?(this.objeto.id=this.crypto.decrypt(n.banco_id),this.modal.title="Editar Banco",this.modal.routerBack=["../../"],this.isEditPage=!0,(0,l.n)(this.bancoService.get(this.objeto.id)).then(i=>{this.objeto=i,this.objeto.cep=this.objeto.cep.toString().padStart(8,"0"),setTimeout(()=>{this.modal=this.modalService.addModal(this.modal,"banco")},200)}).catch(i=>{console.log(i),this.voltar()})):(this.modal.title="Cadastrar Banco",this.modal.routerBack=["../"],this.isEditPage=!1,this.objeto.cidade_Id=5270,setTimeout(()=>{console.log("oi"),this.modal=this.modalService.addModal(this.modal,"banco")},200))});this.subscription.push(t)}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}voltar(){this.modalService.removeModal(this.modal.id)}buscaCEP(t){if(this.loadingCep=!0,t.control.setErrors(null),!this.validaCep(t))return this.toastr.error("CEP inv\xe1lido."),void t.control.setErrors({invalid:!0});this.cepPreenchido=!1,(0,l.n)(this.cepService.buscar(this.objeto.cep)).then(n=>{if(1==n.erro)return this.toastr.error("CEP inv\xe1lido."),t.control.setErrors({invalid:!0}),void(this.cepPreenchido=!1);this.objeto.logradouro=n.logradouro+" , "+n.bairro+" - "+n.uf;var i=n.localidade.toLowerCase(),s=this.cidades.find(E=>{var v=E.nomeCidade.toLowerCase(),c=E.sigla.toLowerCase();return(v==i||i.includes(v)||v.includes(i))&&n.uf.toLowerCase()==c});s&&(this.objeto.cidade_Id=s.id),this.cepPreenchido=!1}).catch(n=>{this.toastr.error("N\xe3o foi poss\xedvel carregar CEP")}).finally(()=>this.loadingCep=!1)}validaCep(t){return this.loadingCep=!0,this.objeto.cep.trim()?8!=this.objeto.cep.trim().length?(setTimeout(()=>{t.control.setErrors({invalid:!0})},300),this.loadingCep=!1,!1):(0,p.c)(this.objeto.cep)?(this.loadingCep=!1,setTimeout(()=>{t.control.setErrors(null)},300),!0):(setTimeout(()=>{t.control.setErrors({invalid:!0})},300),this.loadingCep=!1,!1):(setTimeout(()=>{t.control.setErrors({required:!0})},300),this.loadingCep=!1,!1)}send(t){if(t.invalid)return this.toastr.error("Campos inv\xe1lidos"),void(this.erro="Campos inv\xe1lidos");this.erro="",this.request().then(n=>{this.loading=!1,1==n.sucesso?((0,l.n)(this.bancoService.getList()),this.voltar()):(this.erro=n.mensagem,this.toastr.error(n.mensagem))}).catch(n=>{this.loading=!1,this.erro=(0,d.b)(n)})}request(){return(0,l.n)(0==this.objeto.id?this.bancoService.create(this.objeto):this.bancoService.edit(this.objeto))}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(C.gz),e.Y36(a.Z),e.Y36(m.w),e.Y36(A._W),e.Y36(M.r),e.Y36(P.q),e.Y36(f.j))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-form"]],viewQuery:function(n,i){if(1&n&&(e.Gf(b,5),e.Gf(I,5),e.Gf(D,5)),2&n){let s;e.iGM(s=e.CRH())&&(i.template=s.first),e.iGM(s=e.CRH())&&(i.icon=s.first),e.iGM(s=e.CRH())&&(i.cep=s.first)}},decls:4,vars:0,consts:[["class","align-items-center"],["icon",""],["template",""],[1,"title-icon"],["xmlns","http://www.w3.org/2000/svg","height","16","width","16","viewBox","0 0 512 512","fill","currentColor"],["d","M243.4 2.6l-224 96c-14 6-21.8 21-18.7 35.8S16.8 160 32 160v8c0 13.3 10.7 24 24 24H456c13.3 0 24-10.7 24-24v-8c15.2 0 28.3-10.7 31.3-25.6s-4.8-29.9-18.7-35.8l-224-96c-8-3.4-17.2-3.4-25.2 0zM128 224H64V420.3c-.6 .3-1.2 .7-1.8 1.1l-48 32c-11.7 7.8-17 22.4-12.9 35.9S17.9 512 32 512H480c14.1 0 26.5-9.2 30.6-22.7s-1.1-28.1-12.9-35.9l-48-32c-.6-.4-1.2-.7-1.8-1.1V224H384V416H344V224H280V416H232V224H168V416H128V224zM256 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"],[1,"needs-validation",3,"ngSubmit"],["form","ngForm"],[1,"px-2"],[1,"row"],[1,"form-group","col-md-12","col-sm-12"],["for","nome"],[1,"text-danger"],["type","text","name","nome","id","nome","pattern","\\S(.*\\S)?","required","",1,"form-control",3,"ngModel","ngModelChange","change"],["nome","ngModel"],[4,"ngIf"],[1,"form-group","col-md-3","col-sm-3"],["for","cep"],["type","text","placeholder","00000-000","mask","00000-000","name","cep","id","cep","required","",1,"form-control",3,"ngModel","blur","ngModelChange"],["cep","ngModel"],[1,"form-group","col-md-6","col-sm-12"],["for","logradouro"],["type","text","name","logradouro","id","logradouro","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","disabled","ngModelChange","change"],["logradouro","ngModel"],[1,"form-group","col-md-3","col-sm-12"],["for","cNumero"],["type","text","name","cNumero","id","cNumero","required","","pattern","\\S(.*\\S)?",1,"form-control",3,"ngModel","ngModelChange","change"],["cNumero","ngModel"],[1,"form-group"],["for","cidade_Id"],["optionLabel","nomeCidade","optionValue","id","name","cidade_Id","inputId","cidade_Id","filterBy","nomeCidade",3,"options","ngModel","styleClass","placeholder","disabled","virtualScroll","virtualScrollItemSize","required","filter","showClear","ngModelChange"],["cidade_Id","ngModel"],[1,"d-flex","align-items-center"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ms-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"m-0"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,i){1&n&&(e.YNc(0,U,3,0,"ng-template",0,1,e.W1O),e.YNc(2,G,51,23,"ng-template",null,2,e.W1O))},dependencies:[T.O5,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.c5,u.On,u.F,Z.hx,O.Lt]})}return o})()},5462:(x,g,r)=>{r.d(g,{j:()=>A});var l=r(9862),d=r(5619),h=r(9397),p=r(2096),a=r(553),e=r(9291),C=r(8787),m=r(2425);let A=(()=>{class M{constructor(f,T,u){this.table=f,this.http=T,this.toastr=u,this.url=a.N.url,this.cidades=new d.X([])}getCidade(){return this.http.get(`${this.url}/cidade/`,{headers:new l.WM({loading:"false"})}).pipe((0,h.b)({next:f=>(this.cidades.next(f),(0,p.of)(f)),error:f=>this.toastr.error("N\xe3o foi poss\xedvel carregar listagem de status da opera\xe7\xe3o.")}))}static#e=this.\u0275fac=function(T){return new(T||M)(e.LFG(C.i),e.LFG(l.eN),e.LFG(m._W))};static#t=this.\u0275prov=e.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},7280:(x,g,r)=>{r.d(g,{D:()=>h});var l=r(3045),h={path:"minha-conta",component:r(2369).c,data:{modalOrder:10},children:[{path:"change-password",component:l.p,data:{modalOrder:11}}]}},6687:(x,g,r)=>{function l(p){var a=p.toString().replace(/^\s+|\s+$/g,""),e=parseInt(a);return!(Number.isNaN(e)||0==e||a.length>8||(a=a.padStart(8,"0"),8!=a.length)||function d(p){return p.split("").every(a=>a===p[0])}(a)||function h(p){var a=p+"";return(a=a.split("")).every((C,m)=>m===a.length-1||C<a[m+1])}(e))}r.d(g,{c:()=>l})}}]);